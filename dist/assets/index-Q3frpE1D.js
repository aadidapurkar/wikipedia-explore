(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(n){if(n.ep)return;n.ep=!0;const o=t(n);fetch(n.href,o)}})();var Rm=function(i,e){return Rm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])},Rm(i,e)};function Km(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Rm(i,e);function t(){this.constructor=i}i.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Jo=function(){return Jo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jo.apply(this,arguments)};function yB(i,e){var t={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(t[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(i);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(i,r[n])&&(t[r[n]]=i[r[n]]);return t}function mB(i,e,t,r){function n(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(d){try{l(r.next(d))}catch(c){s(c)}}function u(d){try{l(r.throw(d))}catch(c){s(c)}}function l(d){d.done?o(d.value):n(d.value).then(a,u)}l((r=r.apply(i,e||[])).next())})}function HF(i,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,n,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(l){return function(d){return u([l,d])}}function u(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(t=0)),t;)try{if(r=1,n&&(o=l[0]&2?n.return:l[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,l[1])).done)return o;switch(n=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return t.label++,{value:l[1],done:!1};case 5:t.label++,n=l[1],l=[0];continue;case 7:l=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){t=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){t.label=l[1];break}if(l[0]===6&&t.label<o[1]){t.label=o[1],o=l;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(l);break}o[2]&&t.ops.pop(),t.trys.pop();continue}l=e.call(i,t)}catch(d){l=[6,d],n=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Ln(i){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&i[e],r=0;if(t)return t.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&r>=i.length&&(i=void 0),{value:i&&i[r++],done:!i}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zn(i,e){var t=typeof Symbol=="function"&&i[Symbol.iterator];if(!t)return i;var r=t.call(i),n,o=[],s;try{for(;(e===void 0||e-- >0)&&!(n=r.next()).done;)o.push(n.value)}catch(a){s={error:a}}finally{try{n&&!n.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function Zo(i,e,t){if(t||arguments.length===2)for(var r=0,n=e.length,o;r<n;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return i.concat(o||Array.prototype.slice.call(e))}function xi(i){return this instanceof xi?(this.v=i,this):new xi(i)}function bB(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(i,e||[]),n,o=[];return n=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),n[Symbol.asyncIterator]=function(){return this},n;function s(f){return function(v){return Promise.resolve(v).then(f,c)}}function a(f,v){r[f]&&(n[f]=function(p){return new Promise(function(b,y){o.push([f,p,b,y])>1||u(f,p)})},v&&(n[f]=v(n[f])))}function u(f,v){try{l(r[f](v))}catch(p){h(o[0][3],p)}}function l(f){f.value instanceof xi?Promise.resolve(f.value.v).then(d,c):h(o[0][2],f)}function d(f){u("next",f)}function c(f){u("throw",f)}function h(f,v){f(v),o.shift(),o.length&&u(o[0][0],o[0][1])}}function _B(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof Ln=="function"?Ln(i):i[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=i[o]&&function(s){return new Promise(function(a,u){s=i[o](s),n(a,u,s.done,s.value)})}}function n(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}function ve(i){return typeof i=="function"}function wB(i){var e=function(r){Error.call(r),r.stack=new Error().stack},t=i(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ta=wB(function(i){return function(t){i(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(r,n){return n+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function d1(i,e){if(i){var t=i.indexOf(e);0<=t&&i.splice(t,1)}}var Ym=(function(){function i(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return i.prototype.unsubscribe=function(){var e,t,r,n,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var a=Ln(s),u=a.next();!u.done;u=a.next()){var l=u.value;l.remove(this)}}catch(p){e={error:p}}finally{try{u&&!u.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else s.remove(this);var d=this.initialTeardown;if(ve(d))try{d()}catch(p){o=p instanceof ta?p.errors:[p]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var h=Ln(c),f=h.next();!f.done;f=h.next()){var v=f.value;try{c1(v)}catch(p){o=o??[],p instanceof ta?o=Zo(Zo([],zn(o)),zn(p.errors)):o.push(p)}}}catch(p){r={error:p}}finally{try{f&&!f.done&&(n=h.return)&&n.call(h)}finally{if(r)throw r.error}}}if(o)throw new ta(o)}},i.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)c1(e);else{if(e instanceof i){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},i.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},i.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},i.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&d1(t,e)},i.prototype.remove=function(e){var t=this._finalizers;t&&d1(t,e),e instanceof i&&e._removeParent(this)},i.EMPTY=(function(){var e=new i;return e.closed=!0,e})(),i})();Ym.EMPTY;function UF(i){return i instanceof Ym||i&&"closed"in i&&ve(i.remove)&&ve(i.add)&&ve(i.unsubscribe)}function c1(i){ve(i)?i():i.unsubscribe()}var EB={Promise:void 0},SB={setTimeout:function(i,e){for(var t=[],r=2;r<arguments.length;r++)t[r-2]=arguments[r];return setTimeout.apply(void 0,Zo([i,e],zn(t)))},clearTimeout:function(i){return clearTimeout(i)},delegate:void 0};function VF(i){SB.setTimeout(function(){throw i})}function h1(){}function OB(i){i()}var Xm=(function(i){Km(e,i);function e(t){var r=i.call(this)||this;return r.isStopped=!1,t?(r.destination=t,UF(t)&&t.add(r)):r.destination=TB,r}return e.create=function(t,r,n){return new qm(t,r,n)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,i.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e})(Ym),IB=(function(){function i(e){this.partialObserver=e}return i.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(r){ko(r)}},i.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(r){ko(r)}else ko(e)},i.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){ko(t)}},i})(),qm=(function(i){Km(e,i);function e(t,r,n){var o=i.call(this)||this,s;return ve(t)||!t?s={next:t??void 0,error:r??void 0,complete:n??void 0}:s=t,o.destination=new IB(s),o}return e})(Xm);function ko(i){VF(i)}function $B(i){throw i}var TB={closed:!0,next:h1,error:$B,complete:h1},Jm=(function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"})();function GF(i){return i}function PB(i){return i.length===0?GF:i.length===1?i[0]:function(t){return i.reduce(function(r,n){return n(r)},t)}}var mt=(function(){function i(e){e&&(this._subscribe=e)}return i.prototype.lift=function(e){var t=new i;return t.source=this,t.operator=e,t},i.prototype.subscribe=function(e,t,r){var n=this,o=qB(e)?e:new qm(e,t,r);return OB(function(){var s=n,a=s.operator,u=s.source;o.add(a?a.call(o,u):u?n._subscribe(o):n._trySubscribe(o))}),o},i.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},i.prototype.forEach=function(e,t){var r=this;return t=f1(t),new t(function(n,o){var s=new qm({next:function(a){try{e(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:n});r.subscribe(s)})},i.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},i.prototype[Jm]=function(){return this},i.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return PB(e)(this)},i.prototype.toPromise=function(e){var t=this;return e=f1(e),new e(function(r,n){var o;t.subscribe(function(s){return o=s},function(s){return n(s)},function(){return r(o)})})},i.create=function(e){return new i(e)},i})();function f1(i){var e;return(e=i??EB.Promise)!==null&&e!==void 0?e:Promise}function RB(i){return i&&ve(i.next)&&ve(i.error)&&ve(i.complete)}function qB(i){return i&&i instanceof Xm||RB(i)&&UF(i)}function CB(i){return ve(i?.lift)}function Er(i){return function(e){if(CB(e))return e.lift(function(t){try{return i(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Lt(i,e,t,r,n){return new xB(i,e,t,r,n)}var xB=(function(i){Km(e,i);function e(t,r,n,o,s,a){var u=i.call(this,t)||this;return u.onFinalize=s,u.shouldUnsubscribe=a,u._next=r?function(l){try{r(l)}catch(d){t.error(d)}}:i.prototype._next,u._error=o?function(l){try{o(l)}catch(d){t.error(d)}finally{this.unsubscribe()}}:i.prototype._error,u._complete=n?function(){try{n()}catch(l){t.error(l)}finally{this.unsubscribe()}}:i.prototype._complete,u}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;i.prototype.unsubscribe.call(this),!r&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e})(Xm),DB=new mt(function(i){return i.complete()});function AB(i){return i&&ve(i.schedule)}function KF(i){return i[i.length-1]}function Zm(i){return AB(KF(i))?i.pop():void 0}function MB(i,e){return typeof KF(i)=="number"?i.pop():e}var Qm=(function(i){return i&&typeof i.length=="number"&&typeof i!="function"});function YF(i){return ve(i?.then)}function XF(i){return ve(i[Jm])}function JF(i){return Symbol.asyncIterator&&ve(i?.[Symbol.asyncIterator])}function ZF(i){return new TypeError("You provided "+(i!==null&&typeof i=="object"?"an invalid object":"'"+i+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function FB(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var QF=FB();function eN(i){return ve(i?.[QF])}function tN(i){return bB(this,arguments,function(){var t,r,n,o;return HF(this,function(s){switch(s.label){case 0:t=i.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,xi(t.read())];case 3:return r=s.sent(),n=r.value,o=r.done,o?[4,xi(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,xi(n)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function rN(i){return ve(i?.getReader)}function zt(i){if(i instanceof mt)return i;if(i!=null){if(XF(i))return NB(i);if(Qm(i))return kB(i);if(YF(i))return BB(i);if(JF(i))return iN(i);if(eN(i))return jB(i);if(rN(i))return LB(i)}throw ZF(i)}function NB(i){return new mt(function(e){var t=i[Jm]();if(ve(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function kB(i){return new mt(function(e){for(var t=0;t<i.length&&!e.closed;t++)e.next(i[t]);e.complete()})}function BB(i){return new mt(function(e){i.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,VF)})}function jB(i){return new mt(function(e){var t,r;try{for(var n=Ln(i),o=n.next();!o.done;o=n.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){t={error:a}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(t)throw t.error}}e.complete()})}function iN(i){return new mt(function(e){zB(i,e).catch(function(t){return e.error(t)})})}function LB(i){return iN(tN(i))}function zB(i,e){var t,r,n,o;return mB(this,void 0,void 0,function(){var s,a;return HF(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),t=_B(i),u.label=1;case 1:return[4,t.next()];case 2:if(r=u.sent(),!!r.done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=u.sent(),n={error:a},[3,11];case 6:return u.trys.push([6,,9,10]),r&&!r.done&&(o=t.return)?[4,o.call(t)]:[3,8];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(n)throw n.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Wr(i,e,t,r,n){r===void 0&&(r=0),n===void 0&&(n=!1);var o=e.schedule(function(){t(),n?i.add(this.schedule(null,r)):this.unsubscribe()},r);if(i.add(o),!n)return o}function nN(i,e){return e===void 0&&(e=0),Er(function(t,r){t.subscribe(Lt(r,function(n){return Wr(r,i,function(){return r.next(n)},e)},function(){return Wr(r,i,function(){return r.complete()},e)},function(n){return Wr(r,i,function(){return r.error(n)},e)}))})}function oN(i,e){return e===void 0&&(e=0),Er(function(t,r){r.add(i.schedule(function(){return t.subscribe(r)},e))})}function WB(i,e){return zt(i).pipe(oN(e),nN(e))}function HB(i,e){return zt(i).pipe(oN(e),nN(e))}function UB(i,e){return new mt(function(t){var r=0;return e.schedule(function(){r===i.length?t.complete():(t.next(i[r++]),t.closed||this.schedule())})})}function VB(i,e){return new mt(function(t){var r;return Wr(t,e,function(){r=i[QF](),Wr(t,e,function(){var n,o,s;try{n=r.next(),o=n.value,s=n.done}catch(a){t.error(a);return}s?t.complete():t.next(o)},0,!0)}),function(){return ve(r?.return)&&r.return()}})}function sN(i,e){if(!i)throw new Error("Iterable cannot be null");return new mt(function(t){Wr(t,e,function(){var r=i[Symbol.asyncIterator]();Wr(t,e,function(){r.next().then(function(n){n.done?t.complete():t.next(n.value)})},0,!0)})})}function GB(i,e){return sN(tN(i),e)}function KB(i,e){if(i!=null){if(XF(i))return WB(i,e);if(Qm(i))return UB(i,e);if(YF(i))return HB(i,e);if(JF(i))return sN(i,e);if(eN(i))return VB(i,e);if(rN(i))return GB(i,e)}throw ZF(i)}function eb(i,e){return e?KB(i,e):zt(i)}function Qo(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var t=Zm(i);return eb(i,t)}function Ze(i,e){return Er(function(t,r){var n=0;t.subscribe(Lt(r,function(o){r.next(i.call(e,o,n++))}))})}var YB=Array.isArray;function XB(i,e){return YB(e)?i.apply(void 0,Zo([],zn(e))):i(e)}function JB(i){return Ze(function(e){return XB(i,e)})}function ZB(i,e,t,r,n,o,s,a){var u=[],l=0,d=0,c=!1,h=function(){c&&!u.length&&!l&&e.complete()},f=function(p){return l<r?v(p):u.push(p)},v=function(p){l++;var b=!1;zt(t(p,d++)).subscribe(Lt(e,function(y){e.next(y)},function(){b=!0},void 0,function(){if(b)try{l--;for(var y=function(){var g=u.shift();s||v(g)};u.length&&l<r;)y();h()}catch(g){e.error(g)}}))};return i.subscribe(Lt(e,f,function(){c=!0,h()})),function(){}}function tb(i,e,t){return t===void 0&&(t=1/0),ve(e)?tb(function(r,n){return Ze(function(o,s){return e(r,o,n,s)})(zt(i(r,n)))},t):(typeof e=="number"&&(t=e),Er(function(r,n){return ZB(r,n,i,t)}))}function aN(i){return i===void 0&&(i=1/0),tb(GF,i)}function QB(){return aN(1)}function ej(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];return QB()(eb(i,Zm(i)))}var tj=["addListener","removeListener"],rj=["addEventListener","removeEventListener"],ij=["on","off"];function nt(i,e,t,r){if(ve(t)&&(r=t,t=void 0),r)return nt(i,e,t).pipe(JB(r));var n=zn(sj(i)?rj.map(function(a){return function(u){return i[a](e,u,t)}}):nj(i)?tj.map(v1(i,e)):oj(i)?ij.map(v1(i,e)):[],2),o=n[0],s=n[1];if(!o&&Qm(i))return tb(function(a){return nt(a,e,t)})(zt(i));if(!o)throw new TypeError("Invalid event target");return new mt(function(a){var u=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return a.next(1<l.length?l:l[0])};return o(u),function(){return s(u)}})}function v1(i,e){return function(t){return function(r){return i[t](e,r)}}}function nj(i){return ve(i.addListener)&&ve(i.removeListener)}function oj(i){return ve(i.on)&&ve(i.off)}function sj(i){return ve(i.addEventListener)&&ve(i.removeEventListener)}function rb(){for(var i=[],e=0;e<arguments.length;e++)i[e]=arguments[e];var t=Zm(i),r=MB(i,1/0),n=i;return n.length?n.length===1?zt(n[0]):aN(r)(eb(n,t)):DB}function uN(i,e){return Er(function(t,r){var n=0;t.subscribe(Lt(r,function(o){return i.call(e,o,n++)&&r.next(o)}))})}function ib(i){return Er(function(e,t){var r=null,n=!1,o;r=e.subscribe(Lt(t,void 0,void 0,function(s){o=zt(i(s,ib(i)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):n=!0})),n&&(r.unsubscribe(),r=null,o.subscribe(t))})}function aj(i,e,t,r,n){return function(o,s){var a=t,u=e,l=0;o.subscribe(Lt(s,function(d){var c=l++;u=a?i(u,d,c):(a=!0,d),s.next(u)},n))}}function uj(i,e){return Er(aj(i,e,arguments.length>=2,!0))}function es(i,e){return Er(function(t,r){var n=null,o=0,s=!1,a=function(){return s&&!n&&r.complete()};t.subscribe(Lt(r,function(u){n?.unsubscribe();var l=0,d=o++;zt(i(u,d)).subscribe(n=Lt(r,function(c){return r.next(e?e(u,c,d,l++):c)},function(){n=null,a()}))},function(){s=!0,a()}))})}function lj(i,e){e===void 0&&(e={});var t=e.selector,r=yB(e,["selector"]);return new mt(function(n){var o=new AbortController,s=o.signal,a=!0,u=r.signal;if(u)if(u.aborted)o.abort();else{var l=function(){s.aborted||o.abort()};u.addEventListener("abort",l),n.add(function(){return u.removeEventListener("abort",l)})}var d=Jo(Jo({},r),{signal:s}),c=function(h){a=!1,n.error(h)};return fetch(i,d).then(function(h){t?zt(t(h)).subscribe(Lt(n,void 0,function(){a=!1,n.complete()},c)):(a=!1,n.next(h),n.complete())}).catch(c),function(){a&&o.abort()}})}const lN=i=>i.json(),dj=i=>`https://en.wikipedia.org/w/api.php?action=query&list=search&format=json&srsearch=${i}&srlimit=1&srprop=snippet&origin=*`,cj=i=>{const e=[...i];for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e},dN=()=>{document.getElementById("toast").classList.add("hidden")},ra=(i,e)=>{i.forEach(t=>t.style.visibility=e)},p1=["random","default"],hj={topics:[],pref:"default",limit:500,graph:{nodes:[],edges:[]},isLoading:!1};class g1{constructor(e){this.isLoading=e}apply(e){return{...e,isLoading:this.isLoading}}}class y1{constructor(e){this.limit=e}apply(e){return{...e,limit:this.limit}}}class m1{constructor(e){this.pref=e}apply(e){return{...e,pref:this.pref}}}class fj{constructor(e){this.rootTopic=e}apply(e){return{...e,currTopic:0,topics:[this.rootTopic],graph:{nodes:[{id:this.rootTopic.title,label:`ROOT ${this.rootTopic.title}`,color:"#c9e4ff",size:30}],edges:[]},isLoading:!1}}}class vj{constructor(e,t){this.newTopic=e,this.currTopicIndex=t}apply(e){const t=e.topics[this.currTopicIndex],r={id:this.newTopic.title,label:this.newTopic.title,color:"black"},n={id:`${t.title}-${this.newTopic.title}`,from:t.title,to:this.newTopic.title};return{...e,currTopic:this.currTopicIndex+1,topics:e.topics.slice(0,this.currTopicIndex+1).concat(this.newTopic),graph:{nodes:e.graph.nodes.concat([r]),edges:e.graph.edges.concat([n])}}}}class cN{constructor(e){this.changeAmount=e}apply(e){if(e.currTopic===void 0)return e;const r=e.currTopic+this.changeAmount>=0&&e.currTopic+this.changeAmount<=e.topics.length-1?e.currTopic+this.changeAmount:e.currTopic;return{...e,currTopic:r}}}const hN=document.getElementById("inputTopic"),pj=document.getElementsByClassName("topicText")[0],gj=document.getElementById("btnExploreTopic"),yj=document.getElementById("btnBack"),mj=document.getElementById("btnForward"),bj=document.getElementById("subtopicContainer"),b1=document.getElementById("selectSubtopicOrder"),_1=document.getElementById("inputSubtopicLimit"),_j=nt(_1,"input").pipe(Ze(i=>{const e=parseInt(_1.value);return e>0?new y1(e):new y1(100)})),wj=nt(b1,"change").pipe(Ze(i=>{const e=b1.value;return p1.includes(e)?new m1(e):new m1(p1[0])})),Ej=nt(yj,"click").pipe(Ze(i=>new cN(-1))),Sj=nt(mj,"click").pipe(Ze(i=>new cN(1))),Oj=nt(bj,"click").pipe(uN(i=>i.target.tagName.toLowerCase()==="p"),Ze(i=>i.target.textContent),Ze(i=>[pj.id,i]),es(([i,e])=>pN(e).pipe(Ze(t=>[parseInt(i),{title:e,subtopics:t}]))),Ze(([i,e])=>new vj(e,i))),fN=nt(gj,"click"),vN=nt(hN,"keydown").pipe(uN(i=>i.key==="Enter")),Ij=rb(fN,vN).pipe(Ze(i=>hN.value),es(i=>ej(Qo(new g1(!0)),gN(dj(i),lN).pipe(Ze(e=>e.query.search[0].title),es(e=>pN(e).pipe(Ze(t=>({title:e,subtopics:t})))),Ze(e=>new fj(e)),ib(e=>(console.error(e),Qo(new g1(!1)))))))),pN=i=>gN(`https://en.wikipedia.org/w/api.php?action=query&format=json&titles=${i}&prop=links&pllimit=max&origin=*`,lN).pipe(Ze(e=>{const t=e.query.pages;return t[Object.keys(t)[0]].links?.map(n=>n.title)??[]})),gN=(i,e)=>lj(i).pipe(es(t=>t.ok?e(t):Qo({error:!0,message:`Error ${t.status}`})),ib(t=>(console.error(t),Qo({error:!0,message:t.message}))));/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var w1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ee(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ia={exports:{}},E1={},Pn,S1;function qe(){if(S1)return Pn;S1=1;var i=function(e){return e&&e.Math===Math&&e};return Pn=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof w1=="object"&&w1)||i(typeof Pn=="object"&&Pn)||(function(){return this})()||Function("return this")(),Pn}var na,O1;function oe(){return O1||(O1=1,na=function(i){try{return!!i()}catch{return!0}}),na}var oa,I1;function to(){if(I1)return oa;I1=1;var i=oe();return oa=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),oa}var sa,$1;function ps(){if($1)return sa;$1=1;var i=to(),e=Function.prototype,t=e.apply,r=e.call;return sa=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),sa}var aa,T1;function de(){if(T1)return aa;T1=1;var i=to(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return aa=i?r:function(n){return function(){return t.apply(n,arguments)}},aa}var ua,P1;function ir(){if(P1)return ua;P1=1;var i=de(),e=i({}.toString),t=i("".slice);return ua=function(r){return t(e(r),8,-1)},ua}var la,R1;function yN(){if(R1)return la;R1=1;var i=ir(),e=de();return la=function(t){if(i(t)==="Function")return e(t)},la}var da,q1;function Ne(){if(q1)return da;q1=1;var i=typeof document=="object"&&document.all;return da=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},da}var ca={},ha,C1;function Ce(){if(C1)return ha;C1=1;var i=oe();return ha=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),ha}var fa,x1;function at(){if(x1)return fa;x1=1;var i=to(),e=Function.prototype.call;return fa=i?e.bind(e):function(){return e.apply(e,arguments)},fa}var va={},D1;function nb(){if(D1)return va;D1=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return va.f=t?function(n){var o=e(this,n);return!!o&&o.enumerable}:i,va}var pa,A1;function ro(){return A1||(A1=1,pa=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),pa}var ga,M1;function gs(){if(M1)return ga;M1=1;var i=de(),e=oe(),t=ir(),r=Object,n=i("".split);return ga=e(function(){return!r("z").propertyIsEnumerable(0)})?function(o){return t(o)==="String"?n(o,""):r(o)}:r,ga}var ya,F1;function io(){return F1||(F1=1,ya=function(i){return i==null}),ya}var ma,N1;function ni(){if(N1)return ma;N1=1;var i=io(),e=TypeError;return ma=function(t){if(i(t))throw new e("Can't call method on "+t);return t},ma}var ba,k1;function Wt(){if(k1)return ba;k1=1;var i=gs(),e=ni();return ba=function(t){return i(e(t))},ba}var _a,B1;function tt(){if(B1)return _a;B1=1;var i=Ne();return _a=function(e){return typeof e=="object"?e!==null:i(e)},_a}var wa,j1;function Me(){return j1||(j1=1,wa={}),wa}var Ea,L1;function ct(){if(L1)return Ea;L1=1;var i=Me(),e=qe(),t=Ne(),r=function(n){return t(n)?n:void 0};return Ea=function(n,o){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][o]||e[n]&&e[n][o]},Ea}var Sa,z1;function ke(){if(z1)return Sa;z1=1;var i=de();return Sa=i({}.isPrototypeOf),Sa}var Oa,W1;function Ui(){if(W1)return Oa;W1=1;var i=qe(),e=i.navigator,t=e&&e.userAgent;return Oa=t?String(t):"",Oa}var Ia,H1;function no(){if(H1)return Ia;H1=1;var i=qe(),e=Ui(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,o=n&&n.v8,s,a;return o&&(s=o.split("."),a=s[0]>0&&s[0]<4?1:+(s[0]+s[1])),!a&&e&&(s=e.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=e.match(/Chrome\/(\d+)/),s&&(a=+s[1]))),Ia=a,Ia}var $a,U1;function Vi(){if(U1)return $a;U1=1;var i=no(),e=oe(),t=qe(),r=t.String;return $a=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),$a}var Ta,V1;function mN(){if(V1)return Ta;V1=1;var i=Vi();return Ta=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Ta}var Pa,G1;function oo(){if(G1)return Pa;G1=1;var i=ct(),e=Ne(),t=ke(),r=mN(),n=Object;return Pa=r?function(o){return typeof o=="symbol"}:function(o){var s=i("Symbol");return e(s)&&t(s.prototype,n(o))},Pa}var Ra,K1;function Gi(){if(K1)return Ra;K1=1;var i=String;return Ra=function(e){try{return i(e)}catch{return"Object"}},Ra}var qa,Y1;function nr(){if(Y1)return qa;Y1=1;var i=Ne(),e=Gi(),t=TypeError;return qa=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},qa}var Ca,X1;function ob(){if(X1)return Ca;X1=1;var i=nr(),e=io();return Ca=function(t,r){var n=t[r];return e(n)?void 0:i(n)},Ca}var xa,J1;function $j(){if(J1)return xa;J1=1;var i=at(),e=Ne(),t=tt(),r=TypeError;return xa=function(n,o){var s,a;if(o==="string"&&e(s=n.toString)&&!t(a=i(s,n))||e(s=n.valueOf)&&!t(a=i(s,n))||o!=="string"&&e(s=n.toString)&&!t(a=i(s,n)))return a;throw new r("Can't convert object to primitive value")},xa}var Da={exports:{}},Aa,Z1;function Ki(){return Z1||(Z1=1,Aa=!0),Aa}var Ma,Q1;function Tj(){if(Q1)return Ma;Q1=1;var i=qe(),e=Object.defineProperty;return Ma=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},Ma}var e_;function sb(){if(e_)return Da.exports;e_=1;var i=Ki(),e=qe(),t=Tj(),r="__core-js_shared__",n=Da.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Da.exports}var Fa,t_;function Yi(){if(t_)return Fa;t_=1;var i=sb();return Fa=function(e,t){return i[e]||(i[e]=t||{})},Fa}var Na,r_;function xt(){if(r_)return Na;r_=1;var i=ni(),e=Object;return Na=function(t){return e(i(t))},Na}var ka,i_;function Be(){if(i_)return ka;i_=1;var i=de(),e=xt(),t=i({}.hasOwnProperty);return ka=Object.hasOwn||function(n,o){return t(e(n),o)},ka}var Ba,n_;function ys(){if(n_)return Ba;n_=1;var i=de(),e=0,t=Math.random(),r=i(1.1.toString);return Ba=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},Ba}var ja,o_;function je(){if(o_)return ja;o_=1;var i=qe(),e=Yi(),t=Be(),r=ys(),n=Vi(),o=mN(),s=i.Symbol,a=e("wks"),u=o?s.for||s:s&&s.withoutSetter||r;return ja=function(l){return t(a,l)||(a[l]=n&&t(s,l)?s[l]:u("Symbol."+l)),a[l]},ja}var La,s_;function bN(){if(s_)return La;s_=1;var i=at(),e=tt(),t=oo(),r=ob(),n=$j(),o=je(),s=TypeError,a=o("toPrimitive");return La=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=i(d,u,l),!e(c)||t(c))return c;throw new s("Can't convert object to primitive value")}return l===void 0&&(l="number"),n(u,l)},La}var za,a_;function ab(){if(a_)return za;a_=1;var i=bN(),e=oo();return za=function(t){var r=i(t,"string");return e(r)?r:r+""},za}var Wa,u_;function _N(){if(u_)return Wa;u_=1;var i=qe(),e=tt(),t=i.document,r=e(t)&&e(t.createElement);return Wa=function(n){return r?t.createElement(n):{}},Wa}var Ha,l_;function wN(){if(l_)return Ha;l_=1;var i=Ce(),e=oe(),t=_N();return Ha=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),Ha}var d_;function ms(){if(d_)return ca;d_=1;var i=Ce(),e=at(),t=nb(),r=ro(),n=Wt(),o=ab(),s=Be(),a=wN(),u=Object.getOwnPropertyDescriptor;return ca.f=i?u:function(d,c){if(d=n(d),c=o(c),a)try{return u(d,c)}catch{}if(s(d,c))return r(!e(t.f,d,c),d[c])},ca}var Ua,c_;function Pj(){if(c_)return Ua;c_=1;var i=oe(),e=Ne(),t=/#|\.prototype\./,r=function(u,l){var d=o[n(u)];return d===a?!0:d===s?!1:e(l)?i(l):!!l},n=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},o=r.data={},s=r.NATIVE="N",a=r.POLYFILL="P";return Ua=r,Ua}var Va,h_;function bs(){if(h_)return Va;h_=1;var i=yN(),e=nr(),t=to(),r=i(i.bind);return Va=function(n,o){return e(n),o===void 0?n:t?r(n,o):function(){return n.apply(o,arguments)}},Va}var Ga={},Ka,f_;function EN(){if(f_)return Ka;f_=1;var i=Ce(),e=oe();return Ka=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Ka}var Ya,v_;function or(){if(v_)return Ya;v_=1;var i=tt(),e=String,t=TypeError;return Ya=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},Ya}var p_;function bt(){if(p_)return Ga;p_=1;var i=Ce(),e=wN(),t=EN(),r=or(),n=ab(),o=TypeError,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return Ga.f=i?t?function(h,f,v){if(r(h),f=n(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var p=a(h,f);p&&p[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:p[l],enumerable:u in v?v[u]:p[u],writable:!1})}return s(h,f,v)}:s:function(h,f,v){if(r(h),f=n(f),r(v),e)try{return s(h,f,v)}catch{}if("get"in v||"set"in v)throw new o("Accessors not supported");return"value"in v&&(h[f]=v.value),h},Ga}var Xa,g_;function Xi(){if(g_)return Xa;g_=1;var i=Ce(),e=bt(),t=ro();return Xa=i?function(r,n,o){return e.f(r,n,t(1,o))}:function(r,n,o){return r[n]=o,r},Xa}var Ja,y_;function Y(){if(y_)return Ja;y_=1;var i=qe(),e=ps(),t=yN(),r=Ne(),n=ms().f,o=Pj(),s=Me(),a=bs(),u=Xi(),l=Be(),d=function(c){var h=function(f,v,p){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,p)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return Ja=function(c,h){var f=c.target,v=c.global,p=c.stat,b=c.proto,y=v?i:p?i[f]:i[f]&&i[f].prototype,g=v?s:s[f]||u(s,f,{})[f],S=g.prototype,m,w,O,I,_,E,$,T,P;for(I in h)m=o(v?I:f+(p?".":"#")+I,c.forced),w=!m&&y&&l(y,I),E=g[I],w&&(c.dontCallGetSet?(P=n(y,I),$=P&&P.value):$=y[I]),_=w&&$?$:h[I],!(!m&&!b&&typeof E==typeof _)&&(c.bind&&w?T=a(_,i):c.wrap&&w?T=d(_):b&&r(_)?T=t(_):T=_,(c.sham||_&&_.sham||E&&E.sham)&&u(T,"sham",!0),u(g,I,T),b&&(O=f+"Prototype",l(s,O)||u(s,O,{}),u(s[O],I,_),c.real&&S&&(m||!S[I])&&u(S,I,_)))},Ja}var m_;function Rj(){if(m_)return E1;m_=1;var i=Y(),e=Ce(),t=bt().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),E1}var b_;function qj(){if(b_)return ia.exports;b_=1,Rj();var i=Me(),e=i.Object,t=ia.exports=function(n,o,s){return e.defineProperty(n,o,s)};return e.defineProperty.sham&&(t.sham=!0),ia.exports}var Za,__;function SN(){if(__)return Za;__=1;var i=qj();return Za=i,Za}var Qa,w_;function Cj(){if(w_)return Qa;w_=1;var i=SN();return Qa=i,Qa}var eu,E_;function xj(){if(E_)return eu;E_=1;var i=Cj();return eu=i,eu}var tu,S_;function Dj(){return S_||(S_=1,tu=xj()),tu}var Aj=Dj(),Mj=ee(Aj),O_={},ru,I_;function oi(){if(I_)return ru;I_=1;var i=ir();return ru=Array.isArray||function(t){return i(t)==="Array"},ru}var iu,$_;function Fj(){if($_)return iu;$_=1;var i=Math.ceil,e=Math.floor;return iu=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},iu}var nu,T_;function Ji(){if(T_)return nu;T_=1;var i=Fj();return nu=function(e){var t=+e;return t!==t||t===0?0:i(t)},nu}var ou,P_;function ON(){if(P_)return ou;P_=1;var i=Ji(),e=Math.min;return ou=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},ou}var su,R_;function Sr(){if(R_)return su;R_=1;var i=ON();return su=function(e){return i(e.length)},su}var au,q_;function IN(){if(q_)return au;q_=1;var i=TypeError,e=9007199254740991;return au=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},au}var uu,C_;function _s(){if(C_)return uu;C_=1;var i=Ce(),e=bt(),t=ro();return uu=function(r,n,o){i?e.f(r,n,t(0,o)):r[n]=o},uu}var lu,x_;function ub(){if(x_)return lu;x_=1;var i=je(),e=i("toStringTag"),t={};return t[e]="z",lu=String(t)==="[object z]",lu}var du,D_;function Or(){if(D_)return du;D_=1;var i=ub(),e=Ne(),t=ir(),r=je(),n=r("toStringTag"),o=Object,s=t((function(){return arguments})())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return du=i?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=o(u),n))=="string"?d:s?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},du}var cu,A_;function Nj(){if(A_)return cu;A_=1;var i=de(),e=Ne(),t=sb(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),cu=t.inspectSource,cu}var hu,M_;function $N(){if(M_)return hu;M_=1;var i=de(),e=oe(),t=Ne(),r=Or(),n=ct(),o=Nj(),s=function(){},a=n("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=i(u.exec),d=!u.test(s),c=function(v){if(!t(v))return!1;try{return a(s,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,o(v))}catch{return!0}};return h.sham=!0,hu=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,hu}var fu,F_;function kj(){if(F_)return fu;F_=1;var i=oi(),e=$N(),t=tt(),r=je(),n=r("species"),o=Array;return fu=function(s){var a;return i(s)&&(a=s.constructor,e(a)&&(a===o||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?o:a},fu}var vu,N_;function lb(){if(N_)return vu;N_=1;var i=kj();return vu=function(e,t){return new(i(e))(t===0?0:t)},vu}var pu,k_;function so(){if(k_)return pu;k_=1;var i=oe(),e=je(),t=no(),r=e("species");return pu=function(n){return t>=51||!i(function(){var o=[],s=o.constructor={};return s[r]=function(){return{foo:1}},o[n](Boolean).foo!==1})},pu}var B_;function TN(){if(B_)return O_;B_=1;var i=Y(),e=oe(),t=oi(),r=tt(),n=xt(),o=Sr(),s=IN(),a=_s(),u=lb(),l=so(),d=je(),c=no(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),v=function(b){if(!r(b))return!1;var y=b[h];return y!==void 0?!!y:t(b)},p=!f||!l("concat");return i({target:"Array",proto:!0,arity:1,forced:p},{concat:function(y){var g=n(this),S=u(g,0),m=0,w,O,I,_,E;for(w=-1,I=arguments.length;w<I;w++)if(E=w===-1?g:arguments[w],v(E))for(_=o(E),s(m+_),O=0;O<_;O++,m++)O in E&&a(S,m,E[O]);else s(m+1),a(S,m++,E);return S.length=m,S}}),O_}var j_={},L_={},gu,z_;function Ir(){if(z_)return gu;z_=1;var i=Or(),e=String;return gu=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},gu}var yu={},mu,W_;function db(){if(W_)return mu;W_=1;var i=Ji(),e=Math.max,t=Math.min;return mu=function(r,n){var o=i(r);return o<0?e(o+n,0):t(o,n)},mu}var bu,H_;function Bj(){if(H_)return bu;H_=1;var i=Wt(),e=db(),t=Sr(),r=function(n){return function(o,s,a){var u=i(o),l=t(u);if(l===0)return!n&&-1;var d=e(a,l),c;if(n&&s!==s){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((n||d in u)&&u[d]===s)return n||d||0;return!n&&-1}};return bu={includes:r(!0),indexOf:r(!1)},bu}var _u,U_;function ao(){return U_||(U_=1,_u={}),_u}var wu,V_;function PN(){if(V_)return wu;V_=1;var i=de(),e=Be(),t=Wt(),r=Bj().indexOf,n=ao(),o=i([].push);return wu=function(s,a){var u=t(s),l=0,d=[],c;for(c in u)!e(n,c)&&e(u,c)&&o(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||o(d,c));return d},wu}var Eu,G_;function cb(){return G_||(G_=1,Eu=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Eu}var Su,K_;function ws(){if(K_)return Su;K_=1;var i=PN(),e=cb();return Su=Object.keys||function(r){return i(r,e)},Su}var Y_;function hb(){if(Y_)return yu;Y_=1;var i=Ce(),e=EN(),t=bt(),r=or(),n=Wt(),o=ws();return yu.f=i&&!e?Object.defineProperties:function(a,u){r(a);for(var l=n(u),d=o(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},yu}var Ou,X_;function jj(){if(X_)return Ou;X_=1;var i=ct();return Ou=i("document","documentElement"),Ou}var Iu,J_;function Es(){if(J_)return Iu;J_=1;var i=Yi(),e=ys(),t=i("keys");return Iu=function(r){return t[r]||(t[r]=e(r))},Iu}var $u,Z_;function uo(){if(Z_)return $u;Z_=1;var i=or(),e=hb(),t=cb(),r=ao(),n=jj(),o=_N(),s=Es(),a=">",u="<",l="prototype",d="script",c=s("IE_PROTO"),h=function(){},f=function(g){return u+d+a+g+u+"/"+d+a},v=function(g){g.write(f("")),g.close();var S=g.parentWindow.Object;return g=null,S},p=function(){var g=o("iframe"),S="java"+d+":",m;return g.style.display="none",n.appendChild(g),g.src=String(S),m=g.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},b,y=function(){try{b=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&b?v(b):p():v(b);for(var g=t.length;g--;)delete y[l][t[g]];return y()};return r[c]=!0,$u=Object.create||function(S,m){var w;return S!==null?(h[l]=i(S),w=new h,h[l]=null,w[c]=S):w=y(),m===void 0?w:e.f(w,m)},$u}var Tu={},Q_;function Ss(){if(Q_)return Tu;Q_=1;var i=PN(),e=cb(),t=e.concat("length","prototype");return Tu.f=Object.getOwnPropertyNames||function(n){return i(n,t)},Tu}var Pu={},Ru,ew;function Zi(){if(ew)return Ru;ew=1;var i=de();return Ru=i([].slice),Ru}var tw;function RN(){if(tw)return Pu;tw=1;var i=ir(),e=Wt(),t=Ss().f,r=Zi(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(s){try{return t(s)}catch{return r(n)}};return Pu.f=function(a){return n&&i(a)==="Window"?o(a):t(e(a))},Pu}var qu={},rw;function Os(){return rw||(rw=1,qu.f=Object.getOwnPropertySymbols),qu}var Cu,iw;function lo(){if(iw)return Cu;iw=1;var i=Xi();return Cu=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},Cu}var xu,nw;function fb(){if(nw)return xu;nw=1;var i=bt();return xu=function(e,t,r){return i.f(e,t,r)},xu}var Du={},ow;function Is(){if(ow)return Du;ow=1;var i=je();return Du.f=i,Du}var Au,sw;function _e(){if(sw)return Au;sw=1;var i=Me(),e=Be(),t=Is(),r=bt().f;return Au=function(n){var o=i.Symbol||(i.Symbol={});e(o,n)||r(o,n,{value:t.f(n)})},Au}var Mu,aw;function qN(){if(aw)return Mu;aw=1;var i=at(),e=ct(),t=je(),r=lo();return Mu=function(){var n=e("Symbol"),o=n&&n.prototype,s=o&&o.valueOf,a=t("toPrimitive");o&&!o[a]&&r(o,a,function(u){return i(s,this)},{arity:1})},Mu}var Fu,uw;function Lj(){if(uw)return Fu;uw=1;var i=ub(),e=Or();return Fu=i?{}.toString:function(){return"[object "+e(this)+"]"},Fu}var Nu,lw;function si(){if(lw)return Nu;lw=1;var i=ub(),e=bt().f,t=Xi(),r=Be(),n=Lj(),o=je(),s=o("toStringTag");return Nu=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,s)||e(c,s,{configurable:!0,value:u}),d&&!i&&t(c,"toString",n))},Nu}var ku,dw;function zj(){if(dw)return ku;dw=1;var i=qe(),e=Ne(),t=i.WeakMap;return ku=e(t)&&/native code/.test(String(t)),ku}var Bu,cw;function co(){if(cw)return Bu;cw=1;var i=zj(),e=qe(),t=tt(),r=Xi(),n=Be(),o=sb(),s=Es(),a=ao(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(g){return f(g)?h(g):c(g,{})},p=function(g){return function(S){var m;if(!t(S)||(m=h(S)).type!==g)throw new l("Incompatible receiver, "+g+" required");return m}};if(i||o.state){var b=o.state||(o.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,c=function(g,S){if(b.has(g))throw new l(u);return S.facade=g,b.set(g,S),S},h=function(g){return b.get(g)||{}},f=function(g){return b.has(g)}}else{var y=s("state");a[y]=!0,c=function(g,S){if(n(g,y))throw new l(u);return S.facade=g,r(g,y,S),S},h=function(g){return n(g,y)?g[y]:{}},f=function(g){return n(g,y)}}return Bu={set:c,get:h,has:f,enforce:v,getterFor:p},Bu}var ju,hw;function Qi(){if(hw)return ju;hw=1;var i=bs(),e=de(),t=gs(),r=xt(),n=Sr(),o=lb(),s=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,p=u===5||f;return function(b,y,g,S){for(var m=r(b),w=t(m),O=n(w),I=i(y,g),_=0,E=S||o,$=l?E(b,O):d||v?E(b,0):void 0,T,P;O>_;_++)if((p||_ in w)&&(T=w[_],P=I(T,_,m),u))if(l)$[_]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return _;case 2:s($,T)}else switch(u){case 4:return!1;case 7:s($,T)}return f?-1:c||h?h:$}};return ju={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},ju}var fw;function Wj(){if(fw)return L_;fw=1;var i=Y(),e=qe(),t=at(),r=de(),n=Ki(),o=Ce(),s=Vi(),a=oe(),u=Be(),l=ke(),d=or(),c=Wt(),h=ab(),f=Ir(),v=ro(),p=uo(),b=ws(),y=Ss(),g=RN(),S=Os(),m=ms(),w=bt(),O=hb(),I=nb(),_=lo(),E=fb(),$=Yi(),T=Es(),P=ao(),R=ys(),C=je(),M=Is(),K=_e(),L=qN(),J=si(),Q=co(),ae=Qi().forEach,W=T("hidden"),ue="Symbol",me="prototype",be=Q.set,Ot=Q.getterFor(ue),pe=Object[me],Ge=e.Symbol,It=Ge&&Ge[me],Xs=e.RangeError,Js=e.TypeError,Cr=e.QObject,bn=m.f,Ke=w.f,_n=g.f,Zs=I.f,wn=r([].push),Ae=$("symbols"),$t=$("op-symbols"),Qs=$("wks"),xr=!Cr||!Cr[me]||!Cr[me].findChild,En=function(H,F,N){var k=bn(pe,F);k&&delete pe[F],Ke(H,F,N),k&&H!==pe&&Ke(pe,F,k)},Dr=o&&a(function(){return p(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!==7})?En:Ke,Ar=function(H,F){var N=Ae[H]=p(It);return be(N,{type:ue,tag:H,description:F}),o||(N.description=F),N},Vt=function(F,N,k){F===pe&&Vt($t,N,k),d(F);var U=h(N);return d(k),u(Ae,U)?(k.enumerable?(u(F,W)&&F[W][U]&&(F[W][U]=!1),k=p(k,{enumerable:v(0,!1)})):(u(F,W)||Ke(F,W,v(1,p(null))),F[W][U]=!0),Dr(F,U,k)):Ke(F,U,k)},Mr=function(F,N){d(F);var k=c(N),U=b(k).concat(In(k));return ae(U,function(ie){(!o||t(Fr,k,ie))&&Vt(F,ie,k[ie])}),F},ea=function(F,N){return N===void 0?p(F):Mr(p(F),N)},Fr=function(F){var N=h(F),k=t(Zs,this,N);return this===pe&&u(Ae,N)&&!u($t,N)?!1:k||!u(this,N)||!u(Ae,N)||u(this,W)&&this[W][N]?k:!0},Sn=function(F,N){var k=c(F),U=h(N);if(!(k===pe&&u(Ae,U)&&!u($t,U))){var ie=bn(k,U);return ie&&u(Ae,U)&&!(u(k,W)&&k[W][U])&&(ie.enumerable=!0),ie}},On=function(F){var N=_n(c(F)),k=[];return ae(N,function(U){!u(Ae,U)&&!u(P,U)&&wn(k,U)}),k},In=function(H){var F=H===pe,N=_n(F?$t:c(H)),k=[];return ae(N,function(U){u(Ae,U)&&(!F||u(pe,U))&&wn(k,Ae[U])}),k};return s||(Ge=function(){if(l(It,this))throw new Js("Symbol is not a constructor");var F=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),N=R(F),k=function(U){var ie=this===void 0?e:this;ie===pe&&t(k,$t,U),u(ie,W)&&u(ie[W],N)&&(ie[W][N]=!1);var $n=v(1,U);try{Dr(ie,N,$n)}catch(Tn){if(!(Tn instanceof Xs))throw Tn;En(ie,N,$n)}};return o&&xr&&Dr(pe,N,{configurable:!0,set:k}),Ar(N,F)},It=Ge[me],_(It,"toString",function(){return Ot(this).tag}),_(Ge,"withoutSetter",function(H){return Ar(R(H),H)}),I.f=Fr,w.f=Vt,O.f=Mr,m.f=Sn,y.f=g.f=On,S.f=In,M.f=function(H){return Ar(C(H),H)},o&&(E(It,"description",{configurable:!0,get:function(){return Ot(this).description}}),n||_(pe,"propertyIsEnumerable",Fr,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Ge}),ae(b(Qs),function(H){K(H)}),i({target:ue,stat:!0,forced:!s},{useSetter:function(){xr=!0},useSimple:function(){xr=!1}}),i({target:"Object",stat:!0,forced:!s,sham:!o},{create:ea,defineProperty:Vt,defineProperties:Mr,getOwnPropertyDescriptor:Sn}),i({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:On}),L(),J(Ge,ue),P[W]=!0,L_}var vw={},Lu,pw;function CN(){if(pw)return Lu;pw=1;var i=Vi();return Lu=i&&!!Symbol.for&&!!Symbol.keyFor,Lu}var gw;function Hj(){if(gw)return vw;gw=1;var i=Y(),e=ct(),t=Be(),r=Ir(),n=Yi(),o=CN(),s=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!o},{for:function(u){var l=r(u);if(t(s,l))return s[l];var d=e("Symbol")(l);return s[l]=d,a[d]=l,d}}),vw}var yw={},mw;function Uj(){if(mw)return yw;mw=1;var i=Y(),e=Be(),t=oo(),r=Gi(),n=Yi(),o=CN(),s=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!o},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(s,u))return s[u]}}),yw}var bw={},zu,_w;function Vj(){if(_w)return zu;_w=1;var i=de(),e=oi(),t=Ne(),r=ir(),n=Ir(),o=i([].push);return zu=function(s){if(t(s))return s;if(e(s)){for(var a=s.length,u=[],l=0;l<a;l++){var d=s[l];typeof d=="string"?o(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&o(u,n(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var p=0;p<c;p++)if(u[p]===f)return v}}},zu}var ww;function xN(){if(ww)return bw;ww=1;var i=Y(),e=ct(),t=ps(),r=at(),n=de(),o=oe(),s=Ne(),a=oo(),u=Zi(),l=Vj(),d=Vi(),c=String,h=e("JSON","stringify"),f=n(/./.exec),v=n("".charAt),p=n("".charCodeAt),b=n("".replace),y=n(1.1.toString),g=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,w=!d||o(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),O=o(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),I=function(E,$){var T=u(arguments),P=l($);if(!(!s(P)&&(E===void 0||a(E))))return T[1]=function(R,C){if(s(P)&&(C=r(P,this,c(R),C)),!a(C))return C},t(h,null,T)},_=function(E,$,T){var P=v(T,$-1),R=v(T,$+1);return f(S,E)&&!f(m,R)||f(m,E)&&!f(S,P)?"\\u"+y(p(E,0),16):E};return h&&i({target:"JSON",stat:!0,arity:3,forced:w||O},{stringify:function($,T,P){var R=u(arguments),C=t(w?I:h,null,R);return O&&typeof C=="string"?b(C,g,_):C}}),bw}var Ew={},Sw;function Gj(){if(Sw)return Ew;Sw=1;var i=Y(),e=Vi(),t=oe(),r=Os(),n=xt(),o=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:o},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(n(a)):[]}}),Ew}var Ow;function DN(){return Ow||(Ow=1,Wj(),Hj(),Uj(),xN(),Gj()),j_}var Iw={},$w;function AN(){if($w)return Iw;$w=1;var i=_e();return i("asyncDispose"),Iw}var Tw={},Pw;function Kj(){if(Pw)return Tw;Pw=1;var i=_e();return i("asyncIterator"),Tw}var Rw={},qw;function MN(){if(qw)return Rw;qw=1;var i=_e();return i("dispose"),Rw}var Cw={},xw;function Yj(){if(xw)return Cw;xw=1;var i=_e();return i("hasInstance"),Cw}var Dw={},Aw;function Xj(){if(Aw)return Dw;Aw=1;var i=_e();return i("isConcatSpreadable"),Dw}var Mw={},Fw;function FN(){if(Fw)return Mw;Fw=1;var i=_e();return i("iterator"),Mw}var Nw={},kw;function Jj(){if(kw)return Nw;kw=1;var i=_e();return i("match"),Nw}var Bw={},jw;function Zj(){if(jw)return Bw;jw=1;var i=_e();return i("matchAll"),Bw}var Lw={},zw;function Qj(){if(zw)return Lw;zw=1;var i=_e();return i("replace"),Lw}var Ww={},Hw;function eL(){if(Hw)return Ww;Hw=1;var i=_e();return i("search"),Ww}var Uw={},Vw;function tL(){if(Vw)return Uw;Vw=1;var i=_e();return i("species"),Uw}var Gw={},Kw;function rL(){if(Kw)return Gw;Kw=1;var i=_e();return i("split"),Gw}var Yw={},Xw;function NN(){if(Xw)return Yw;Xw=1;var i=_e(),e=qN();return i("toPrimitive"),e(),Yw}var Jw={},Zw;function iL(){if(Zw)return Jw;Zw=1;var i=ct(),e=_e(),t=si();return e("toStringTag"),t(i("Symbol"),"Symbol"),Jw}var Qw={},eE;function nL(){if(eE)return Qw;eE=1;var i=_e();return i("unscopables"),Qw}var tE={},rE;function oL(){if(rE)return tE;rE=1;var i=qe(),e=si();return e(i.JSON,"JSON",!0),tE}var Wu,iE;function sL(){if(iE)return Wu;iE=1,TN(),DN(),AN(),Kj(),MN(),Yj(),Xj(),FN(),Jj(),Zj(),Qj(),eL(),tL(),rL(),NN(),iL(),nL(),oL();var i=Me();return Wu=i.Symbol,Wu}var nE={},Hu,oE;function aL(){return oE||(oE=1,Hu=function(){}),Hu}var Uu,sE;function en(){return sE||(sE=1,Uu={}),Uu}var Vu,aE;function uL(){if(aE)return Vu;aE=1;var i=Ce(),e=Be(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),o=n&&(function(){}).name==="something",s=n&&(!i||i&&r(t,"name").configurable);return Vu={EXISTS:n,PROPER:o,CONFIGURABLE:s},Vu}var Gu,uE;function lL(){if(uE)return Gu;uE=1;var i=oe();return Gu=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Gu}var Ku,lE;function kN(){if(lE)return Ku;lE=1;var i=Be(),e=Ne(),t=xt(),r=Es(),n=lL(),o=r("IE_PROTO"),s=Object,a=s.prototype;return Ku=n?s.getPrototypeOf:function(u){var l=t(u);if(i(l,o))return l[o];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof s?a:null},Ku}var Yu,dE;function BN(){if(dE)return Yu;dE=1;var i=oe(),e=Ne(),t=tt(),r=uo(),n=kN(),o=lo(),s=je(),a=Ki(),u=s("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=n(n(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||i(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||o(d,u,function(){return this}),Yu={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},Yu}var Xu,cE;function dL(){if(cE)return Xu;cE=1;var i=BN().IteratorPrototype,e=uo(),t=ro(),r=si(),n=en(),o=function(){return this};return Xu=function(s,a,u,l){var d=a+" Iterator";return s.prototype=e(i,{next:t(+!l,u)}),r(s,d,!1,!0),n[d]=o,s},Xu}var Ju,hE;function cL(){if(hE)return Ju;hE=1;var i=de(),e=nr();return Ju=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},Ju}var Zu,fE;function hL(){if(fE)return Zu;fE=1;var i=tt();return Zu=function(e){return i(e)||e===null},Zu}var Qu,vE;function fL(){if(vE)return Qu;vE=1;var i=hL(),e=String,t=TypeError;return Qu=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},Qu}var el,pE;function vL(){if(pE)return el;pE=1;var i=cL(),e=tt(),t=ni(),r=fL();return el=Object.setPrototypeOf||("__proto__"in{}?(function(){var n=!1,o={},s;try{s=i(Object.prototype,"__proto__","set"),s(o,[]),n=o instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(n?s(u,l):u.__proto__=l),u}})():void 0),el}var tl,gE;function vb(){if(gE)return tl;gE=1;var i=Y(),e=at(),t=Ki(),r=uL(),n=Ne(),o=dL(),s=kN(),a=vL(),u=si(),l=Xi(),d=lo(),c=je(),h=en(),f=BN(),v=r.PROPER,p=r.CONFIGURABLE,b=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,g=c("iterator"),S="keys",m="values",w="entries",O=function(){return this};return tl=function(I,_,E,$,T,P,R){o(E,_,$);var C=function(be){if(be===T&&Q)return Q;if(!y&&be&&be in L)return L[be];switch(be){case S:return function(){return new E(this,be)};case m:return function(){return new E(this,be)};case w:return function(){return new E(this,be)}}return function(){return new E(this)}},M=_+" Iterator",K=!1,L=I.prototype,J=L[g]||L["@@iterator"]||T&&L[T],Q=!y&&J||C(T),ae=_==="Array"&&L.entries||J,W,ue,me;if(ae&&(W=s(ae.call(new I)),W!==Object.prototype&&W.next&&(!t&&s(W)!==b&&(a?a(W,b):n(W[g])||d(W,g,O)),u(W,M,!0,!0),t&&(h[M]=O))),v&&T===m&&J&&J.name!==m&&(!t&&p?l(L,"name",m):(K=!0,Q=function(){return e(J,this)})),T)if(ue={values:C(m),keys:P?Q:C(S),entries:C(w)},R)for(me in ue)(y||K||!(me in L))&&d(L,me,ue[me]);else i({target:_,proto:!0,forced:y||K},ue);return(!t||R)&&L[g]!==Q&&d(L,g,Q,{name:T}),h[_]=Q,ue},tl}var rl,yE;function pb(){return yE||(yE=1,rl=function(i,e){return{value:i,done:e}}),rl}var il,mE;function $r(){if(mE)return il;mE=1;var i=Wt(),e=aL(),t=en(),r=co(),n=bt().f,o=vb(),s=pb(),a=Ki(),u=Ce(),l="Array Iterator",d=r.set,c=r.getterFor(l);il=o(Array,"Array",function(f,v){d(this,{type:l,target:i(f),index:0,kind:v})},function(){var f=c(this),v=f.target,p=f.index++;if(!v||p>=v.length)return f.target=null,s(void 0,!0);switch(f.kind){case"keys":return s(p,!1);case"values":return s(v[p],!1)}return s([p,v[p]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{n(h,"name",{value:"values"})}catch{}return il}var nl,bE;function pL(){return bE||(bE=1,nl={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),nl}var _E;function Tr(){if(_E)return nE;_E=1,$r();var i=pL(),e=qe(),t=si(),r=en();for(var n in i)t(e[n],n),r[n]=r.Array;return nE}var ol,wE;function jN(){if(wE)return ol;wE=1;var i=sL();return Tr(),ol=i,ol}var EE={},SE;function gL(){if(SE)return EE;SE=1;var i=je(),e=bt().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),EE}var OE={},IE;function yL(){return IE||(IE=1,AN()),OE}var $E={},TE;function mL(){return TE||(TE=1,MN()),$E}var PE={},RE;function bL(){if(RE)return PE;RE=1;var i=_e();return i("metadata"),PE}var sl,qE;function _L(){if(qE)return sl;qE=1;var i=jN();return gL(),yL(),mL(),bL(),sl=i,sl}var CE={},al,xE;function LN(){if(xE)return al;xE=1;var i=ct(),e=de(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return al=t.isRegisteredSymbol||function(s){try{return r(n(s))!==void 0}catch{return!1}},al}var DE;function wL(){if(DE)return CE;DE=1;var i=Y(),e=LN();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),CE}var AE={},ul,ME;function zN(){if(ME)return ul;ME=1;for(var i=Yi(),e=ct(),t=de(),r=oo(),n=je(),o=e("Symbol"),s=o.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(o.prototype.valueOf),l=i("wks"),d=0,c=a(o),h=c.length;d<h;d++)try{var f=c[d];r(o[f])&&n(f)}catch{}return ul=function(p){if(s&&s(p))return!0;try{for(var b=u(p),y=0,g=a(l),S=g.length;y<S;y++)if(l[g[y]]==b)return!0}catch{}return!1},ul}var FE;function EL(){if(FE)return AE;FE=1;var i=Y(),e=zN();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),AE}var NE={},kE;function SL(){if(kE)return NE;kE=1;var i=_e();return i("customMatcher"),NE}var BE={},jE;function OL(){if(jE)return BE;jE=1;var i=_e();return i("observable"),BE}var LE={},zE;function IL(){if(zE)return LE;zE=1;var i=Y(),e=LN();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),LE}var WE={},HE;function $L(){if(HE)return WE;HE=1;var i=Y(),e=zN();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),WE}var UE={},VE;function TL(){if(VE)return UE;VE=1;var i=_e();return i("matcher"),UE}var GE={},KE;function PL(){if(KE)return GE;KE=1;var i=_e();return i("metadataKey"),GE}var YE={},XE;function RL(){if(XE)return YE;XE=1;var i=_e();return i("patternMatch"),YE}var JE={},ZE;function qL(){if(ZE)return JE;ZE=1;var i=_e();return i("replaceAll"),JE}var ll,QE;function CL(){if(QE)return ll;QE=1;var i=_L();return wL(),EL(),SL(),OL(),IL(),$L(),TL(),PL(),RL(),qL(),ll=i,ll}var dl,eS;function xL(){return eS||(eS=1,dl=CL()),dl}var DL=xL(),Bo=ee(DL),tS={},cl,rS;function AL(){if(rS)return cl;rS=1;var i=de(),e=Ji(),t=Ir(),r=ni(),n=i("".charAt),o=i("".charCodeAt),s=i("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,p;return h<0||h>=f?u?"":void 0:(v=o(c,h),v<55296||v>56319||h+1===f||(p=o(c,h+1))<56320||p>57343?u?n(c,h):v:u?s(c,h,h+2):(v-55296<<10)+(p-56320)+65536)}};return cl={codeAt:a(!1),charAt:a(!0)},cl}var iS;function $s(){if(iS)return tS;iS=1;var i=AL().charAt,e=Ir(),t=co(),r=vb(),n=pb(),o="String Iterator",s=t.set,a=t.getterFor(o);return r(String,"String",function(u){s(this,{type:o,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?n(void 0,!0):(h=i(d,c),l.index+=h.length,n(h,!1))}),tS}var hl,nS;function ML(){if(nS)return hl;nS=1,$r(),$s(),FN();var i=Is();return hl=i.f("iterator"),hl}var fl,oS;function WN(){if(oS)return fl;oS=1;var i=ML();return Tr(),fl=i,fl}var vl,sS;function FL(){if(sS)return vl;sS=1;var i=WN();return vl=i,vl}var pl,aS;function NL(){if(aS)return pl;aS=1;var i=FL();return pl=i,pl}var gl,uS;function kL(){return uS||(uS=1,gl=NL()),gl}var BL=kL(),jL=ee(BL);function Wn(i){"@babel/helpers - typeof";return Wn=typeof Bo=="function"&&typeof jL=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Bo=="function"&&e.constructor===Bo&&e!==Bo.prototype?"symbol":typeof e},Wn(i)}var yl,lS;function LL(){if(lS)return yl;lS=1,NN();var i=Is();return yl=i.f("toPrimitive"),yl}var ml,dS;function zL(){if(dS)return ml;dS=1;var i=LL();return ml=i,ml}var bl,cS;function WL(){if(cS)return bl;cS=1;var i=zL();return bl=i,bl}var _l,hS;function HL(){if(hS)return _l;hS=1;var i=WL();return _l=i,_l}var wl,fS;function UL(){return fS||(fS=1,wl=HL()),wl}var VL=UL(),GL=ee(VL);function KL(i,e){if(Wn(i)!="object"||!i)return i;var t=i[GL];if(t!==void 0){var r=t.call(i,e);if(Wn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function YL(i){var e=KL(i,"string");return Wn(e)=="symbol"?e:e+""}function fr(i,e,t){return(e=YL(e))in i?Mj(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var vS={},El,pS;function XL(){if(pS)return El;pS=1;var i=de(),e=nr(),t=tt(),r=Be(),n=Zi(),o=to(),s=Function,a=i([].concat),u=i([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],p=0;p<h;p++)v[p]="a["+p+"]";l[h]=s("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return El=o?s.bind:function(h){var f=e(this),v=f.prototype,p=n(arguments,1),b=function(){var g=a(p,n(arguments));return this instanceof b?d(f,g.length,g):f.apply(h,g)};return t(v)&&(b.prototype=v),b},El}var gS;function JL(){if(gS)return vS;gS=1;var i=Y(),e=XL();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),vS}var Sl,yS;function ut(){if(yS)return Sl;yS=1;var i=qe(),e=Me();return Sl=function(t,r){var n=e[t+"Prototype"],o=n&&n[r];if(o)return o;var s=i[t],a=s&&s.prototype;return a&&a[r]},Sl}var Ol,mS;function ZL(){if(mS)return Ol;mS=1,JL();var i=ut();return Ol=i("Function","bind"),Ol}var Il,bS;function QL(){if(bS)return Il;bS=1;var i=ke(),e=ZL(),t=Function.prototype;return Il=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},Il}var $l,_S;function ez(){if(_S)return $l;_S=1;var i=QL();return $l=i,$l}var Tl,wS;function tz(){return wS||(wS=1,Tl=ez()),Tl}var rz=tz(),HN=ee(rz),ES={},Pl,SS;function iz(){if(SS)return Pl;SS=1;var i=nr(),e=xt(),t=gs(),r=Sr(),n=TypeError,o="Reduce of empty array with no initial value",s=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(i(l),v===0&&d<2)throw new n(o);var p=a?v-1:0,b=a?-1:1;if(d<2)for(;;){if(p in f){c=f[p],p+=b;break}if(p+=b,a?p<0:v<=p)throw new n(o)}for(;a?p>=0:v>p;p+=b)p in f&&(c=l(c,f[p],p,h));return c}};return Pl={left:s(!1),right:s(!0)},Pl}var Rl,OS;function Ts(){if(OS)return Rl;OS=1;var i=oe();return Rl=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},Rl}var ql,IS;function UN(){if(IS)return ql;IS=1;var i=qe(),e=Ui(),t=ir(),r=function(n){return e.slice(0,n.length)===n};return ql=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"})(),ql}var Cl,$S;function nz(){if($S)return Cl;$S=1;var i=UN();return Cl=i==="NODE",Cl}var TS;function oz(){if(TS)return ES;TS=1;var i=Y(),e=iz().left,t=Ts(),r=no(),n=nz(),o=!n&&r>79&&r<83,s=o||!t("reduce");return i({target:"Array",proto:!0,forced:s},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),ES}var xl,PS;function sz(){if(PS)return xl;PS=1,oz();var i=ut();return xl=i("Array","reduce"),xl}var Dl,RS;function az(){if(RS)return Dl;RS=1;var i=ke(),e=sz(),t=Array.prototype;return Dl=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},Dl}var Al,qS;function uz(){if(qS)return Al;qS=1;var i=az();return Al=i,Al}var Ml,CS;function lz(){return CS||(CS=1,Ml=uz()),Ml}var dz=lz(),cz=ee(dz),xS={},DS;function hz(){if(DS)return xS;DS=1;var i=Y(),e=Qi().filter,t=so(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),xS}var Fl,AS;function fz(){if(AS)return Fl;AS=1,hz();var i=ut();return Fl=i("Array","filter"),Fl}var Nl,MS;function vz(){if(MS)return Nl;MS=1;var i=ke(),e=fz(),t=Array.prototype;return Nl=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},Nl}var kl,FS;function pz(){if(FS)return kl;FS=1;var i=vz();return kl=i,kl}var Bl,NS;function gz(){return NS||(NS=1,Bl=pz()),Bl}var yz=gz(),$i=ee(yz),kS={},BS;function mz(){if(BS)return kS;BS=1;var i=Y(),e=Qi().map,t=so(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),kS}var jl,jS;function bz(){if(jS)return jl;jS=1,mz();var i=ut();return jl=i("Array","map"),jl}var Ll,LS;function _z(){if(LS)return Ll;LS=1;var i=ke(),e=bz(),t=Array.prototype;return Ll=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},Ll}var zl,zS;function wz(){if(zS)return zl;zS=1;var i=_z();return zl=i,zl}var Wl,WS;function Ez(){return WS||(WS=1,Wl=wz()),Wl}var Sz=Ez(),Pt=ee(Sz),Hl,HS;function Oz(){return HS||(HS=1,Hl=jN()),Hl}var Iz=Oz(),$z=ee(Iz),US={},VS;function Tz(){if(VS)return US;VS=1;var i=Y(),e=oi(),t=$N(),r=tt(),n=db(),o=Sr(),s=Wt(),a=_s(),u=je(),l=so(),d=Zi(),c=l("slice"),h=u("species"),f=Array,v=Math.max;return i({target:"Array",proto:!0,forced:!c},{slice:function(b,y){var g=s(this),S=o(g),m=n(b,S),w=n(y===void 0?S:y,S),O,I,_;if(e(g)&&(O=g.constructor,t(O)&&(O===f||e(O.prototype))?O=void 0:r(O)&&(O=O[h],O===null&&(O=void 0)),O===f||O===void 0))return d(g,m,w);for(I=new(O===void 0?f:O)(v(w-m,0)),_=0;m<w;m++,_++)m in g&&a(I,_,g[m]);return I.length=_,I}}),US}var Ul,GS;function Pz(){if(GS)return Ul;GS=1,Tz();var i=ut();return Ul=i("Array","slice"),Ul}var Vl,KS;function Rz(){if(KS)return Vl;KS=1;var i=ke(),e=Pz(),t=Array.prototype;return Vl=function(r){var n=r.slice;return r===t||i(t,r)&&n===t.slice?e:n},Vl}var Gl,YS;function qz(){if(YS)return Gl;YS=1;var i=Rz();return Gl=i,Gl}var Kl,XS;function Cz(){return XS||(XS=1,Kl=qz()),Kl}var xz=Cz(),Dz=ee(xz),JS={},Yl,ZS;function VN(){if(ZS)return Yl;ZS=1;var i=ct(),e=de(),t=Ss(),r=Os(),n=or(),o=e([].concat);return Yl=i("Reflect","ownKeys")||function(a){var u=t.f(n(a)),l=r.f;return l?o(u,l(a)):u},Yl}var QS;function Az(){if(QS)return JS;QS=1;var i=Y(),e=VN();return i({target:"Reflect",stat:!0},{ownKeys:e}),JS}var Xl,e0;function Mz(){if(e0)return Xl;e0=1,Az();var i=Me();return Xl=i.Reflect.ownKeys,Xl}var Jl,t0;function Fz(){if(t0)return Jl;t0=1;var i=Mz();return Jl=i,Jl}var Zl,r0;function Nz(){return r0||(r0=1,Zl=Fz()),Zl}var kz=Nz(),Bz=ee(kz),i0={},n0;function jz(){if(n0)return i0;n0=1;var i=Y(),e=oi();return i({target:"Array",stat:!0},{isArray:e}),i0}var Ql,o0;function Lz(){if(o0)return Ql;o0=1,jz();var i=Me();return Ql=i.Array.isArray,Ql}var ed,s0;function zz(){if(s0)return ed;s0=1;var i=Lz();return ed=i,ed}var td,a0;function Wz(){return a0||(a0=1,td=zz()),td}var Hz=Wz(),At=ee(Hz),u0={},l0;function Uz(){if(l0)return u0;l0=1;var i=Y(),e=xt(),t=ws(),r=oe(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(s){return t(e(s))}}),u0}var rd,d0;function Vz(){if(d0)return rd;d0=1,Uz();var i=Me();return rd=i.Object.keys,rd}var id,c0;function Gz(){if(c0)return id;c0=1;var i=Vz();return id=i,id}var nd,h0;function Kz(){return h0||(h0=1,nd=Gz()),nd}var Yz=Kz(),gb=ee(Yz),f0={},od,v0;function Xz(){if(v0)return od;v0=1;var i=Qi().forEach,e=Ts(),t=e("forEach");return od=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},od}var p0;function Jz(){if(p0)return f0;p0=1;var i=Y(),e=Xz();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),f0}var sd,g0;function Zz(){if(g0)return sd;g0=1,Jz();var i=ut();return sd=i("Array","forEach"),sd}var ad,y0;function Qz(){if(y0)return ad;y0=1;var i=Zz();return ad=i,ad}var ud,m0;function eW(){if(m0)return ud;m0=1;var i=Or(),e=Be(),t=ke(),r=Qz(),n=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return ud=function(s){var a=s.forEach;return s===n||t(n,s)&&a===n.forEach||e(o,i(s))?r:a},ud}var ld,b0;function tW(){return b0||(b0=1,ld=eW()),ld}var rW=tW(),Xr=ee(rW),_0={},w0;function iW(){if(w0)return _0;w0=1;var i=Y(),e=de(),t=oi(),r=e([].reverse),n=[1,2];return i({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),_0}var dd,E0;function nW(){if(E0)return dd;E0=1,iW();var i=ut();return dd=i("Array","reverse"),dd}var cd,S0;function oW(){if(S0)return cd;S0=1;var i=ke(),e=nW(),t=Array.prototype;return cd=function(r){var n=r.reverse;return r===t||i(t,r)&&n===t.reverse?e:n},cd}var hd,O0;function sW(){if(O0)return hd;O0=1;var i=oW();return hd=i,hd}var fd,I0;function aW(){return I0||(I0=1,fd=sW()),fd}var uW=aW(),lW=ee(uW),$0={},vd,T0;function dW(){if(T0)return vd;T0=1;var i=Ce(),e=oi(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}})();return vd=n?function(o,s){if(e(o)&&!r(o,"length").writable)throw new t("Cannot set read only .length");return o.length=s}:function(o,s){return o.length=s},vd}var pd,P0;function GN(){if(P0)return pd;P0=1;var i=Gi(),e=TypeError;return pd=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},pd}var R0;function cW(){if(R0)return $0;R0=1;var i=Y(),e=xt(),t=db(),r=Ji(),n=Sr(),o=dW(),s=IN(),a=lb(),u=_s(),l=GN(),d=so(),c=d("splice"),h=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!c},{splice:function(p,b){var y=e(this),g=n(y),S=t(p,g),m=arguments.length,w,O,I,_,E,$;for(m===0?w=O=0:m===1?(w=0,O=g-S):(w=m-2,O=f(h(r(b),0),g-S)),s(g+w-O),I=a(y,O),_=0;_<O;_++)E=S+_,E in y&&u(I,_,y[E]);if(I.length=O,w<O){for(_=S;_<g-O;_++)E=_+O,$=_+w,E in y?y[$]=y[E]:l(y,$);for(_=g;_>g-O+w;_--)l(y,_-1)}else if(w>O)for(_=g-O;_>S;_--)E=_+O-1,$=_+w-1,E in y?y[$]=y[E]:l(y,$);for(_=0;_<w;_++)y[_+S]=arguments[_+2];return o(y,g-O+w),I}}),$0}var gd,q0;function hW(){if(q0)return gd;q0=1,cW();var i=ut();return gd=i("Array","splice"),gd}var yd,C0;function fW(){if(C0)return yd;C0=1;var i=ke(),e=hW(),t=Array.prototype;return yd=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},yd}var md,x0;function vW(){if(x0)return md;x0=1;var i=fW();return md=i,md}var bd,D0;function pW(){return D0||(D0=1,bd=vW()),bd}var gW=pW(),KN=ee(gW),A0={},_d,M0;function yW(){if(M0)return _d;M0=1;var i=Ce(),e=de(),t=at(),r=oe(),n=ws(),o=Os(),s=nb(),a=xt(),u=gs(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return _d=!l||r(function(){if(i&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),p="abcdefghijklmnopqrst";return h[v]=7,p.split("").forEach(function(b){f[b]=b}),l({},h)[v]!==7||n(l({},f)).join("")!==p})?function(f,v){for(var p=a(f),b=arguments.length,y=1,g=o.f,S=s.f;b>y;)for(var m=u(arguments[y++]),w=g?c(n(m),g(m)):n(m),O=w.length,I=0,_;O>I;)_=w[I++],(!i||t(S,m,_))&&(p[_]=m[_]);return p}:l,_d}var F0;function mW(){if(F0)return A0;F0=1;var i=Y(),e=yW();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),A0}var wd,N0;function bW(){if(N0)return wd;N0=1,mW();var i=Me();return wd=i.Object.assign,wd}var Ed,k0;function _W(){if(k0)return Ed;k0=1;var i=bW();return Ed=i,Ed}var Sd,B0;function wW(){return B0||(B0=1,Sd=_W()),Sd}var EW=wW(),SW=ee(EW),Od,j0;function OW(){if(j0)return Od;j0=1,TN();var i=ut();return Od=i("Array","concat"),Od}var Id,L0;function IW(){if(L0)return Id;L0=1;var i=ke(),e=OW(),t=Array.prototype;return Id=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},Id}var $d,z0;function $W(){if(z0)return $d;z0=1;var i=IW();return $d=i,$d}var Td,W0;function TW(){return W0||(W0=1,Td=$W()),Td}var PW=TW(),RW=ee(PW),H0={},U0;function qW(){if(U0)return H0;U0=1;var i=Y(),e=Ce(),t=uo();return i({target:"Object",stat:!0,sham:!e},{create:t}),H0}var Pd,V0;function CW(){if(V0)return Pd;V0=1,qW();var i=Me(),e=i.Object;return Pd=function(r,n){return e.create(r,n)},Pd}var Rd,G0;function xW(){if(G0)return Rd;G0=1;var i=CW();return Rd=i,Rd}var qd,K0;function DW(){return K0||(K0=1,qd=xW()),qd}var AW=DW(),MW=ee(AW),Y0={},Cd,X0;function FW(){if(X0)return Cd;X0=1;var i=Ji(),e=Ir(),t=ni(),r=RangeError;return Cd=function(o){var s=e(t(this)),a="",u=i(o);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(s+=s))u&1&&(a+=s);return a},Cd}var xd,J0;function NW(){if(J0)return xd;J0=1;var i=de(),e=ON(),t=Ir(),r=FW(),n=ni(),o=i(r),s=i("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(n(d)),v=e(c),p=f.length,b=h===void 0?" ":t(h),y,g;return v<=p||b===""?f:(y=v-p,g=o(b,a(y/b.length)),g.length>y&&(g=s(g,0,y)),l?f+g:g+f)}};return xd={start:u(!1),end:u(!0)},xd}var Dd,Z0;function kW(){if(Z0)return Dd;Z0=1;var i=de(),e=oe(),t=NW().start,r=RangeError,n=isFinite,o=Math.abs,s=Date.prototype,a=s.toISOString,u=i(s.getTime),l=i(s.getUTCDate),d=i(s.getUTCFullYear),c=i(s.getUTCHours),h=i(s.getUTCMilliseconds),f=i(s.getUTCMinutes),v=i(s.getUTCMonth),p=i(s.getUTCSeconds);return Dd=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(u(this)))throw new r("Invalid time value");var y=this,g=d(y),S=h(y),m=g<0?"-":g>9999?"+":"";return m+t(o(g),m?6:4,0)+"-"+t(v(y)+1,2,0)+"-"+t(l(y),2,0)+"T"+t(c(y),2,0)+":"+t(f(y),2,0)+":"+t(p(y),2,0)+"."+t(S,3,0)+"Z"}:a,Dd}var Q0;function BW(){if(Q0)return Y0;Q0=1;var i=Y(),e=at(),t=xt(),r=bN(),n=kW(),o=ir(),s=oe(),a=s(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&o(d)==="Date"?e(n,d):d.toISOString()}}),Y0}var Ad,eO;function jW(){if(eO)return Ad;eO=1,BW(),xN();var i=Me(),e=ps();return i.JSON||(i.JSON={stringify:JSON.stringify}),Ad=function(r,n,o){return e(i.JSON.stringify,null,arguments)},Ad}var Md,tO;function LW(){if(tO)return Md;tO=1;var i=jW();return Md=i,Md}var Fd,rO;function zW(){return rO||(rO=1,Fd=LW()),Fd}var WW=zW(),HW=ee(WW),iO={},nO={},Nd,oO;function UW(){if(oO)return Nd;oO=1;var i=TypeError;return Nd=function(e,t){if(e<t)throw new i("Not enough arguments");return e},Nd}var kd,sO;function YN(){if(sO)return kd;sO=1;var i=qe(),e=ps(),t=Ne(),r=UN(),n=Ui(),o=Zi(),s=UW(),a=i.Function,u=/MSIE .\./.test(n)||r==="BUN"&&(function(){var l=i.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")})();return kd=function(l,d){var c=d?2:1;return u?function(h,f){var v=s(arguments.length,1)>c,p=t(h)?h:a(h),b=v?o(arguments,c):[],y=v?function(){e(p,this,b)}:p;return d?l(y,f):l(y)}:l},kd}var aO;function VW(){if(aO)return nO;aO=1;var i=Y(),e=qe(),t=YN(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),nO}var uO={},lO;function GW(){if(lO)return uO;lO=1;var i=Y(),e=qe(),t=YN(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),uO}var dO;function KW(){return dO||(dO=1,VW(),GW()),iO}var Bd,cO;function YW(){if(cO)return Bd;cO=1,KW();var i=Me();return Bd=i.setTimeout,Bd}var jd,hO;function XW(){return hO||(hO=1,jd=YW()),jd}var JW=XW(),ZW=ee(JW),Ld={exports:{}},fO;function QW(){return fO||(fO=1,(function(i){function e(r){if(r)return t(r);this._callbacks=new Map}function t(r){return Object.assign(r,e.prototype),r._callbacks=new Map,r}e.prototype.on=function(r,n){const o=this._callbacks.get(r)??[];return o.push(n),this._callbacks.set(r,o),this},e.prototype.once=function(r,n){const o=(...s)=>{this.off(r,o),n.apply(this,s)};return o.fn=n,this.on(r,o),this},e.prototype.off=function(r,n){if(r===void 0&&n===void 0)return this._callbacks.clear(),this;if(n===void 0)return this._callbacks.delete(r),this;const o=this._callbacks.get(r);if(o){for(const[s,a]of o.entries())if(a===n||a.fn===n){o.splice(s,1);break}o.length===0?this._callbacks.delete(r):this._callbacks.set(r,o)}return this},e.prototype.emit=function(r,...n){const o=this._callbacks.get(r);if(o){const s=[...o];for(const a of s)a.apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks.get(r)??[]},e.prototype.listenerCount=function(r){if(r)return this.listeners(r).length;let n=0;for(const o of this._callbacks.values())n+=o.length;return n},e.prototype.hasListeners=function(r){return this.listenerCount(r)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,i.exports=e})(Ld)),Ld.exports}var eH=QW(),tH=ee(eH);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function qt(){return qt=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},qt.apply(this,arguments)}function _t(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function jo(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Cm;typeof Object.assign!="function"?Cm=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t}:Cm=Object.assign;var Jr=Cm,vO=["","webkit","Moz","MS","ms","o"],rH=typeof document>"u"?{style:{}}:document.createElement("div"),iH="function",Ti=Math.round,Zr=Math.abs,yb=Date.now;function Ps(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),o=0;o<vO.length;){if(t=vO[o],r=t?t+n:e,r in i)return r;o++}}var Yt;typeof window>"u"?Yt={}:Yt=window;var XN=Ps(rH.style,"touchAction"),JN=XN!==void 0;function nH(){if(!JN)return!1;var i={},e=Yt.CSS&&Yt.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?Yt.CSS.supports("touch-action",t):!0}),i}var ZN="compute",QN="auto",xm="manipulation",Hr="none",Hn="pan-x",Un="pan-y",Lo=nH(),oH=/mobile|tablet|ip(ad|hone|od)|android/i,ek="ontouchstart"in Yt,sH=Ps(Yt,"PointerEvent")!==void 0,aH=ek&&oH.test(navigator.userAgent),ho="touch",uH="pen",mb="mouse",lH="kinect",dH=25,Qe=1,ai=2,Te=4,ot=8,ts=1,fo=2,vo=4,po=8,Ni=16,Bt=fo|vo,Ur=po|Ni,tk=Bt|Ur,rk=["x","y"],rs=["clientX","clientY"];function Xt(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function Rs(i,e){return typeof i===iH?i.apply(e&&e[0]||void 0,e):i}function Br(i,e){return i.indexOf(e)>-1}function cH(i){if(Br(i,Hr))return Hr;var e=Br(i,Hn),t=Br(i,Un);return e&&t?Hr:e||t?e?Hn:Un:Br(i,xm)?xm:QN}var ik=(function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===ZN&&(r=this.compute()),JN&&this.manager.element.style&&Lo[r]&&(this.manager.element.style[XN]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return Xt(this.manager.recognizers,function(n){Rs(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),cH(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,o=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,a=Br(s,Hr)&&!Lo[Hr],u=Br(s,Un)&&!Lo[Un],l=Br(s,Hn)&&!Lo[Hn];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&o&Bt||l&&o&Ur))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i})();function bb(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function nk(i){var e=i.length;if(e===1)return{x:Ti(i[0].clientX),y:Ti(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:Ti(t/e),y:Ti(r/e)}}function pO(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:Ti(i.pointers[t].clientX),clientY:Ti(i.pointers[t].clientY)},t++;return{timeStamp:yb(),pointers:e,center:nk(e),deltaX:i.deltaX,deltaY:i.deltaY}}function is(i,e,t){t||(t=rk);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function Dm(i,e,t){t||(t=rk);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function ok(i,e){return i===e?ts:Zr(i)>=Zr(e)?i<0?fo:vo:e<0?po:Ni}function hH(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},o=i.prevInput||{};(e.eventType===Qe||o.eventType===Te)&&(n=i.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function sk(i,e,t){return{x:e/i||0,y:t/i||0}}function fH(i,e){return is(e[0],e[1],rs)/is(i[0],i[1],rs)}function vH(i,e){return Dm(e[1],e[0],rs)+Dm(i[1],i[0],rs)}function pH(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,o,s,a;if(e.eventType!==ot&&(r>dH||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=sk(r,u,l);o=d.x,s=d.y,n=Zr(d.x)>Zr(d.y)?d.x:d.y,a=ok(u,l),i.lastInterval=e}else n=t.velocity,o=t.velocityX,s=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=o,e.velocityY=s,e.direction=a}function gH(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=pO(e)),n>1&&!t.firstMultiple?t.firstMultiple=pO(e):n===1&&(t.firstMultiple=!1);var o=t.firstInput,s=t.firstMultiple,a=s?s.center:o.center,u=e.center=nk(r);e.timeStamp=yb(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Dm(a,u),e.distance=is(a,u),hH(t,e),e.offsetDirection=ok(e.deltaX,e.deltaY);var l=sk(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=Zr(l.x)>Zr(l.y)?l.x:l.y,e.scale=s?fH(s.pointers,r):1,e.rotation=s?vH(s.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,pH(t,e);var d=i.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,bb(h,d)&&(d=h),e.target=d}function yH(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,o=e&Qe&&r-n===0,s=e&(Te|ot)&&r-n===0;t.isFirst=!!o,t.isFinal=!!s,o&&(i.session={}),t.eventType=e,gH(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function Vn(i){return i.trim().split(/\s+/g)}function An(i,e,t){Xt(Vn(e),function(r){i.addEventListener(r,t,!1)})}function Mn(i,e,t){Xt(Vn(e),function(r){i.removeEventListener(r,t,!1)})}function gO(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var tn=(function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){Rs(t.options.enable,[t])&&n.handler(o)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&An(this.element,this.evEl,this.domHandler),this.evTarget&&An(this.target,this.evTarget,this.domHandler),this.evWin&&An(gO(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Mn(this.element,this.evEl,this.domHandler),this.evTarget&&Mn(this.target,this.evTarget,this.domHandler),this.evWin&&Mn(gO(this.element),this.evWin,this.domHandler)},i})();function Qr(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var mH={pointerdown:Qe,pointermove:ai,pointerup:Te,pointercancel:ot,pointerout:ot},bH={2:ho,3:uH,4:mb,5:lH},ak="pointerdown",uk="pointermove pointerup pointercancel";Yt.MSPointerEvent&&!Yt.PointerEvent&&(ak="MSPointerDown",uk="MSPointerMove MSPointerUp MSPointerCancel");var lk=(function(i){_t(e,i);function e(){var r,n=e.prototype;return n.evEl=ak,n.evWin=uk,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var o=this.store,s=!1,a=n.type.toLowerCase().replace("ms",""),u=mH[a],l=bH[n.pointerType]||n.pointerType,d=l===ho,c=Qr(o,n.pointerId,"pointerId");u&Qe&&(n.button===0||d)?c<0&&(o.push(n),c=o.length-1):u&(Te|ot)&&(s=!0),!(c<0)&&(o[c]=n,this.callback(this.manager,u,{pointers:o,changedPointers:[n],pointerType:l,srcEvent:n}),s&&o.splice(c,1))},e})(tn);function Gn(i){return Array.prototype.slice.call(i,0)}function _b(i,e,t){for(var r=[],n=[],o=0;o<i.length;){var s=e?i[o][e]:i[o];Qr(n,s)<0&&r.push(i[o]),n[o]=s,o++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var _H={touchstart:Qe,touchmove:ai,touchend:Te,touchcancel:ot},wH="touchstart touchmove touchend touchcancel",wb=(function(i){_t(e,i);function e(){var r;return e.prototype.evTarget=wH,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var o=_H[n.type],s=EH.call(this,n,o);s&&this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:ho,srcEvent:n})},e})(tn);function EH(i,e){var t=Gn(i.touches),r=this.targetIds;if(e&(Qe|ai)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,o,s=Gn(i.changedTouches),a=[],u=this.target;if(o=t.filter(function(l){return bb(l.target,u)}),e===Qe)for(n=0;n<o.length;)r[o[n].identifier]=!0,n++;for(n=0;n<s.length;)r[s[n].identifier]&&a.push(s[n]),e&(Te|ot)&&delete r[s[n].identifier],n++;if(a.length)return[_b(o.concat(a),"identifier",!0),a]}var SH={mousedown:Qe,mousemove:ai,mouseup:Te},OH="mousedown",IH="mousemove mouseup",Eb=(function(i){_t(e,i);function e(){var r,n=e.prototype;return n.evEl=OH,n.evWin=IH,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var o=SH[n.type];o&Qe&&n.button===0&&(this.pressed=!0),o&ai&&n.which!==1&&(o=Te),this.pressed&&(o&Te&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[n],changedPointers:[n],pointerType:mb,srcEvent:n}))},e})(tn),$H=2500,yO=25;function mO(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var o=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(o,$H)}}function TH(i,e){i&Qe?(this.primaryTouch=e.changedPointers[0].identifier,mO.call(this,e)):i&(Te|ot)&&mO.call(this,e)}function PH(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],o=Math.abs(e-n.x),s=Math.abs(t-n.y);if(o<=yO&&s<=yO)return!0}return!1}var dk=(function(){var i=(function(e){_t(t,e);function t(n,o){var s;return s=e.call(this,n,o)||this,s.handler=function(a,u,l){var d=l.pointerType===ho,c=l.pointerType===mb;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)TH.call(jo(jo(s)),u,l);else if(c&&PH.call(jo(jo(s)),l))return;s.callback(a,u,l)}},s.touch=new wb(s.manager,s.handler),s.mouse=new Eb(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(tn);return i})();function RH(i){var e,t=i.options.inputClass;return t?e=t:sH?e=lk:aH?e=wb:ek?e=dk:e=Eb,new e(i,yH)}function Pi(i,e,t){return Array.isArray(i)?(Xt(i,t[e],t),!0):!1}var Go=1,gt=2,ki=4,vr=8,Jt=vr,Kn=16,Ft=32,qH=1;function CH(){return qH++}function zo(i,e){var t=e.manager;return t?t.get(i):i}function bO(i){return i&Kn?"cancel":i&vr?"end":i&ki?"move":i&gt?"start":""}var go=(function(){function i(t){t===void 0&&(t={}),this.options=qt({enable:!0},t),this.id=CH(),this.manager=null,this.state=Go,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return Jr(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Pi(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=zo(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Pi(r,"dropRecognizeWith",this)?this:(r=zo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Pi(r,"requireFailure",this))return this;var n=this.requireFail;return r=zo(r,this),Qr(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Pi(r,"dropRequireFailure",this))return this;r=zo(r,this);var n=Qr(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,o=this.state;function s(a){n.manager.emit(a,r)}o<vr&&s(n.options.event+bO(o)),s(n.options.event),r.additionalEvent&&s(r.additionalEvent),o>=vr&&s(n.options.event+bO(o))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Ft},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Ft|Go)))return!1;r++}return!0},e.recognize=function(r){var n=Jr({},r);if(!Rs(this.options.enable,[this,n])){this.reset(),this.state=Ft;return}this.state&(Jt|Kn|Ft)&&(this.state=Go),this.state=this.process(n),this.state&(gt|ki|vr|Kn)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i})(),Am=(function(i){_t(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,qt({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[xm]},t.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,u=n.distance<s.threshold,l=n.deltaTime<s.time;if(this.reset(),n.eventType&Qe&&this.count===0)return this.failTimeout();if(u&&l&&a){if(n.eventType!==Te)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<s.interval:!0,c=!this.pCenter||is(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!c||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%s.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=Jt,o.tryEmit()},s.interval),gt):Jt}return Ft},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Ft},this.options.interval),Ft},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===Jt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(go),Bi=(function(i){_t(e,i);function e(r){return r===void 0&&(r={}),i.call(this,qt({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var o=this.options.pointers;return o===0||n.pointers.length===o},t.process=function(n){var o=this.state,s=n.eventType,a=o&(gt|ki),u=this.attrTest(n);return a&&(s&ot||!u)?o|Kn:a||u?s&Te?o|vr:o&gt?o|ki:gt:Ft},e})(go);function ck(i){return i===Ni?"down":i===po?"up":i===fo?"left":i===vo?"right":""}var Sb=(function(i){_t(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,qt({event:"pan",threshold:10,pointers:1,direction:tk},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,o=[];return n&Bt&&o.push(Un),n&Ur&&o.push(Hn),o},t.directionTest=function(n){var o=this.options,s=!0,a=n.distance,u=n.direction,l=n.deltaX,d=n.deltaY;return u&o.direction||(o.direction&Bt?(u=l===0?ts:l<0?fo:vo,s=l!==this.pX,a=Math.abs(n.deltaX)):(u=d===0?ts:d<0?po:Ni,s=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=u,s&&a>o.threshold&&u&o.direction},t.attrTest=function(n){return Bi.prototype.attrTest.call(this,n)&&(this.state&gt||!(this.state&gt)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var o=ck(n.direction);o&&(n.additionalEvent=this.options.event+o),i.prototype.emit.call(this,n)},e})(Bi),hk=(function(i){_t(e,i);function e(r){return r===void 0&&(r={}),i.call(this,qt({event:"swipe",threshold:10,velocity:.3,direction:Bt|Ur,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Sb.prototype.getTouchAction.call(this)},t.attrTest=function(n){var o=this.options.direction,s;return o&(Bt|Ur)?s=n.overallVelocity:o&Bt?s=n.overallVelocityX:o&Ur&&(s=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&o&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&Zr(s)>this.options.velocity&&n.eventType&Te},t.emit=function(n){var o=ck(n.offsetDirection);o&&this.manager.emit(this.options.event+o,n),this.manager.emit(this.options.event,n)},e})(Bi),fk=(function(i){_t(e,i);function e(r){return r===void 0&&(r={}),i.call(this,qt({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Hr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&gt)},t.emit=function(n){if(n.scale!==1){var o=n.scale<1?"in":"out";n.additionalEvent=this.options.event+o}i.prototype.emit.call(this,n)},e})(Bi),vk=(function(i){_t(e,i);function e(r){return r===void 0&&(r={}),i.call(this,qt({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Hr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&gt)},e})(Bi),pk=(function(i){_t(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,qt({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[QN]},t.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,u=n.distance<s.threshold,l=n.deltaTime>s.time;if(this._input=n,!u||!a||n.eventType&(Te|ot)&&!l)this.reset();else if(n.eventType&Qe)this.reset(),this._timer=setTimeout(function(){o.state=Jt,o.tryEmit()},s.time);else if(n.eventType&Te)return Jt;return Ft},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===Jt&&(n&&n.eventType&Te?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=yb(),this.manager.emit(this.options.event,this._input)))},e})(go),gk={domEvents:!1,touchAction:ZN,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},_O=[[vk,{enable:!1}],[fk,{enable:!1},["rotate"]],[hk,{direction:Bt}],[Sb,{direction:Bt},["swipe"]],[Am],[Am,{event:"doubletap",taps:2},["tap"]],[pk]],xH=1,wO=2;function EO(i,e){var t=i.element;if(t.style){var r;Xt(i.options.cssProps,function(n,o){r=Ps(t.style,o),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function DH(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var SO=(function(){function i(t,r){var n=this;this.options=Jr({},gk,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=RH(this),this.touchAction=new ik(this,this.options.touchAction),EO(this,!0),Xt(this.options.recognizers,function(o){var s=n.add(new o[0](o[1]));o[2]&&s.recognizeWith(o[2]),o[3]&&s.requireFailure(o[3])},this)}var e=i.prototype;return e.set=function(r){return Jr(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?wO:xH},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var o,s=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&Jt)&&(n.curRecognizer=null,a=null);for(var u=0;u<s.length;)o=s[u],n.stopped!==wO&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(r):o.reset(),!a&&o.state&(gt|ki|vr)&&(n.curRecognizer=o,a=o),u++}},e.get=function(r){if(r instanceof go)return r;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event===r)return n[o];return null},e.add=function(r){if(Pi(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Pi(r,"remove",this))return this;var n=this.get(r);if(r){var o=this.recognizers,s=Qr(o,n);s!==-1&&(o.splice(s,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var o=this.handlers;return Xt(Vn(r),function(s){o[s]=o[s]||[],o[s].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var o=this.handlers;return Xt(Vn(r),function(s){n?o[s]&&o[s].splice(Qr(o[s],n),1):delete o[s]}),this},e.emit=function(r,n){this.options.domEvents&&DH(r,n);var o=this.handlers[r]&&this.handlers[r].slice();if(!(!o||!o.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](n),s++}},e.destroy=function(){this.element&&EO(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i})(),AH={touchstart:Qe,touchmove:ai,touchend:Te,touchcancel:ot},MH="touchstart",FH="touchstart touchmove touchend touchcancel",NH=(function(i){_t(e,i);function e(){var r,n=e.prototype;return n.evTarget=MH,n.evWin=FH,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var o=AH[n.type];if(o===Qe&&(this.started=!0),!!this.started){var s=kH.call(this,n,o);o&(Te|ot)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:ho,srcEvent:n})}},e})(tn);function kH(i,e){var t=Gn(i.touches),r=Gn(i.changedTouches);return e&(Te|ot)&&(t=_b(t.concat(r),"identifier",!0)),[t,r]}function yk(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,r,o),i.apply(this,arguments)}}var mk=yk(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),BH=yk(function(i,e){return mk(i,e,!0)},"merge","Use `assign`.");function jH(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&Jr(n,t)}function OO(i,e){return function(){return i.apply(e,arguments)}}var LH=(function(){var i=function(t,r){return r===void 0&&(r={}),new SO(t,qt({recognizers:_O.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=tk,i.DIRECTION_DOWN=Ni,i.DIRECTION_LEFT=fo,i.DIRECTION_RIGHT=vo,i.DIRECTION_UP=po,i.DIRECTION_HORIZONTAL=Bt,i.DIRECTION_VERTICAL=Ur,i.DIRECTION_NONE=ts,i.DIRECTION_DOWN=Ni,i.INPUT_START=Qe,i.INPUT_MOVE=ai,i.INPUT_END=Te,i.INPUT_CANCEL=ot,i.STATE_POSSIBLE=Go,i.STATE_BEGAN=gt,i.STATE_CHANGED=ki,i.STATE_ENDED=vr,i.STATE_RECOGNIZED=Jt,i.STATE_CANCELLED=Kn,i.STATE_FAILED=Ft,i.Manager=SO,i.Input=tn,i.TouchAction=ik,i.TouchInput=wb,i.MouseInput=Eb,i.PointerEventInput=lk,i.TouchMouseInput=dk,i.SingleTouchInput=NH,i.Recognizer=go,i.AttrRecognizer=Bi,i.Tap=Am,i.Pan=Sb,i.Swipe=hk,i.Pinch=fk,i.Rotate=vk,i.Press=pk,i.on=An,i.off=Mn,i.each=Xt,i.merge=BH,i.extend=mk,i.bindFn=OO,i.assign=Jr,i.inherit=jH,i.bindFn=OO,i.prefixed=Ps,i.toArray=Gn,i.inArray=Qr,i.uniqueArray=_b,i.splitStr=Vn,i.boolOrFn=Rs,i.hasParent=bb,i.addEventListeners=An,i.removeEventListeners=Mn,i.defaults=Jr({},gk,{preset:_O}),i})();const bk=$z("DELETE");function zH(i){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];return _k({},i,...t)}function _k(){const i=ns(...arguments);return Ek(i),i}function ns(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];if(e.length<2)return e[0];if(e.length>2)return ns(_k(e[0],e[1]),...Dz(e).call(e,2));const r=e[0],n=e[1];if(r instanceof Date&&n instanceof Date)return r.setTime(n.getTime()),r;for(const o of Bz(n))Object.prototype.propertyIsEnumerable.call(n,o)&&(n[o]===bk?delete r[o]:r[o]!==null&&n[o]!==null&&typeof r[o]=="object"&&typeof n[o]=="object"&&!At(r[o])&&!At(n[o])?r[o]=ns(r[o],n[o]):r[o]=wk(n[o]));return r}function wk(i){return At(i)?Pt(i).call(i,e=>wk(e)):typeof i=="object"&&i!==null?i instanceof Date?new Date(i.getTime()):ns({},i):i}function Ek(i){for(const e of gb(i))i[e]===bk?delete i[e]:typeof i[e]=="object"&&i[e]!==null&&Ek(i[e])}function WH(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const HH=typeof window<"u"?window.Hammer||LH:function(){return WH()};function Gt(i){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=HH(this._dom.overlay);t.on("tap",HN(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Xr(r).call(r,n=>{t.on(n,o=>{o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=n=>{UH(n.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=n=>{("key"in n?n.key==="Escape":n.keyCode===27)&&this.deactivate()}}tH(Gt.prototype);Gt.current=null;Gt.prototype.destroy=function(){this.deactivate();for(const t of lW(i=KN(e=this._cleanupQueue).call(e,0)).call(i)){var i,e;t()}};Gt.prototype.activate=function(){Gt.current&&Gt.current.deactivate(),Gt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Gt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Gt.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function UH(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}var zd,IO;function VH(){if(IO)return zd;IO=1,DN();var i=Me();return zd=i.Object.getOwnPropertySymbols,zd}var Wd,$O;function GH(){if($O)return Wd;$O=1;var i=VH();return Wd=i,Wd}var Hd,TO;function KH(){return TO||(TO=1,Hd=GH()),Hd}var YH=KH(),PO=ee(YH),Ud={exports:{}},RO={},qO;function XH(){if(qO)return RO;qO=1;var i=Y(),e=oe(),t=Wt(),r=ms().f,n=Ce(),o=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:o,sham:!n},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),RO}var CO;function JH(){if(CO)return Ud.exports;CO=1,XH();var i=Me(),e=i.Object,t=Ud.exports=function(n,o){return e.getOwnPropertyDescriptor(n,o)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),Ud.exports}var Vd,xO;function ZH(){if(xO)return Vd;xO=1;var i=JH();return Vd=i,Vd}var Gd,DO;function QH(){return DO||(DO=1,Gd=ZH()),Gd}var e3=QH(),Sk=ee(e3),AO={},MO;function t3(){if(MO)return AO;MO=1;var i=Y(),e=Ce(),t=VN(),r=Wt(),n=ms(),o=_s();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=n.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&o(c,f,v);return c}}),AO}var Kd,FO;function r3(){if(FO)return Kd;FO=1,t3();var i=Me();return Kd=i.Object.getOwnPropertyDescriptors,Kd}var Yd,NO;function i3(){if(NO)return Yd;NO=1;var i=r3();return Yd=i,Yd}var Xd,kO;function n3(){return kO||(kO=1,Xd=i3()),Xd}var o3=n3(),BO=ee(o3),Jd={exports:{}},jO={},LO;function s3(){if(LO)return jO;LO=1;var i=Y(),e=Ce(),t=hb().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),jO}var zO;function a3(){if(zO)return Jd.exports;zO=1,s3();var i=Me(),e=i.Object,t=Jd.exports=function(n,o){return e.defineProperties(n,o)};return e.defineProperties.sham&&(t.sham=!0),Jd.exports}var Zd,WO;function u3(){if(WO)return Zd;WO=1;var i=a3();return Zd=i,Zd}var Qd,HO;function l3(){return HO||(HO=1,Qd=u3()),Qd}var d3=l3(),c3=ee(d3),ec,UO;function h3(){return UO||(UO=1,ec=SN()),ec}var f3=h3(),v3=ee(f3),VO={},GO={},tc={exports:{}},rc,KO;function p3(){if(KO)return rc;KO=1;var i=oe();return rc=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),rc}var ic,YO;function g3(){if(YO)return ic;YO=1;var i=oe(),e=tt(),t=ir(),r=p3(),n=Object.isExtensible,o=i(function(){});return ic=o||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,ic}var nc,XO;function y3(){if(XO)return nc;XO=1;var i=oe();return nc=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),nc}var JO;function Ok(){if(JO)return tc.exports;JO=1;var i=Y(),e=de(),t=ao(),r=tt(),n=Be(),o=bt().f,s=Ss(),a=RN(),u=g3(),l=ys(),d=y3(),c=!1,h=l("meta"),f=0,v=function(m){o(m,h,{value:{objectID:"O"+f++,weakData:{}}})},p=function(m,w){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!n(m,h)){if(!u(m))return"F";if(!w)return"E";v(m)}return m[h].objectID},b=function(m,w){if(!n(m,h)){if(!u(m))return!0;if(!w)return!1;v(m)}return m[h].weakData},y=function(m){return d&&c&&u(m)&&!n(m,h)&&v(m),m},g=function(){S.enable=function(){},c=!0;var m=s.f,w=e([].splice),O={};O[h]=1,m(O).length&&(s.f=function(I){for(var _=m(I),E=0,$=_.length;E<$;E++)if(_[E]===h){w(_,E,1);break}return _},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},S=tc.exports={enable:g,fastKey:p,getWeakData:b,onFreeze:y};return t[h]=!0,tc.exports}var oc,ZO;function m3(){if(ZO)return oc;ZO=1;var i=je(),e=en(),t=i("iterator"),r=Array.prototype;return oc=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},oc}var sc,QO;function Ik(){if(QO)return sc;QO=1;var i=Or(),e=ob(),t=io(),r=en(),n=je(),o=n("iterator");return sc=function(s){if(!t(s))return e(s,o)||e(s,"@@iterator")||r[i(s)]},sc}var ac,eI;function $k(){if(eI)return ac;eI=1;var i=at(),e=nr(),t=or(),r=Gi(),n=Ik(),o=TypeError;return ac=function(s,a){var u=arguments.length<2?n(s):a;if(e(u))return t(i(u,s));throw new o(r(s)+" is not iterable")},ac}var uc,tI;function Ob(){if(tI)return uc;tI=1;var i=at(),e=or(),t=ob();return uc=function(r,n,o){var s,a;e(r);try{if(s=t(r,"return"),!s){if(n==="throw")throw o;return o}s=i(s,r)}catch(u){a=!0,s=u}if(n==="throw")throw o;if(a)throw s;return e(s),o},uc}var lc,rI;function Ib(){if(rI)return lc;rI=1;var i=bs(),e=at(),t=or(),r=Gi(),n=m3(),o=Sr(),s=ke(),a=$k(),u=Ik(),l=Ob(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return lc=function(f,v,p){var b=p&&p.that,y=!!(p&&p.AS_ENTRIES),g=!!(p&&p.IS_RECORD),S=!!(p&&p.IS_ITERATOR),m=!!(p&&p.INTERRUPTED),w=i(v,b),O,I,_,E,$,T,P,R=function(M){return O&&l(O,"normal"),new c(!0,M)},C=function(M){return y?(t(M),m?w(M[0],M[1],R):w(M[0],M[1])):m?w(M,R):w(M)};if(g)O=f.iterator;else if(S)O=f;else{if(I=u(f),!I)throw new d(r(f)+" is not iterable");if(n(I)){for(_=0,E=o(f);E>_;_++)if($=C(f[_]),$&&s(h,$))return $;return new c(!1)}O=a(f,I)}for(T=g?f.next:O.next;!(P=e(T,O)).done;){try{$=C(P.value)}catch(M){l(O,"throw",M)}if(typeof $=="object"&&$&&s(h,$))return $}return new c(!1)},lc}var dc,iI;function Tk(){if(iI)return dc;iI=1;var i=ke(),e=TypeError;return dc=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},dc}var cc,nI;function Pk(){if(nI)return cc;nI=1;var i=Y(),e=qe(),t=Ok(),r=oe(),n=Xi(),o=Ib(),s=Tk(),a=Ne(),u=tt(),l=io(),d=si(),c=bt().f,h=Qi().forEach,f=Ce(),v=co(),p=v.set,b=v.getterFor;return cc=function(y,g,S){var m=y.indexOf("Map")!==-1,w=y.indexOf("Weak")!==-1,O=m?"set":"add",I=e[y],_=I&&I.prototype,E={},$;if(!f||!a(I)||!(w||_.forEach&&!r(function(){new I().entries().next()})))$=S.getConstructor(g,y,m,O),t.enable();else{$=g(function(R,C){p(s(R,T),{type:y,collection:new I}),l(C)||o(C,R[O],{that:R,AS_ENTRIES:m})});var T=$.prototype,P=b(y);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in _&&!(w&&R==="clear")&&n(T,R,function(M,K){var L=P(this).collection;if(!C&&w&&!u(M))return R==="get"?void 0:!1;var J=L[R](M===0?0:M,K);return C?this:J})}),w||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d($,y,!1,!0),E[y]=$,i({global:!0,forced:!0},E),w||S.setStrong($,y,m),$},cc}var hc,oI;function b3(){if(oI)return hc;oI=1;var i=lo();return hc=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},hc}var fc,sI;function _3(){if(sI)return fc;sI=1;var i=ct(),e=fb(),t=je(),r=Ce(),n=t("species");return fc=function(o){var s=i(o);r&&s&&!s[n]&&e(s,n,{configurable:!0,get:function(){return this}})},fc}var vc,aI;function Rk(){if(aI)return vc;aI=1;var i=uo(),e=fb(),t=b3(),r=bs(),n=Tk(),o=io(),s=Ib(),a=vb(),u=pb(),l=_3(),d=Ce(),c=Ok().fastKey,h=co(),f=h.set,v=h.getterFor;return vc={getConstructor:function(p,b,y,g){var S=p(function(_,E){n(_,m),f(_,{type:b,index:i(null),first:null,last:null,size:0}),d||(_.size=0),o(E)||s(E,_[g],{that:_,AS_ENTRIES:y})}),m=S.prototype,w=v(b),O=function(_,E,$){var T=w(_),P=I(_,E),R,C;return P?P.value=$:(T.last=P={index:C=c(E,!0),key:E,value:$,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:_.size++,C!=="F"&&(T.index[C]=P)),_},I=function(_,E){var $=w(_),T=c(E),P;if(T!=="F")return $.index[T];for(P=$.first;P;P=P.next)if(P.key===E)return P};return t(m,{clear:function(){for(var E=this,$=w(E),T=$.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;$.first=$.last=null,$.index=i(null),d?$.size=0:E.size=0},delete:function(_){var E=this,$=w(E),T=I(E,_);if(T){var P=T.next,R=T.previous;delete $.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),$.first===T&&($.first=P),$.last===T&&($.last=R),d?$.size--:E.size--}return!!T},forEach:function(E){for(var $=w(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:$.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!I(this,E)}}),t(m,y?{get:function(E){var $=I(this,E);return $&&$.value},set:function(E,$){return O(this,E===0?0:E,$)}}:{add:function(E){return O(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return w(this).size}}),S},setStrong:function(p,b,y){var g=b+" Iterator",S=v(b),m=v(g);a(p,b,function(w,O){f(this,{type:g,target:w,state:S(w),kind:O,last:null})},function(){for(var w=m(this),O=w.kind,I=w.last;I&&I.removed;)I=I.previous;return!w.target||!(w.last=I=I?I.next:w.state.first)?(w.target=null,u(void 0,!0)):u(O==="keys"?I.key:O==="values"?I.value:[I.key,I.value],!1)},y?"entries":"values",!y,!0),l(b)}},vc}var uI;function w3(){if(uI)return GO;uI=1;var i=Pk(),e=Rk();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),GO}var lI;function E3(){return lI||(lI=1,w3()),VO}var dI={},pc,cI;function qk(){return cI||(cI=1,pc=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),pc}var gc,hI;function S3(){if(hI)return gc;hI=1;var i=ct(),e=qk(),t=i("Map");return gc={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},gc}var fI;function O3(){if(fI)return dI;fI=1;var i=Y(),e=de(),t=nr(),r=ni(),n=Ib(),o=S3(),s=Ki(),a=oe(),u=o.Map,l=o.has,d=o.get,c=o.set,h=e([].push),f=s||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return i({target:"Map",stat:!0,forced:s||f},{groupBy:function(p,b){r(p),t(b);var y=new u,g=0;return n(p,function(S){var m=b(S,g++);l(y,m)?h(d(y,m),S):c(y,m,[S])}),y}}),dI}var yc,vI;function I3(){if(vI)return yc;vI=1,$r(),E3(),O3(),$s();var i=Me();return yc=i.Map,yc}var mc,pI;function $3(){if(pI)return mc;pI=1;var i=I3();return Tr(),mc=i,mc}var bc,gI;function T3(){return gI||(gI=1,bc=$3()),bc}var P3=T3(),Ck=ee(P3),yI={},mI;function R3(){if(mI)return yI;mI=1;var i=Y(),e=Qi().some,t=Ts(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),yI}var _c,bI;function q3(){if(bI)return _c;bI=1,R3();var i=ut();return _c=i("Array","some"),_c}var wc,_I;function C3(){if(_I)return wc;_I=1;var i=ke(),e=q3(),t=Array.prototype;return wc=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},wc}var Ec,wI;function x3(){if(wI)return Ec;wI=1;var i=C3();return Ec=i,Ec}var Sc,EI;function D3(){return EI||(EI=1,Sc=x3()),Sc}var A3=D3(),M3=ee(A3),Oc,SI;function F3(){if(SI)return Oc;SI=1,$r();var i=ut();return Oc=i("Array","keys"),Oc}var Ic,OI;function N3(){if(OI)return Ic;OI=1;var i=F3();return Ic=i,Ic}var $c,II;function k3(){if(II)return $c;II=1,Tr();var i=Or(),e=Be(),t=ke(),r=N3(),n=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return $c=function(s){var a=s.keys;return s===n||t(n,s)&&a===n.keys||e(o,i(s))?r:a},$c}var Tc,$I;function B3(){return $I||($I=1,Tc=k3()),Tc}var j3=B3(),Si=ee(j3),TI={},Pc,PI;function L3(){if(PI)return Pc;PI=1;var i=Zi(),e=Math.floor,t=function(r,n){var o=r.length;if(o<8)for(var s=1,a,u;s<o;){for(u=s,a=r[s];u&&n(r[u-1],a)>0;)r[u]=r[--u];u!==s++&&(r[u]=a)}else for(var l=e(o/2),d=t(i(r,0,l),n),c=t(i(r,l),n),h=d.length,f=c.length,v=0,p=0;v<h||p<f;)r[v+p]=v<h&&p<f?n(d[v],c[p])<=0?d[v++]:c[p++]:v<h?d[v++]:c[p++];return r};return Pc=t,Pc}var Rc,RI;function z3(){if(RI)return Rc;RI=1;var i=Ui(),e=i.match(/firefox\/(\d+)/i);return Rc=!!e&&+e[1],Rc}var qc,qI;function W3(){if(qI)return qc;qI=1;var i=Ui();return qc=/MSIE|Trident/.test(i),qc}var Cc,CI;function H3(){if(CI)return Cc;CI=1;var i=Ui(),e=i.match(/AppleWebKit\/(\d+)\./);return Cc=!!e&&+e[1],Cc}var xI;function U3(){if(xI)return TI;xI=1;var i=Y(),e=de(),t=nr(),r=xt(),n=Sr(),o=GN(),s=Ir(),a=oe(),u=L3(),l=Ts(),d=z3(),c=W3(),h=no(),f=H3(),v=[],p=e(v.sort),b=e(v.push),y=a(function(){v.sort(void 0)}),g=a(function(){v.sort(null)}),S=l("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var I="",_,E,$,T;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:$=3;break;case 68:case 71:$=4;break;default:$=2}for(T=0;T<47;T++)v.push({k:E+T,v:$})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),I.charAt(I.length-1)!==E&&(I+=E);return I!=="DGBEFHACIJK"}}),w=y||!g||!S||!m,O=function(I){return function(_,E){return E===void 0?-1:_===void 0?1:I!==void 0?+I(_,E)||0:s(_)>s(E)?1:-1}};return i({target:"Array",proto:!0,forced:w},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(m)return _===void 0?p(E):p(E,_);var $=[],T=n(E),P,R;for(R=0;R<T;R++)R in E&&b($,E[R]);for(u($,O(_)),P=n($),R=0;R<P;)E[R]=$[R++];for(;R<T;)o(E,R++);return E}}),TI}var xc,DI;function V3(){if(DI)return xc;DI=1,U3();var i=ut();return xc=i("Array","sort"),xc}var Dc,AI;function G3(){if(AI)return Dc;AI=1;var i=ke(),e=V3(),t=Array.prototype;return Dc=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},Dc}var Ac,MI;function K3(){if(MI)return Ac;MI=1;var i=G3();return Ac=i,Ac}var Mc,FI;function Y3(){return FI||(FI=1,Mc=K3()),Mc}var X3=Y3(),Mm=ee(X3),Fc,NI;function J3(){if(NI)return Fc;NI=1,$r();var i=ut();return Fc=i("Array","values"),Fc}var Nc,kI;function Z3(){if(kI)return Nc;kI=1;var i=J3();return Nc=i,Nc}var kc,BI;function Q3(){if(BI)return kc;BI=1,Tr();var i=Or(),e=Be(),t=ke(),r=Z3(),n=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return kc=function(s){var a=s.values;return s===n||t(n,s)&&a===n.values||e(o,i(s))?r:a},kc}var Bc,jI;function e5(){return jI||(jI=1,Bc=Q3()),Bc}var t5=e5(),LI=ee(t5),jc,zI;function r5(){return zI||(zI=1,jc=WN()),jc}var i5=r5(),Ri=ee(i5),Lc,WI;function n5(){if(WI)return Lc;WI=1,$r();var i=ut();return Lc=i("Array","entries"),Lc}var zc,HI;function o5(){if(HI)return zc;HI=1;var i=n5();return zc=i,zc}var Wc,UI;function s5(){if(UI)return Wc;UI=1,Tr();var i=Or(),e=Be(),t=ke(),r=o5(),n=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return Wc=function(s){var a=s.entries;return s===n||t(n,s)&&a===n.entries||e(o,i(s))?r:a},Wc}var Hc,VI;function a5(){return VI||(VI=1,Hc=s5()),Hc}var u5=a5(),l5=ee(u5);const We=[];for(let i=0;i<256;++i)We.push((i+256).toString(16).slice(1));function d5(i,e=0){return(We[i[e+0]]+We[i[e+1]]+We[i[e+2]]+We[i[e+3]]+"-"+We[i[e+4]]+We[i[e+5]]+"-"+We[i[e+6]]+We[i[e+7]]+"-"+We[i[e+8]]+We[i[e+9]]+"-"+We[i[e+10]]+We[i[e+11]]+We[i[e+12]]+We[i[e+13]]+We[i[e+14]]+We[i[e+15]]).toLowerCase()}let Uc;const c5=new Uint8Array(16);function h5(){if(!Uc){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Uc=crypto.getRandomValues.bind(crypto)}return Uc(c5)}const f5=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var GI={randomUUID:f5};function v5(i,e,t){i=i||{};const r=i.random??i.rng?.()??h5();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,d5(r)}function p5(i,e,t){return GI.randomUUID&&!i?GI.randomUUID():v5(i)}function KI(i){return typeof i=="string"||typeof i=="number"}class $b{constructor(e){fr(this,"_queue",[]),fr(this,"_timeout",null),fr(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,t){const r=new $b(t);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{r.flush()};const n=[{name:"flush",original:void 0}];if(t&&t.replace)for(let o=0;o<t.replace.length;o++){const s=t.replace[o];n.push({name:s,original:e[s]}),r.replace(e,s)}return r._extended={object:e,methods:n},r}destroy(){if(this.flush(),this._extended){const e=this._extended.object,t=this._extended.methods;for(let r=0;r<t.length;r++){const n=t[r];n.original?e[n.name]=n.original:delete e[n.name]}this._extended=null}}replace(e,t){const r=this,n=e[t];if(!n)throw new Error("Method "+t+" undefined");e[t]=function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];r.queue({args:s,fn:n,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=ZW(()=>{this.flush()},this.delay))}flush(){var e,t;Xr(e=KN(t=this._queue).call(t,0)).call(e,r=>{r.fn.apply(r.context||r.fn,r.args||[])})}}class os{constructor(){fr(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),fr(this,"subscribe",os.prototype.on),fr(this,"unsubscribe",os.prototype.off)}_trigger(e,t,r){var n;if(e==="*")throw new Error("Cannot trigger event *");Xr(n=[...this._subscribers[e],...this._subscribers["*"]]).call(n,o=>{o(e,t,r??null)})}on(e,t){typeof t=="function"&&this._subscribers[e].push(t)}off(e,t){var r;this._subscribers[e]=$i(r=this._subscribers[e]).call(r,n=>n!==t)}}var YI={},XI={},JI;function g5(){if(JI)return XI;JI=1;var i=Pk(),e=Rk();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),XI}var ZI;function y5(){return ZI||(ZI=1,g5()),YI}var QI={},Vc,e$;function ui(){if(e$)return Vc;e$=1;var i=Gi(),e=TypeError;return Vc=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},Vc}var Gc,t$;function li(){if(t$)return Gc;t$=1;var i=ct(),e=qk(),t=i("Set"),r=t.prototype;return Gc={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},Gc}var Kc,r$;function di(){if(r$)return Kc;r$=1;var i=at();return Kc=function(e,t,r){for(var n=r?e:e.iterator,o=e.next,s,a;!(s=i(o,n)).done;)if(a=t(s.value),a!==void 0)return a},Kc}var Yc,i$;function yo(){if(i$)return Yc;i$=1;var i=di();return Yc=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},Yc}var Xc,n$;function Tb(){if(n$)return Xc;n$=1;var i=li(),e=yo(),t=i.Set,r=i.add;return Xc=function(n){var o=new t;return e(n,function(s){r(o,s)}),o},Xc}var Jc,o$;function mo(){return o$||(o$=1,Jc=function(i){return i.size}),Jc}var Zc,s$;function m5(){return s$||(s$=1,Zc=function(i){return{iterator:i,next:i.next,done:!1}}),Zc}var Qc,a$;function ci(){if(a$)return Qc;a$=1;var i=nr(),e=or(),t=at(),r=Ji(),n=m5(),o="Invalid size",s=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=i(d.has),this.keys=i(d.keys)};return l.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},Qc=function(d){e(d);var c=+d.size;if(c!==c)throw new a(o);var h=r(c);if(h<0)throw new s(o);return new l(d,h)},Qc}var eh,u$;function b5(){if(u$)return eh;u$=1;var i=ui(),e=li(),t=Tb(),r=mo(),n=ci(),o=yo(),s=di(),a=e.has,u=e.remove;return eh=function(d){var c=i(this),h=n(d),f=t(c);return r(c)<=h.size?o(c,function(v){h.includes(v)&&u(f,v)}):s(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},eh}var th,l$;function hi(){return l$||(l$=1,th=function(){return!1}),th}var d$;function _5(){if(d$)return QI;d$=1;var i=Y(),e=b5(),t=oe(),r=hi(),n=!r("difference",function(s){return s.size===0}),o=n||t(function(){var s={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(s).size!==3});return i({target:"Set",proto:!0,real:!0,forced:o},{difference:e}),QI}var c$={},rh,h$;function w5(){if(h$)return rh;h$=1;var i=ui(),e=li(),t=mo(),r=ci(),n=yo(),o=di(),s=e.Set,a=e.add,u=e.has;return rh=function(d){var c=i(this),h=r(d),f=new s;return t(c)>h.size?o(h.getIterator(),function(v){u(c,v)&&a(f,v)}):n(c,function(v){h.includes(v)&&a(f,v)}),f},rh}var f$;function E5(){if(f$)return c$;f$=1;var i=Y(),e=oe(),t=w5(),r=hi(),n=!r("intersection",function(o){return o.size===2&&o.has(1)&&o.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),c$}var v$={},ih,p$;function S5(){if(p$)return ih;p$=1;var i=ui(),e=li().has,t=mo(),r=ci(),n=yo(),o=di(),s=Ob();return ih=function(u){var l=i(this),d=r(u);if(t(l)<=d.size)return n(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return o(c,function(h){if(e(l,h))return s(c,"normal",!1)})!==!1},ih}var g$;function O5(){if(g$)return v$;g$=1;var i=Y(),e=S5(),t=hi(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),v$}var y$={},nh,m$;function I5(){if(m$)return nh;m$=1;var i=ui(),e=mo(),t=yo(),r=ci();return nh=function(o){var s=i(this),a=r(o);return e(s)>a.size?!1:t(s,function(u){if(!a.includes(u))return!1},!0)!==!1},nh}var b$;function $5(){if(b$)return y$;b$=1;var i=Y(),e=I5(),t=hi(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),y$}var _$={},oh,w$;function T5(){if(w$)return oh;w$=1;var i=ui(),e=li().has,t=mo(),r=ci(),n=di(),o=Ob();return oh=function(a){var u=i(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return n(d,function(c){if(!e(u,c))return o(d,"normal",!1)})!==!1},oh}var E$;function P5(){if(E$)return _$;E$=1;var i=Y(),e=T5(),t=hi(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),_$}var S$={},sh,O$;function R5(){if(O$)return sh;O$=1;var i=ui(),e=li(),t=Tb(),r=ci(),n=di(),o=e.add,s=e.has,a=e.remove;return sh=function(l){var d=i(this),c=r(l).getIterator(),h=t(d);return n(c,function(f){s(d,f)?a(h,f):o(h,f)}),h},sh}var ah,I$;function xk(){return I$||(I$=1,ah=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),ah}var $$;function q5(){if($$)return S$;$$=1;var i=Y(),e=R5(),t=xk(),r=hi(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),S$}var T$={},uh,P$;function C5(){if(P$)return uh;P$=1;var i=ui(),e=li().add,t=Tb(),r=ci(),n=di();return uh=function(s){var a=i(this),u=r(s).getIterator(),l=t(a);return n(u,function(d){e(l,d)}),l},uh}var R$;function x5(){if(R$)return T$;R$=1;var i=Y(),e=C5(),t=xk(),r=hi(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),T$}var lh,q$;function D5(){if(q$)return lh;q$=1,$r(),y5(),_5(),E5(),O5(),$5(),P5(),q5(),x5(),$s();var i=Me();return lh=i.Set,lh}var dh,C$;function A5(){if(C$)return dh;C$=1;var i=D5();return Tr(),dh=i,dh}var ch,x$;function M5(){return x$||(x$=1,ch=A5()),ch}var F5=M5(),hh=ee(F5),fh,D$;function N5(){if(D$)return fh;D$=1,$r(),$s();var i=$k();return fh=i,fh}var vh,A$;function k5(){if(A$)return vh;A$=1;var i=N5();return Tr(),vh=i,vh}var ph,M$;function B5(){if(M$)return ph;M$=1;var i=k5();return ph=i,ph}var gh,F$;function j5(){if(F$)return gh;F$=1;var i=B5();return gh=i,gh}var yh,N$;function L5(){return N$||(N$=1,yh=j5()),yh}var mh,k$;function z5(){return k$||(k$=1,mh=L5()),mh}var W5=z5(),bh=ee(W5);class jr{constructor(e){this._pairs=e}*[Ri](){for(const[e,t]of this._pairs)yield[e,t]}*entries(){for(const[e,t]of this._pairs)yield[e,t]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Pt(e=[...this._pairs]).call(e,t=>t[0])}toItemArray(){var e;return Pt(e=[...this._pairs]).call(e,t=>t[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=MW(null);for(const[t,r]of this._pairs)e[t]=r;return e}toMap(){return new Ck(this._pairs)}toIdSet(){return new hh(this.toIdArray())}toItemSet(){return new hh(this.toItemArray())}cache(){return new jr([...this._pairs])}distinct(e){const t=new hh;for(const[r,n]of this._pairs)t.add(e(n,r));return t}filter(e){const t=this._pairs;return new jr({*[Ri](){for(const[r,n]of t)e(n,r)&&(yield[r,n])}})}forEach(e){for(const[t,r]of this._pairs)e(r,t)}map(e){const t=this._pairs;return new jr({*[Ri](){for(const[r,n]of t)yield[r,e(n,r)]}})}max(e){const t=bh(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],o=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[s,a]=r.value,u=e(a,s);u>o&&(o=u,n=a)}return n}min(e){const t=bh(this._pairs);let r=t.next();if(r.done)return null;let n=r.value[1],o=e(r.value[1],r.value[0]);for(;!(r=t.next()).done;){const[s,a]=r.value,u=e(a,s);u<o&&(o=u,n=a)}return n}reduce(e,t){for(const[r,n]of this._pairs)t=e(t,n,r);return t}sort(e){return new jr({[Ri]:()=>{var t;return bh(Mm(t=[...this._pairs]).call(t,(r,n)=>{let[o,s]=r,[a,u]=n;return e(s,u,o,a)}))}})}}function B$(i,e){var t=gb(i);if(PO){var r=PO(i);e&&(r=$i(r).call(r,function(n){return Sk(i,n).enumerable})),t.push.apply(t,r)}return t}function j$(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?Xr(t=B$(Object(n),!0)).call(t,function(o){fr(i,o,n[o])}):BO?c3(i,BO(n)):Xr(r=B$(Object(n))).call(r,function(o){v3(i,o,Sk(n,o))})}return i}function H5(i,e){return i[e]==null&&(i[e]=p5()),i}class ss extends os{get idProp(){return this._idProp}constructor(e,t){super(),fr(this,"_queue",null),e&&!At(e)&&(t=e,e=[]),this._options=t||{},this._data=new Ck,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(t)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=$b.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,t){const r=[];let n;if(At(e)){const o=Pt(e).call(e,s=>s[this._idProp]);if(M3(o).call(o,s=>this._data.has(s)))throw new Error("A duplicate id was found in the parameter array.");for(let s=0,a=e.length;s<a;s++)n=this._addItem(e[s]),r.push(n)}else if(e&&typeof e=="object")n=this._addItem(e),r.push(n);else throw new Error("Unknown dataType");return r.length&&this._trigger("add",{items:r},t),r}update(e,t){const r=[],n=[],o=[],s=[],a=this._idProp,u=l=>{const d=l[a];if(d!=null&&this._data.has(d)){const c=l,h=SW({},this._data.get(d)),f=this._updateItem(c);n.push(f),s.push(c),o.push(h)}else{const c=this._addItem(l);r.push(c)}};if(At(e))for(let l=0,d=e.length;l<d;l++)e[l]&&typeof e[l]=="object"?u(e[l]):console.warn("Ignoring input item, which is not an object at index "+l);else if(e&&typeof e=="object")u(e);else throw new Error("Unknown dataType");if(r.length&&this._trigger("add",{items:r},t),n.length){const l={items:n,oldData:o,data:s};this._trigger("update",l,t)}return RW(r).call(r,n)}updateOnly(e,t){var r;At(e)||(e=[e]);const n=Pt(r=Pt(e).call(e,o=>{const s=this._data.get(o[this._idProp]);if(s==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:s,update:o}})).call(r,o=>{let{oldData:s,update:a}=o;const u=s[this._idProp],l=zH(s,a);return this._data.set(u,l),{id:u,oldData:s,updatedData:l}});if(n.length){const o={items:Pt(n).call(n,s=>s.id),oldData:Pt(n).call(n,s=>s.oldData),data:Pt(n).call(n,s=>s.updatedData)};return this._trigger("update",o,t),o.items}else return[]}get(e,t){let r,n,o;KI(e)?(r=e,o=t):At(e)?(n=e,o=t):o=e;const s=o&&o.returnType==="Object"?"Object":"Array",a=o&&$i(o),u=[];let l,d,c;if(r!=null)l=this._data.get(r),l&&a&&!a(l)&&(l=void 0);else if(n!=null)for(let f=0,v=n.length;f<v;f++)l=this._data.get(n[f]),l!=null&&(!a||a(l))&&u.push(l);else{var h;d=[...Si(h=this._data).call(h)];for(let f=0,v=d.length;f<v;f++)c=d[f],l=this._data.get(c),l!=null&&(!a||a(l))&&u.push(l)}if(o&&o.order&&r==null&&this._sort(u,o.order),o&&o.fields){const f=o.fields;if(r!=null&&l!=null)l=this._filterFields(l,f);else for(let v=0,p=u.length;v<p;v++)u[v]=this._filterFields(u[v],f)}if(s=="Object"){const f={};for(let v=0,p=u.length;v<p;v++){const b=u[v],y=b[this._idProp];f[y]=b}return f}else return r!=null?l??null:u}getIds(e){const t=this._data,r=e&&$i(e),n=e&&e.order,o=[...Si(t).call(t)],s=[];if(r)if(n){const a=[];for(let u=0,l=o.length;u<l;u++){const d=o[u],c=this._data.get(d);c!=null&&r(c)&&a.push(c)}this._sort(a,n);for(let u=0,l=a.length;u<l;u++)s.push(a[u][this._idProp])}else for(let a=0,u=o.length;a<u;a++){const l=o[a],d=this._data.get(l);d!=null&&r(d)&&s.push(d[this._idProp])}else if(n){const a=[];for(let u=0,l=o.length;u<l;u++){const d=o[u];a.push(t.get(d))}this._sort(a,n);for(let u=0,l=a.length;u<l;u++)s.push(a[u][this._idProp])}else for(let a=0,u=o.length;a<u;a++){const l=o[a],d=t.get(l);d!=null&&s.push(d[this._idProp])}return s}getDataSet(){return this}forEach(e,t){const r=t&&$i(t),n=this._data,o=[...Si(n).call(n)];if(t&&t.order){const s=this.get(t);for(let a=0,u=s.length;a<u;a++){const l=s[a],d=l[this._idProp];e(l,d)}}else for(let s=0,a=o.length;s<a;s++){const u=o[s],l=this._data.get(u);l!=null&&(!r||r(l))&&e(l,u)}}map(e,t){const r=t&&$i(t),n=[],o=this._data,s=[...Si(o).call(o)];for(let a=0,u=s.length;a<u;a++){const l=s[a],d=this._data.get(l);d!=null&&(!r||r(d))&&n.push(e(d,l))}return t&&t.order&&this._sort(n,t.order),n}_filterFields(e,t){var r;return e&&cz(r=At(t)?t:gb(t)).call(r,(n,o)=>(n[o]=e[o],n),{})}_sort(e,t){if(typeof t=="string"){const r=t;Mm(e).call(e,(n,o)=>{const s=n[r],a=o[r];return s>a?1:s<a?-1:0})}else if(typeof t=="function")Mm(e).call(e,t);else throw new TypeError("Order must be a function or a string")}remove(e,t){const r=[],n=[],o=At(e)?e:[e];for(let s=0,a=o.length;s<a;s++){const u=this._remove(o[s]);if(u){const l=u[this._idProp];l!=null&&(r.push(l),n.push(u))}}return r.length&&this._trigger("remove",{items:r,oldData:n},t),r}_remove(e){let t;if(KI(e)?t=e:e&&typeof e=="object"&&(t=e[this._idProp]),t!=null&&this._data.has(t)){const r=this._data.get(t)||null;return this._data.delete(t),--this.length,r}return null}clear(e){var t;const r=[...Si(t=this._data).call(t)],n=[];for(let o=0,s=r.length;o<s;o++)n.push(this._data.get(r[o]));return this._data.clear(),this.length=0,this._trigger("remove",{items:r,oldData:n},e),r}max(e){let t=null,r=null;for(const o of LI(n=this._data).call(n)){var n;const s=o[e];typeof s=="number"&&(r==null||s>r)&&(t=o,r=s)}return t||null}min(e){let t=null,r=null;for(const o of LI(n=this._data).call(n)){var n;const s=o[e];typeof s=="number"&&(r==null||s<r)&&(t=o,r=s)}return t||null}distinct(e){const t=this._data,r=[...Si(t).call(t)],n=[];let o=0;for(let s=0,a=r.length;s<a;s++){const u=r[s],d=t.get(u)[e];let c=!1;for(let h=0;h<o;h++)if(n[h]==d){c=!0;break}!c&&d!==void 0&&(n[o]=d,o++)}return n}_addItem(e){const t=H5(e,this._idProp),r=t[this._idProp];if(this._data.has(r))throw new Error("Cannot add item: item with id "+r+" already exists");return this._data.set(r,t),++this.length,r}_updateItem(e){const t=e[this._idProp];if(t==null)throw new Error("Cannot update item: item has no id (item: "+HW(e)+")");const r=this._data.get(t);if(!r)throw new Error("Cannot update item: no item with id "+t+" found");return this._data.set(t,j$(j$({},r),e)),t}stream(e){if(e){const r=this._data;return new jr({*[Ri](){for(const n of e){const o=r.get(n);o!=null&&(yield[n,o])}}})}else{var t;return new jr({[Ri]:HN(t=l5(this._data)).call(t,this._data)})}}}function U5(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Xr(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Pt(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function Dk(i,e){return typeof e=="object"&&e!==null&&i===e.idProp&&typeof Xr(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Pt(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&U5(i,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var L$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function G(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var z$={},Rn,W$;function ye(){if(W$)return Rn;W$=1;var i=function(e){return e&&e.Math===Math&&e};return Rn=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof L$=="object"&&L$)||i(typeof Rn=="object"&&Rn)||(function(){return this})()||Function("return this")(),Rn}var _h,H$;function te(){return H$||(H$=1,_h=function(i){try{return!!i()}catch{return!0}}),_h}var wh,U$;function bo(){if(U$)return wh;U$=1;var i=te();return wh=!i(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),wh}var Eh,V$;function qs(){if(V$)return Eh;V$=1;var i=bo(),e=Function.prototype,t=e.apply,r=e.call;return Eh=typeof Reflect=="object"&&Reflect.apply||(i?r.bind(t):function(){return r.apply(t,arguments)}),Eh}var Sh,G$;function re(){if(G$)return Sh;G$=1;var i=bo(),e=Function.prototype,t=e.call,r=i&&e.bind.bind(t,t);return Sh=i?r:function(n){return function(){return t.apply(n,arguments)}},Sh}var Oh,K$;function Ht(){if(K$)return Oh;K$=1;var i=re(),e=i({}.toString),t=i("".slice);return Oh=function(r){return t(e(r),8,-1)},Oh}var Ih,Y$;function Pb(){if(Y$)return Ih;Y$=1;var i=Ht(),e=re();return Ih=function(t){if(i(t)==="Function")return e(t)},Ih}var $h,X$;function Le(){if(X$)return $h;X$=1;var i=typeof document=="object"&&document.all;return $h=typeof i>"u"&&i!==void 0?function(e){return typeof e=="function"||e===i}:function(e){return typeof e=="function"},$h}var Th={},Ph,J$;function $e(){if(J$)return Ph;J$=1;var i=te();return Ph=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Ph}var Rh,Z$;function lt(){if(Z$)return Rh;Z$=1;var i=bo(),e=Function.prototype.call;return Rh=i?e.bind(e):function(){return e.apply(e,arguments)},Rh}var qh={},Q$;function Cs(){if(Q$)return qh;Q$=1;var i={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,t=e&&!i.call({1:2},1);return qh.f=t?function(n){var o=e(this,n);return!!o&&o.enumerable}:i,qh}var Ch,eT;function _o(){return eT||(eT=1,Ch=function(i,e){return{enumerable:!(i&1),configurable:!(i&2),writable:!(i&4),value:e}}),Ch}var xh,tT;function xs(){if(tT)return xh;tT=1;var i=re(),e=te(),t=Ht(),r=Object,n=i("".split);return xh=e(function(){return!r("z").propertyIsEnumerable(0)})?function(o){return t(o)==="String"?n(o,""):r(o)}:r,xh}var Dh,rT;function rn(){return rT||(rT=1,Dh=function(i){return i==null}),Dh}var Ah,iT;function sr(){if(iT)return Ah;iT=1;var i=rn(),e=TypeError;return Ah=function(t){if(i(t))throw new e("Can't call method on "+t);return t},Ah}var Mh,nT;function Dt(){if(nT)return Mh;nT=1;var i=xs(),e=sr();return Mh=function(t){return i(e(t))},Mh}var Fh,oT;function ze(){if(oT)return Fh;oT=1;var i=Le();return Fh=function(e){return typeof e=="object"?e!==null:i(e)},Fh}var Nh,sT;function se(){return sT||(sT=1,Nh={}),Nh}var kh,aT;function ht(){if(aT)return kh;aT=1;var i=se(),e=ye(),t=Le(),r=function(n){return t(n)?n:void 0};return kh=function(n,o){return arguments.length<2?r(i[n])||r(e[n]):i[n]&&i[n][o]||e[n]&&e[n][o]},kh}var Bh,uT;function xe(){if(uT)return Bh;uT=1;var i=re();return Bh=i({}.isPrototypeOf),Bh}var jh,lT;function nn(){if(lT)return jh;lT=1;var i=ye(),e=i.navigator,t=e&&e.userAgent;return jh=t?String(t):"",jh}var Lh,dT;function wo(){if(dT)return Lh;dT=1;var i=ye(),e=nn(),t=i.process,r=i.Deno,n=t&&t.versions||r&&r.version,o=n&&n.v8,s,a;return o&&(s=o.split("."),a=s[0]>0&&s[0]<4?1:+(s[0]+s[1])),!a&&e&&(s=e.match(/Edge\/(\d+)/),(!s||s[1]>=74)&&(s=e.match(/Chrome\/(\d+)/),s&&(a=+s[1]))),Lh=a,Lh}var zh,cT;function on(){if(cT)return zh;cT=1;var i=wo(),e=te(),t=ye(),r=t.String;return zh=!!Object.getOwnPropertySymbols&&!e(function(){var n=Symbol("symbol detection");return!r(n)||!(Object(n)instanceof Symbol)||!Symbol.sham&&i&&i<41}),zh}var Wh,hT;function Ak(){if(hT)return Wh;hT=1;var i=on();return Wh=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Wh}var Hh,fT;function Eo(){if(fT)return Hh;fT=1;var i=ht(),e=Le(),t=xe(),r=Ak(),n=Object;return Hh=r?function(o){return typeof o=="symbol"}:function(o){var s=i("Symbol");return e(s)&&t(s.prototype,n(o))},Hh}var Uh,vT;function sn(){if(vT)return Uh;vT=1;var i=String;return Uh=function(e){try{return i(e)}catch{return"Object"}},Uh}var Vh,pT;function ar(){if(pT)return Vh;pT=1;var i=Le(),e=sn(),t=TypeError;return Vh=function(r){if(i(r))return r;throw new t(e(r)+" is not a function")},Vh}var Gh,gT;function Rb(){if(gT)return Gh;gT=1;var i=ar(),e=rn();return Gh=function(t,r){var n=t[r];return e(n)?void 0:i(n)},Gh}var Kh,yT;function V5(){if(yT)return Kh;yT=1;var i=lt(),e=Le(),t=ze(),r=TypeError;return Kh=function(n,o){var s,a;if(o==="string"&&e(s=n.toString)&&!t(a=i(s,n))||e(s=n.valueOf)&&!t(a=i(s,n))||o!=="string"&&e(s=n.toString)&&!t(a=i(s,n)))return a;throw new r("Can't convert object to primitive value")},Kh}var Yh={exports:{}},Xh,mT;function an(){return mT||(mT=1,Xh=!0),Xh}var Jh,bT;function G5(){if(bT)return Jh;bT=1;var i=ye(),e=Object.defineProperty;return Jh=function(t,r){try{e(i,t,{value:r,configurable:!0,writable:!0})}catch{i[t]=r}return r},Jh}var _T;function qb(){if(_T)return Yh.exports;_T=1;var i=an(),e=ye(),t=G5(),r="__core-js_shared__",n=Yh.exports=e[r]||t(r,{});return(n.versions||(n.versions=[])).push({version:"3.44.0",mode:i?"pure":"global",copyright:"Â© 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Yh.exports}var Zh,wT;function un(){if(wT)return Zh;wT=1;var i=qb();return Zh=function(e,t){return i[e]||(i[e]=t||{})},Zh}var Qh,ET;function ft(){if(ET)return Qh;ET=1;var i=sr(),e=Object;return Qh=function(t){return e(i(t))},Qh}var ef,ST;function Ue(){if(ST)return ef;ST=1;var i=re(),e=ft(),t=i({}.hasOwnProperty);return ef=Object.hasOwn||function(n,o){return t(e(n),o)},ef}var tf,OT;function Ds(){if(OT)return tf;OT=1;var i=re(),e=0,t=Math.random(),r=i(1.1.toString);return tf=function(n){return"Symbol("+(n===void 0?"":n)+")_"+r(++e+t,36)},tf}var rf,IT;function De(){if(IT)return rf;IT=1;var i=ye(),e=un(),t=Ue(),r=Ds(),n=on(),o=Ak(),s=i.Symbol,a=e("wks"),u=o?s.for||s:s&&s.withoutSetter||r;return rf=function(l){return t(a,l)||(a[l]=n&&t(s,l)?s[l]:u("Symbol."+l)),a[l]},rf}var nf,$T;function Mk(){if($T)return nf;$T=1;var i=lt(),e=ze(),t=Eo(),r=Rb(),n=V5(),o=De(),s=TypeError,a=o("toPrimitive");return nf=function(u,l){if(!e(u)||t(u))return u;var d=r(u,a),c;if(d){if(l===void 0&&(l="default"),c=i(d,u,l),!e(c)||t(c))return c;throw new s("Can't convert object to primitive value")}return l===void 0&&(l="number"),n(u,l)},nf}var of,TT;function Cb(){if(TT)return of;TT=1;var i=Mk(),e=Eo();return of=function(t){var r=i(t,"string");return e(r)?r:r+""},of}var sf,PT;function Fk(){if(PT)return sf;PT=1;var i=ye(),e=ze(),t=i.document,r=e(t)&&e(t.createElement);return sf=function(n){return r?t.createElement(n):{}},sf}var af,RT;function Nk(){if(RT)return af;RT=1;var i=$e(),e=te(),t=Fk();return af=!i&&!e(function(){return Object.defineProperty(t("div"),"a",{get:function(){return 7}}).a!==7}),af}var qT;function As(){if(qT)return Th;qT=1;var i=$e(),e=lt(),t=Cs(),r=_o(),n=Dt(),o=Cb(),s=Ue(),a=Nk(),u=Object.getOwnPropertyDescriptor;return Th.f=i?u:function(d,c){if(d=n(d),c=o(c),a)try{return u(d,c)}catch{}if(s(d,c))return r(!e(t.f,d,c),d[c])},Th}var uf,CT;function K5(){if(CT)return uf;CT=1;var i=te(),e=Le(),t=/#|\.prototype\./,r=function(u,l){var d=o[n(u)];return d===a?!0:d===s?!1:e(l)?i(l):!!l},n=r.normalize=function(u){return String(u).replace(t,".").toLowerCase()},o=r.data={},s=r.NATIVE="N",a=r.POLYFILL="P";return uf=r,uf}var lf,xT;function Ms(){if(xT)return lf;xT=1;var i=Pb(),e=ar(),t=bo(),r=i(i.bind);return lf=function(n,o){return e(n),o===void 0?n:t?r(n,o):function(){return n.apply(o,arguments)}},lf}var df={},cf,DT;function kk(){if(DT)return cf;DT=1;var i=$e(),e=te();return cf=i&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),cf}var hf,AT;function Ut(){if(AT)return hf;AT=1;var i=ze(),e=String,t=TypeError;return hf=function(r){if(i(r))return r;throw new t(e(r)+" is not an object")},hf}var MT;function wt(){if(MT)return df;MT=1;var i=$e(),e=Nk(),t=kk(),r=Ut(),n=Cb(),o=TypeError,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,u="enumerable",l="configurable",d="writable";return df.f=i?t?function(h,f,v){if(r(h),f=n(f),r(v),typeof h=="function"&&f==="prototype"&&"value"in v&&d in v&&!v[d]){var p=a(h,f);p&&p[d]&&(h[f]=v.value,v={configurable:l in v?v[l]:p[l],enumerable:u in v?v[u]:p[u],writable:!1})}return s(h,f,v)}:s:function(h,f,v){if(r(h),f=n(f),r(v),e)try{return s(h,f,v)}catch{}if("get"in v||"set"in v)throw new o("Accessors not supported");return"value"in v&&(h[f]=v.value),h},df}var ff,FT;function ln(){if(FT)return ff;FT=1;var i=$e(),e=wt(),t=_o();return ff=i?function(r,n,o){return e.f(r,n,t(1,o))}:function(r,n,o){return r[n]=o,r},ff}var vf,NT;function z(){if(NT)return vf;NT=1;var i=ye(),e=qs(),t=Pb(),r=Le(),n=As().f,o=K5(),s=se(),a=Ms(),u=ln(),l=Ue(),d=function(c){var h=function(f,v,p){if(this instanceof h){switch(arguments.length){case 0:return new c;case 1:return new c(f);case 2:return new c(f,v)}return new c(f,v,p)}return e(c,this,arguments)};return h.prototype=c.prototype,h};return vf=function(c,h){var f=c.target,v=c.global,p=c.stat,b=c.proto,y=v?i:p?i[f]:i[f]&&i[f].prototype,g=v?s:s[f]||u(s,f,{})[f],S=g.prototype,m,w,O,I,_,E,$,T,P;for(I in h)m=o(v?I:f+(p?".":"#")+I,c.forced),w=!m&&y&&l(y,I),E=g[I],w&&(c.dontCallGetSet?(P=n(y,I),$=P&&P.value):$=y[I]),_=w&&$?$:h[I],!(!m&&!b&&typeof E==typeof _)&&(c.bind&&w?T=a(_,i):c.wrap&&w?T=d(_):b&&r(_)?T=t(_):T=_,(c.sham||_&&_.sham||E&&E.sham)&&u(T,"sham",!0),u(g,I,T),b&&(O=f+"Prototype",l(s,O)||u(s,O,{}),u(s[O],I,_),c.real&&S&&(m||!S[I])&&u(S,I,_)))},vf}var pf,kT;function Y5(){if(kT)return pf;kT=1;var i=Math.ceil,e=Math.floor;return pf=Math.trunc||function(r){var n=+r;return(n>0?e:i)(n)},pf}var gf,BT;function dn(){if(BT)return gf;BT=1;var i=Y5();return gf=function(e){var t=+e;return t!==t||t===0?0:i(t)},gf}var yf,jT;function Fs(){if(jT)return yf;jT=1;var i=dn(),e=Math.max,t=Math.min;return yf=function(r,n){var o=i(r);return o<0?e(o+n,0):t(o,n)},yf}var mf,LT;function Bk(){if(LT)return mf;LT=1;var i=dn(),e=Math.min;return mf=function(t){var r=i(t);return r>0?e(r,9007199254740991):0},mf}var bf,zT;function ur(){if(zT)return bf;zT=1;var i=Bk();return bf=function(e){return i(e.length)},bf}var _f,WT;function xb(){if(WT)return _f;WT=1;var i=Dt(),e=Fs(),t=ur(),r=function(n){return function(o,s,a){var u=i(o),l=t(u);if(l===0)return!n&&-1;var d=e(a,l),c;if(n&&s!==s){for(;l>d;)if(c=u[d++],c!==c)return!0}else for(;l>d;d++)if((n||d in u)&&u[d]===s)return n||d||0;return!n&&-1}};return _f={includes:r(!0),indexOf:r(!1)},_f}var wf,HT;function So(){return HT||(HT=1,wf={}),wf}var Ef,UT;function jk(){if(UT)return Ef;UT=1;var i=re(),e=Ue(),t=Dt(),r=xb().indexOf,n=So(),o=i([].push);return Ef=function(s,a){var u=t(s),l=0,d=[],c;for(c in u)!e(n,c)&&e(u,c)&&o(d,c);for(;a.length>l;)e(u,c=a[l++])&&(~r(d,c)||o(d,c));return d},Ef}var Sf,VT;function Db(){return VT||(VT=1,Sf=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Sf}var Of,GT;function Oo(){if(GT)return Of;GT=1;var i=jk(),e=Db();return Of=Object.keys||function(r){return i(r,e)},Of}var If={},KT;function Ns(){return KT||(KT=1,If.f=Object.getOwnPropertySymbols),If}var $f,YT;function X5(){if(YT)return $f;YT=1;var i=$e(),e=re(),t=lt(),r=te(),n=Oo(),o=Ns(),s=Cs(),a=ft(),u=xs(),l=Object.assign,d=Object.defineProperty,c=e([].concat);return $f=!l||r(function(){if(i&&l({b:1},l(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var h={},f={},v=Symbol("assign detection"),p="abcdefghijklmnopqrst";return h[v]=7,p.split("").forEach(function(b){f[b]=b}),l({},h)[v]!==7||n(l({},f)).join("")!==p})?function(f,v){for(var p=a(f),b=arguments.length,y=1,g=o.f,S=s.f;b>y;)for(var m=u(arguments[y++]),w=g?c(n(m),g(m)):n(m),O=w.length,I=0,_;O>I;)_=w[I++],(!i||t(S,m,_))&&(p[_]=m[_]);return p}:l,$f}var XT;function J5(){if(XT)return z$;XT=1;var i=z(),e=X5();return i({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),z$}var Tf,JT;function Z5(){if(JT)return Tf;JT=1,J5();var i=se();return Tf=i.Object.assign,Tf}var Pf,ZT;function Q5(){if(ZT)return Pf;ZT=1;var i=Z5();return Pf=i,Pf}var Rf,QT;function eU(){return QT||(QT=1,Rf=Q5()),Rf}var tU=eU(),Pe=G(tU),eP={},qf,tP;function cn(){if(tP)return qf;tP=1;var i=re();return qf=i([].slice),qf}var Cf,rP;function rU(){if(rP)return Cf;rP=1;var i=re(),e=ar(),t=ze(),r=Ue(),n=cn(),o=bo(),s=Function,a=i([].concat),u=i([].join),l={},d=function(c,h,f){if(!r(l,h)){for(var v=[],p=0;p<h;p++)v[p]="a["+p+"]";l[h]=s("C,a","return new C("+u(v,",")+")")}return l[h](c,f)};return Cf=o?s.bind:function(h){var f=e(this),v=f.prototype,p=n(arguments,1),b=function(){var g=a(p,n(arguments));return this instanceof b?d(f,g.length,g):f.apply(h,g)};return t(v)&&(b.prototype=v),b},Cf}var iP;function iU(){if(iP)return eP;iP=1;var i=z(),e=rU();return i({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),eP}var xf,nP;function Ve(){if(nP)return xf;nP=1;var i=ye(),e=se();return xf=function(t,r){var n=e[t+"Prototype"],o=n&&n[r];if(o)return o;var s=i[t],a=s&&s.prototype;return a&&a[r]},xf}var Df,oP;function nU(){if(oP)return Df;oP=1,iU();var i=Ve();return Df=i("Function","bind"),Df}var Af,sP;function oU(){if(sP)return Af;sP=1;var i=xe(),e=nU(),t=Function.prototype;return Af=function(r){var n=r.bind;return r===t||i(t,r)&&n===t.bind?e:n},Af}var Mf,aP;function sU(){if(aP)return Mf;aP=1;var i=oU();return Mf=i,Mf}var Ff,uP;function aU(){return uP||(uP=1,Ff=sU()),Ff}var uU=aU(),D=G(uU);function Ab(i,e,t,r){i.beginPath(),i.arc(e,t,r,0,2*Math.PI,!1),i.closePath()}function lU(i,e,t,r){i.beginPath(),i.rect(e-r,t-r,r*2,r*2),i.closePath()}function dU(i,e,t,r){i.beginPath(),r*=1.15,t+=.275*r;const n=r*2,o=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-o*o);i.moveTo(e,t-(a-s)),i.lineTo(e+o,t+s),i.lineTo(e-o,t+s),i.lineTo(e,t-(a-s)),i.closePath()}function cU(i,e,t,r){i.beginPath(),r*=1.15,t-=.275*r;const n=r*2,o=n/2,s=Math.sqrt(3)/6*n,a=Math.sqrt(n*n-o*o);i.moveTo(e,t+(a-s)),i.lineTo(e+o,t-s),i.lineTo(e-o,t-s),i.lineTo(e,t+(a-s)),i.closePath()}function hU(i,e,t,r){i.beginPath(),r*=.82,t+=.1*r;for(let n=0;n<10;n++){const o=n%2===0?r*1.3:r*.5;i.lineTo(e+o*Math.sin(n*2*Math.PI/10),t-o*Math.cos(n*2*Math.PI/10))}i.closePath()}function fU(i,e,t,r){i.beginPath(),i.lineTo(e,t+r),i.lineTo(e+r,t),i.lineTo(e,t-r),i.lineTo(e-r,t),i.closePath()}function Lk(i,e,t,r,n,o){const s=Math.PI/180;r-2*o<0&&(o=r/2),n-2*o<0&&(o=n/2),i.beginPath(),i.moveTo(e+o,t),i.lineTo(e+r-o,t),i.arc(e+r-o,t+o,o,s*270,s*360,!1),i.lineTo(e+r,t+n-o),i.arc(e+r-o,t+n-o,o,0,s*90,!1),i.lineTo(e+o,t+n),i.arc(e+o,t+n-o,o,s*90,s*180,!1),i.lineTo(e,t+o),i.arc(e+o,t+o,o,s*180,s*270,!1),i.closePath()}function Fm(i,e,t,r,n){const o=.5522848,s=r/2*o,a=n/2*o,u=e+r,l=t+n,d=e+r/2,c=t+n/2;i.beginPath(),i.moveTo(e,c),i.bezierCurveTo(e,c-a,d-s,t,d,t),i.bezierCurveTo(d+s,t,u,c-a,u,c),i.bezierCurveTo(u,c+a,d+s,l,d,l),i.bezierCurveTo(d-s,l,e,c+a,e,c),i.closePath()}function zk(i,e,t,r,n){const o=.3333333333333333,s=r,a=n*o,u=.5522848,l=s/2*u,d=a/2*u,c=e+s,h=t+a,f=e+s/2,v=t+a/2,p=t+(n-a/2),b=t+n;i.beginPath(),i.moveTo(c,v),i.bezierCurveTo(c,v+d,f+l,h,f,h),i.bezierCurveTo(f-l,h,e,v+d,e,v),i.bezierCurveTo(e,v-d,f-l,t,f,t),i.bezierCurveTo(f+l,t,c,v-d,c,v),i.lineTo(c,p),i.bezierCurveTo(c,p+d,f+l,b,f,b),i.bezierCurveTo(f-l,b,e,p+d,e,p),i.lineTo(e,v)}function Wk(i,e,t,r,n,o){i.beginPath(),i.moveTo(e,t);const s=o.length,a=r-e,u=n-t,l=u/a;let d=Math.sqrt(a*a+u*u),c=0,h=!0,f=0,v=+o[0];for(;d>=.1;)v=+o[c++%s],v>d&&(v=d),f=Math.sqrt(v*v/(1+l*l)),f=a<0?-f:f,e+=f,t+=l*f,h===!0?i.lineTo(e,t):i.moveTo(e,t),d-=v,h=!h}function vU(i,e,t,r){i.beginPath();const n=6,o=Math.PI*2/n;i.moveTo(e+r,t);for(let s=1;s<n;s++)i.lineTo(e+r*Math.cos(o*s),t+r*Math.sin(o*s));i.closePath()}const lP={circle:Ab,dashedLine:Wk,database:zk,diamond:fU,ellipse:Fm,ellipse_vis:Fm,hexagon:vU,roundRect:Lk,square:lU,star:hU,triangle:dU,triangleDown:cU};function pU(i){return Object.prototype.hasOwnProperty.call(lP,i)?lP[i]:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];CanvasRenderingContext2D.prototype[i].call(e,r)}}var Nf={exports:{}},dP;function gU(){return dP||(dP=1,(function(i){i.exports=e;function e(r){if(r)return t(r)}function t(r){for(var n in e.prototype)r[n]=e.prototype[n];return r}e.prototype.on=e.prototype.addEventListener=function(r,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+r]=this._callbacks["$"+r]||[]).push(n),this},e.prototype.once=function(r,n){function o(){this.off(r,o),n.apply(this,arguments)}return o.fn=n,this.on(r,o),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(r,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var o=this._callbacks["$"+r];if(!o)return this;if(arguments.length==1)return delete this._callbacks["$"+r],this;for(var s,a=0;a<o.length;a++)if(s=o[a],s===n||s.fn===n){o.splice(a,1);break}return o.length===0&&delete this._callbacks["$"+r],this},e.prototype.emit=function(r){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),o=this._callbacks["$"+r],s=1;s<arguments.length;s++)n[s-1]=arguments[s];if(o){o=o.slice(0);for(var s=0,a=o.length;s<a;++s)o[s].apply(this,n)}return this},e.prototype.listeners=function(r){return this._callbacks=this._callbacks||{},this._callbacks["$"+r]||[]},e.prototype.hasListeners=function(r){return!!this.listeners(r).length}})(Nf)),Nf.exports}var yU=gU(),Hk=G(yU),cP={},kf,hP;function fi(){if(hP)return kf;hP=1;var i=Ht();return kf=Array.isArray||function(t){return i(t)==="Array"},kf}var Bf,fP;function Uk(){if(fP)return Bf;fP=1;var i=TypeError,e=9007199254740991;return Bf=function(t){if(t>e)throw i("Maximum allowed index exceeded");return t},Bf}var jf,vP;function ks(){if(vP)return jf;vP=1;var i=$e(),e=wt(),t=_o();return jf=function(r,n,o){i?e.f(r,n,t(0,o)):r[n]=o},jf}var Lf,pP;function Mb(){if(pP)return Lf;pP=1;var i=De(),e=i("toStringTag"),t={};return t[e]="z",Lf=String(t)==="[object z]",Lf}var zf,gP;function hn(){if(gP)return zf;gP=1;var i=Mb(),e=Le(),t=Ht(),r=De(),n=r("toStringTag"),o=Object,s=t((function(){return arguments})())==="Arguments",a=function(u,l){try{return u[l]}catch{}};return zf=i?t:function(u){var l,d,c;return u===void 0?"Undefined":u===null?"Null":typeof(d=a(l=o(u),n))=="string"?d:s?t(l):(c=t(l))==="Object"&&e(l.callee)?"Arguments":c},zf}var Wf,yP;function mU(){if(yP)return Wf;yP=1;var i=re(),e=Le(),t=qb(),r=i(Function.toString);return e(t.inspectSource)||(t.inspectSource=function(n){return r(n)}),Wf=t.inspectSource,Wf}var Hf,mP;function Vk(){if(mP)return Hf;mP=1;var i=re(),e=te(),t=Le(),r=hn(),n=ht(),o=mU(),s=function(){},a=n("Reflect","construct"),u=/^\s*(?:class|function)\b/,l=i(u.exec),d=!u.test(s),c=function(v){if(!t(v))return!1;try{return a(s,[],v),!0}catch{return!1}},h=function(v){if(!t(v))return!1;switch(r(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!l(u,o(v))}catch{return!0}};return h.sham=!0,Hf=!a||e(function(){var f;return c(c.call)||!c(Object)||!c(function(){f=!0})||f})?h:c,Hf}var Uf,bP;function bU(){if(bP)return Uf;bP=1;var i=fi(),e=Vk(),t=ze(),r=De(),n=r("species"),o=Array;return Uf=function(s){var a;return i(s)&&(a=s.constructor,e(a)&&(a===o||i(a.prototype))?a=void 0:t(a)&&(a=a[n],a===null&&(a=void 0))),a===void 0?o:a},Uf}var Vf,_P;function Fb(){if(_P)return Vf;_P=1;var i=bU();return Vf=function(e,t){return new(i(e))(t===0?0:t)},Vf}var Gf,wP;function Io(){if(wP)return Gf;wP=1;var i=te(),e=De(),t=wo(),r=e("species");return Gf=function(n){return t>=51||!i(function(){var o=[],s=o.constructor={};return s[r]=function(){return{foo:1}},o[n](Boolean).foo!==1})},Gf}var EP;function Gk(){if(EP)return cP;EP=1;var i=z(),e=te(),t=fi(),r=ze(),n=ft(),o=ur(),s=Uk(),a=ks(),u=Fb(),l=Io(),d=De(),c=wo(),h=d("isConcatSpreadable"),f=c>=51||!e(function(){var b=[];return b[h]=!1,b.concat()[0]!==b}),v=function(b){if(!r(b))return!1;var y=b[h];return y!==void 0?!!y:t(b)},p=!f||!l("concat");return i({target:"Array",proto:!0,arity:1,forced:p},{concat:function(y){var g=n(this),S=u(g,0),m=0,w,O,I,_,E;for(w=-1,I=arguments.length;w<I;w++)if(E=w===-1?g:arguments[w],v(E))for(_=o(E),s(m+_),O=0;O<_;O++,m++)O in E&&a(S,m,E[O]);else s(m+1),a(S,m++,E);return S.length=m,S}}),cP}var SP={},OP={},Kf,IP;function Et(){if(IP)return Kf;IP=1;var i=hn(),e=String;return Kf=function(t){if(i(t)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(t)},Kf}var Yf={},$P;function Nb(){if($P)return Yf;$P=1;var i=$e(),e=kk(),t=wt(),r=Ut(),n=Dt(),o=Oo();return Yf.f=i&&!e?Object.defineProperties:function(a,u){r(a);for(var l=n(u),d=o(u),c=d.length,h=0,f;c>h;)t.f(a,f=d[h++],l[f]);return a},Yf}var Xf,TP;function _U(){if(TP)return Xf;TP=1;var i=ht();return Xf=i("document","documentElement"),Xf}var Jf,PP;function Bs(){if(PP)return Jf;PP=1;var i=un(),e=Ds(),t=i("keys");return Jf=function(r){return t[r]||(t[r]=e(r))},Jf}var Zf,RP;function $o(){if(RP)return Zf;RP=1;var i=Ut(),e=Nb(),t=Db(),r=So(),n=_U(),o=Fk(),s=Bs(),a=">",u="<",l="prototype",d="script",c=s("IE_PROTO"),h=function(){},f=function(g){return u+d+a+g+u+"/"+d+a},v=function(g){g.write(f("")),g.close();var S=g.parentWindow.Object;return g=null,S},p=function(){var g=o("iframe"),S="java"+d+":",m;return g.style.display="none",n.appendChild(g),g.src=String(S),m=g.contentWindow.document,m.open(),m.write(f("document.F=Object")),m.close(),m.F},b,y=function(){try{b=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&b?v(b):p():v(b);for(var g=t.length;g--;)delete y[l][t[g]];return y()};return r[c]=!0,Zf=Object.create||function(S,m){var w;return S!==null?(h[l]=i(S),w=new h,h[l]=null,w[c]=S):w=y(),m===void 0?w:e.f(w,m)},Zf}var Qf={},qP;function js(){if(qP)return Qf;qP=1;var i=jk(),e=Db(),t=e.concat("length","prototype");return Qf.f=Object.getOwnPropertyNames||function(n){return i(n,t)},Qf}var ev={},CP;function kb(){if(CP)return ev;CP=1;var i=Ht(),e=Dt(),t=js().f,r=cn(),n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],o=function(s){try{return t(s)}catch{return r(n)}};return ev.f=function(a){return n&&i(a)==="Window"?o(a):t(e(a))},ev}var tv,xP;function To(){if(xP)return tv;xP=1;var i=ln();return tv=function(e,t,r,n){return n&&n.enumerable?e[t]=r:i(e,t,r),e},tv}var rv,DP;function Bb(){if(DP)return rv;DP=1;var i=wt();return rv=function(e,t,r){return i.f(e,t,r)},rv}var iv={},AP;function Ls(){if(AP)return iv;AP=1;var i=De();return iv.f=i,iv}var nv,MP;function we(){if(MP)return nv;MP=1;var i=se(),e=Ue(),t=Ls(),r=wt().f;return nv=function(n){var o=i.Symbol||(i.Symbol={});e(o,n)||r(o,n,{value:t.f(n)})},nv}var ov,FP;function Kk(){if(FP)return ov;FP=1;var i=lt(),e=ht(),t=De(),r=To();return ov=function(){var n=e("Symbol"),o=n&&n.prototype,s=o&&o.valueOf,a=t("toPrimitive");o&&!o[a]&&r(o,a,function(u){return i(s,this)},{arity:1})},ov}var sv,NP;function wU(){if(NP)return sv;NP=1;var i=Mb(),e=hn();return sv=i?{}.toString:function(){return"[object "+e(this)+"]"},sv}var av,kP;function vi(){if(kP)return av;kP=1;var i=Mb(),e=wt().f,t=ln(),r=Ue(),n=wU(),o=De(),s=o("toStringTag");return av=function(a,u,l,d){var c=l?a:a&&a.prototype;c&&(r(c,s)||e(c,s,{configurable:!0,value:u}),d&&!i&&t(c,"toString",n))},av}var uv,BP;function Yk(){if(BP)return uv;BP=1;var i=ye(),e=Le(),t=i.WeakMap;return uv=e(t)&&/native code/.test(String(t)),uv}var lv,jP;function pi(){if(jP)return lv;jP=1;var i=Yk(),e=ye(),t=ze(),r=ln(),n=Ue(),o=qb(),s=Bs(),a=So(),u="Object already initialized",l=e.TypeError,d=e.WeakMap,c,h,f,v=function(g){return f(g)?h(g):c(g,{})},p=function(g){return function(S){var m;if(!t(S)||(m=h(S)).type!==g)throw new l("Incompatible receiver, "+g+" required");return m}};if(i||o.state){var b=o.state||(o.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,c=function(g,S){if(b.has(g))throw new l(u);return S.facade=g,b.set(g,S),S},h=function(g){return b.get(g)||{}},f=function(g){return b.has(g)}}else{var y=s("state");a[y]=!0,c=function(g,S){if(n(g,y))throw new l(u);return S.facade=g,r(g,y,S),S},h=function(g){return n(g,y)?g[y]:{}},f=function(g){return n(g,y)}}return lv={set:c,get:h,has:f,enforce:v,getterFor:p},lv}var dv,LP;function Pr(){if(LP)return dv;LP=1;var i=Ms(),e=re(),t=xs(),r=ft(),n=ur(),o=Fb(),s=e([].push),a=function(u){var l=u===1,d=u===2,c=u===3,h=u===4,f=u===6,v=u===7,p=u===5||f;return function(b,y,g,S){for(var m=r(b),w=t(m),O=n(w),I=i(y,g),_=0,E=S||o,$=l?E(b,O):d||v?E(b,0):void 0,T,P;O>_;_++)if((p||_ in w)&&(T=w[_],P=I(T,_,m),u))if(l)$[_]=P;else if(P)switch(u){case 3:return!0;case 5:return T;case 6:return _;case 2:s($,T)}else switch(u){case 4:return!1;case 7:s($,T)}return f?-1:c||h?h:$}};return dv={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},dv}var zP;function EU(){if(zP)return OP;zP=1;var i=z(),e=ye(),t=lt(),r=re(),n=an(),o=$e(),s=on(),a=te(),u=Ue(),l=xe(),d=Ut(),c=Dt(),h=Cb(),f=Et(),v=_o(),p=$o(),b=Oo(),y=js(),g=kb(),S=Ns(),m=As(),w=wt(),O=Nb(),I=Cs(),_=To(),E=Bb(),$=un(),T=Bs(),P=So(),R=Ds(),C=De(),M=Ls(),K=we(),L=Kk(),J=vi(),Q=pi(),ae=Pr().forEach,W=T("hidden"),ue="Symbol",me="prototype",be=Q.set,Ot=Q.getterFor(ue),pe=Object[me],Ge=e.Symbol,It=Ge&&Ge[me],Xs=e.RangeError,Js=e.TypeError,Cr=e.QObject,bn=m.f,Ke=w.f,_n=g.f,Zs=I.f,wn=r([].push),Ae=$("symbols"),$t=$("op-symbols"),Qs=$("wks"),xr=!Cr||!Cr[me]||!Cr[me].findChild,En=function(H,F,N){var k=bn(pe,F);k&&delete pe[F],Ke(H,F,N),k&&H!==pe&&Ke(pe,F,k)},Dr=o&&a(function(){return p(Ke({},"a",{get:function(){return Ke(this,"a",{value:7}).a}})).a!==7})?En:Ke,Ar=function(H,F){var N=Ae[H]=p(It);return be(N,{type:ue,tag:H,description:F}),o||(N.description=F),N},Vt=function(F,N,k){F===pe&&Vt($t,N,k),d(F);var U=h(N);return d(k),u(Ae,U)?(k.enumerable?(u(F,W)&&F[W][U]&&(F[W][U]=!1),k=p(k,{enumerable:v(0,!1)})):(u(F,W)||Ke(F,W,v(1,p(null))),F[W][U]=!0),Dr(F,U,k)):Ke(F,U,k)},Mr=function(F,N){d(F);var k=c(N),U=b(k).concat(In(k));return ae(U,function(ie){(!o||t(Fr,k,ie))&&Vt(F,ie,k[ie])}),F},ea=function(F,N){return N===void 0?p(F):Mr(p(F),N)},Fr=function(F){var N=h(F),k=t(Zs,this,N);return this===pe&&u(Ae,N)&&!u($t,N)?!1:k||!u(this,N)||!u(Ae,N)||u(this,W)&&this[W][N]?k:!0},Sn=function(F,N){var k=c(F),U=h(N);if(!(k===pe&&u(Ae,U)&&!u($t,U))){var ie=bn(k,U);return ie&&u(Ae,U)&&!(u(k,W)&&k[W][U])&&(ie.enumerable=!0),ie}},On=function(F){var N=_n(c(F)),k=[];return ae(N,function(U){!u(Ae,U)&&!u(P,U)&&wn(k,U)}),k},In=function(H){var F=H===pe,N=_n(F?$t:c(H)),k=[];return ae(N,function(U){u(Ae,U)&&(!F||u(pe,U))&&wn(k,Ae[U])}),k};return s||(Ge=function(){if(l(It,this))throw new Js("Symbol is not a constructor");var F=!arguments.length||arguments[0]===void 0?void 0:f(arguments[0]),N=R(F),k=function(U){var ie=this===void 0?e:this;ie===pe&&t(k,$t,U),u(ie,W)&&u(ie[W],N)&&(ie[W][N]=!1);var $n=v(1,U);try{Dr(ie,N,$n)}catch(Tn){if(!(Tn instanceof Xs))throw Tn;En(ie,N,$n)}};return o&&xr&&Dr(pe,N,{configurable:!0,set:k}),Ar(N,F)},It=Ge[me],_(It,"toString",function(){return Ot(this).tag}),_(Ge,"withoutSetter",function(H){return Ar(R(H),H)}),I.f=Fr,w.f=Vt,O.f=Mr,m.f=Sn,y.f=g.f=On,S.f=In,M.f=function(H){return Ar(C(H),H)},o&&(E(It,"description",{configurable:!0,get:function(){return Ot(this).description}}),n||_(pe,"propertyIsEnumerable",Fr,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!s,sham:!s},{Symbol:Ge}),ae(b(Qs),function(H){K(H)}),i({target:ue,stat:!0,forced:!s},{useSetter:function(){xr=!0},useSimple:function(){xr=!1}}),i({target:"Object",stat:!0,forced:!s,sham:!o},{create:ea,defineProperty:Vt,defineProperties:Mr,getOwnPropertyDescriptor:Sn}),i({target:"Object",stat:!0,forced:!s},{getOwnPropertyNames:On}),L(),J(Ge,ue),P[W]=!0,OP}var WP={},cv,HP;function Xk(){if(HP)return cv;HP=1;var i=on();return cv=i&&!!Symbol.for&&!!Symbol.keyFor,cv}var UP;function SU(){if(UP)return WP;UP=1;var i=z(),e=ht(),t=Ue(),r=Et(),n=un(),o=Xk(),s=n("string-to-symbol-registry"),a=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!o},{for:function(u){var l=r(u);if(t(s,l))return s[l];var d=e("Symbol")(l);return s[l]=d,a[d]=l,d}}),WP}var VP={},GP;function OU(){if(GP)return VP;GP=1;var i=z(),e=Ue(),t=Eo(),r=sn(),n=un(),o=Xk(),s=n("symbol-to-string-registry");return i({target:"Symbol",stat:!0,forced:!o},{keyFor:function(u){if(!t(u))throw new TypeError(r(u)+" is not a symbol");if(e(s,u))return s[u]}}),VP}var KP={},hv,YP;function IU(){if(YP)return hv;YP=1;var i=re(),e=fi(),t=Le(),r=Ht(),n=Et(),o=i([].push);return hv=function(s){if(t(s))return s;if(e(s)){for(var a=s.length,u=[],l=0;l<a;l++){var d=s[l];typeof d=="string"?o(u,d):(typeof d=="number"||r(d)==="Number"||r(d)==="String")&&o(u,n(d))}var c=u.length,h=!0;return function(f,v){if(h)return h=!1,v;if(e(this))return v;for(var p=0;p<c;p++)if(u[p]===f)return v}}},hv}var XP;function Jk(){if(XP)return KP;XP=1;var i=z(),e=ht(),t=qs(),r=lt(),n=re(),o=te(),s=Le(),a=Eo(),u=cn(),l=IU(),d=on(),c=String,h=e("JSON","stringify"),f=n(/./.exec),v=n("".charAt),p=n("".charCodeAt),b=n("".replace),y=n(1.1.toString),g=/[\uD800-\uDFFF]/g,S=/^[\uD800-\uDBFF]$/,m=/^[\uDC00-\uDFFF]$/,w=!d||o(function(){var E=e("Symbol")("stringify detection");return h([E])!=="[null]"||h({a:E})!=="{}"||h(Object(E))!=="{}"}),O=o(function(){return h("\uDF06\uD834")!=='"\\udf06\\ud834"'||h("\uDEAD")!=='"\\udead"'}),I=function(E,$){var T=u(arguments),P=l($);if(!(!s(P)&&(E===void 0||a(E))))return T[1]=function(R,C){if(s(P)&&(C=r(P,this,c(R),C)),!a(C))return C},t(h,null,T)},_=function(E,$,T){var P=v(T,$-1),R=v(T,$+1);return f(S,E)&&!f(m,R)||f(m,E)&&!f(S,P)?"\\u"+y(p(E,0),16):E};return h&&i({target:"JSON",stat:!0,arity:3,forced:w||O},{stringify:function($,T,P){var R=u(arguments),C=t(w?I:h,null,R);return O&&typeof C=="string"?b(C,g,_):C}}),KP}var JP={},ZP;function $U(){if(ZP)return JP;ZP=1;var i=z(),e=on(),t=te(),r=Ns(),n=ft(),o=!e||t(function(){r.f(1)});return i({target:"Object",stat:!0,forced:o},{getOwnPropertySymbols:function(a){var u=r.f;return u?u(n(a)):[]}}),JP}var QP;function Zk(){return QP||(QP=1,EU(),SU(),OU(),Jk(),$U()),SP}var eR={},tR;function Qk(){if(tR)return eR;tR=1;var i=we();return i("asyncDispose"),eR}var rR={},iR;function TU(){if(iR)return rR;iR=1;var i=we();return i("asyncIterator"),rR}var nR={},oR;function e2(){if(oR)return nR;oR=1;var i=we();return i("dispose"),nR}var sR={},aR;function PU(){if(aR)return sR;aR=1;var i=we();return i("hasInstance"),sR}var uR={},lR;function RU(){if(lR)return uR;lR=1;var i=we();return i("isConcatSpreadable"),uR}var dR={},cR;function t2(){if(cR)return dR;cR=1;var i=we();return i("iterator"),dR}var hR={},fR;function qU(){if(fR)return hR;fR=1;var i=we();return i("match"),hR}var vR={},pR;function CU(){if(pR)return vR;pR=1;var i=we();return i("matchAll"),vR}var gR={},yR;function xU(){if(yR)return gR;yR=1;var i=we();return i("replace"),gR}var mR={},bR;function DU(){if(bR)return mR;bR=1;var i=we();return i("search"),mR}var _R={},wR;function AU(){if(wR)return _R;wR=1;var i=we();return i("species"),_R}var ER={},SR;function MU(){if(SR)return ER;SR=1;var i=we();return i("split"),ER}var OR={},IR;function r2(){if(IR)return OR;IR=1;var i=we(),e=Kk();return i("toPrimitive"),e(),OR}var $R={},TR;function FU(){if(TR)return $R;TR=1;var i=ht(),e=we(),t=vi();return e("toStringTag"),t(i("Symbol"),"Symbol"),$R}var PR={},RR;function NU(){if(RR)return PR;RR=1;var i=we();return i("unscopables"),PR}var qR={},CR;function kU(){if(CR)return qR;CR=1;var i=ye(),e=vi();return e(i.JSON,"JSON",!0),qR}var fv,xR;function BU(){if(xR)return fv;xR=1,Gk(),Zk(),Qk(),TU(),e2(),PU(),RU(),t2(),qU(),CU(),xU(),DU(),AU(),MU(),r2(),FU(),NU(),kU();var i=se();return fv=i.Symbol,fv}var DR={},vv,AR;function jb(){return AR||(AR=1,vv=function(){}),vv}var pv,MR;function fn(){return MR||(MR=1,pv={}),pv}var gv,FR;function jU(){if(FR)return gv;FR=1;var i=$e(),e=Ue(),t=Function.prototype,r=i&&Object.getOwnPropertyDescriptor,n=e(t,"name"),o=n&&(function(){}).name==="something",s=n&&(!i||i&&r(t,"name").configurable);return gv={EXISTS:n,PROPER:o,CONFIGURABLE:s},gv}var yv,NR;function i2(){if(NR)return yv;NR=1;var i=te();return yv=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),yv}var mv,kR;function zs(){if(kR)return mv;kR=1;var i=Ue(),e=Le(),t=ft(),r=Bs(),n=i2(),o=r("IE_PROTO"),s=Object,a=s.prototype;return mv=n?s.getPrototypeOf:function(u){var l=t(u);if(i(l,o))return l[o];var d=l.constructor;return e(d)&&l instanceof d?d.prototype:l instanceof s?a:null},mv}var bv,BR;function n2(){if(BR)return bv;BR=1;var i=te(),e=Le(),t=ze(),r=$o(),n=zs(),o=To(),s=De(),a=an(),u=s("iterator"),l=!1,d,c,h;[].keys&&(h=[].keys(),"next"in h?(c=n(n(h)),c!==Object.prototype&&(d=c)):l=!0);var f=!t(d)||i(function(){var v={};return d[u].call(v)!==v});return f?d={}:a&&(d=r(d)),e(d[u])||o(d,u,function(){return this}),bv={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:l},bv}var _v,jR;function LU(){if(jR)return _v;jR=1;var i=n2().IteratorPrototype,e=$o(),t=_o(),r=vi(),n=fn(),o=function(){return this};return _v=function(s,a,u,l){var d=a+" Iterator";return s.prototype=e(i,{next:t(+!l,u)}),r(s,d,!1,!0),n[d]=o,s},_v}var wv,LR;function zU(){if(LR)return wv;LR=1;var i=re(),e=ar();return wv=function(t,r,n){try{return i(e(Object.getOwnPropertyDescriptor(t,r)[n]))}catch{}},wv}var Ev,zR;function WU(){if(zR)return Ev;zR=1;var i=ze();return Ev=function(e){return i(e)||e===null},Ev}var Sv,WR;function HU(){if(WR)return Sv;WR=1;var i=WU(),e=String,t=TypeError;return Sv=function(r){if(i(r))return r;throw new t("Can't set "+e(r)+" as a prototype")},Sv}var Ov,HR;function UU(){if(HR)return Ov;HR=1;var i=zU(),e=ze(),t=sr(),r=HU();return Ov=Object.setPrototypeOf||("__proto__"in{}?(function(){var n=!1,o={},s;try{s=i(Object.prototype,"__proto__","set"),s(o,[]),n=o instanceof Array}catch{}return function(u,l){return t(u),r(l),e(u)&&(n?s(u,l):u.__proto__=l),u}})():void 0),Ov}var Iv,UR;function Lb(){if(UR)return Iv;UR=1;var i=z(),e=lt(),t=an(),r=jU(),n=Le(),o=LU(),s=zs(),a=UU(),u=vi(),l=ln(),d=To(),c=De(),h=fn(),f=n2(),v=r.PROPER,p=r.CONFIGURABLE,b=f.IteratorPrototype,y=f.BUGGY_SAFARI_ITERATORS,g=c("iterator"),S="keys",m="values",w="entries",O=function(){return this};return Iv=function(I,_,E,$,T,P,R){o(E,_,$);var C=function(be){if(be===T&&Q)return Q;if(!y&&be&&be in L)return L[be];switch(be){case S:return function(){return new E(this,be)};case m:return function(){return new E(this,be)};case w:return function(){return new E(this,be)}}return function(){return new E(this)}},M=_+" Iterator",K=!1,L=I.prototype,J=L[g]||L["@@iterator"]||T&&L[T],Q=!y&&J||C(T),ae=_==="Array"&&L.entries||J,W,ue,me;if(ae&&(W=s(ae.call(new I)),W!==Object.prototype&&W.next&&(!t&&s(W)!==b&&(a?a(W,b):n(W[g])||d(W,g,O)),u(W,M,!0,!0),t&&(h[M]=O))),v&&T===m&&J&&J.name!==m&&(!t&&p?l(L,"name",m):(K=!0,Q=function(){return e(J,this)})),T)if(ue={values:C(m),keys:P?Q:C(S),entries:C(w)},R)for(me in ue)(y||K||!(me in L))&&d(L,me,ue[me]);else i({target:_,proto:!0,forced:y||K},ue);return(!t||R)&&L[g]!==Q&&d(L,g,Q,{name:T}),h[_]=Q,ue},Iv}var $v,VR;function zb(){return VR||(VR=1,$v=function(i,e){return{value:i,done:e}}),$v}var Tv,GR;function vn(){if(GR)return Tv;GR=1;var i=Dt(),e=jb(),t=fn(),r=pi(),n=wt().f,o=Lb(),s=zb(),a=an(),u=$e(),l="Array Iterator",d=r.set,c=r.getterFor(l);Tv=o(Array,"Array",function(f,v){d(this,{type:l,target:i(f),index:0,kind:v})},function(){var f=c(this),v=f.target,p=f.index++;if(!v||p>=v.length)return f.target=null,s(void 0,!0);switch(f.kind){case"keys":return s(p,!1);case"values":return s(v[p],!1)}return s([p,v[p]],!1)},"values");var h=t.Arguments=t.Array;if(e("keys"),e("values"),e("entries"),!a&&u&&h.name!=="values")try{n(h,"name",{value:"values"})}catch{}return Tv}var Pv,KR;function VU(){return KR||(KR=1,Pv={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Pv}var YR;function pn(){if(YR)return DR;YR=1,vn();var i=VU(),e=ye(),t=vi(),r=fn();for(var n in i)t(e[n],n),r[n]=r.Array;return DR}var Rv,XR;function o2(){if(XR)return Rv;XR=1;var i=BU();return pn(),Rv=i,Rv}var qv,JR;function GU(){return JR||(JR=1,qv=o2()),qv}var KU=GU(),YU=G(KU),ZR={},QR;function XU(){if(QR)return ZR;QR=1;var i=z(),e=fi(),t=Vk(),r=ze(),n=Fs(),o=ur(),s=Dt(),a=ks(),u=De(),l=Io(),d=cn(),c=l("slice"),h=u("species"),f=Array,v=Math.max;return i({target:"Array",proto:!0,forced:!c},{slice:function(b,y){var g=s(this),S=o(g),m=n(b,S),w=n(y===void 0?S:y,S),O,I,_;if(e(g)&&(O=g.constructor,t(O)&&(O===f||e(O.prototype))?O=void 0:r(O)&&(O=O[h],O===null&&(O=void 0)),O===f||O===void 0))return d(g,m,w);for(I=new(O===void 0?f:O)(v(w-m,0)),_=0;m<w;m++,_++)m in g&&a(I,_,g[m]);return I.length=_,I}}),ZR}var Cv,eq;function JU(){if(eq)return Cv;eq=1,XU();var i=Ve();return Cv=i("Array","slice"),Cv}var xv,tq;function ZU(){if(tq)return xv;tq=1;var i=xe(),e=JU(),t=Array.prototype;return xv=function(r){var n=r.slice;return r===t||i(t,r)&&n===t.slice?e:n},xv}var Dv,rq;function QU(){if(rq)return Dv;rq=1;var i=ZU();return Dv=i,Dv}var Av,iq;function eV(){return iq||(iq=1,Av=QU()),Av}var tV=eV(),Mt=G(tV),Mv,nq;function rV(){if(nq)return Mv;nq=1;var i=ht(),e=re(),t=js(),r=Ns(),n=Ut(),o=e([].concat);return Mv=i("Reflect","ownKeys")||function(a){var u=t.f(n(a)),l=r.f;return l?o(u,l(a)):u},Mv}var oq={},sq;function iV(){if(sq)return oq;sq=1;var i=z(),e=fi();return i({target:"Array",stat:!0},{isArray:e}),oq}var Fv,aq;function nV(){if(aq)return Fv;aq=1,iV();var i=se();return Fv=i.Array.isArray,Fv}var Nv,uq;function oV(){if(uq)return Nv;uq=1;var i=nV();return Nv=i,Nv}var kv,lq;function sV(){return lq||(lq=1,kv=oV()),kv}var aV=sV(),Oe=G(aV),dq={},cq;function uV(){if(cq)return dq;cq=1;var i=z(),e=Pr().map,t=Io(),r=t("map");return i({target:"Array",proto:!0,forced:!r},{map:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),dq}var Bv,hq;function lV(){if(hq)return Bv;hq=1,uV();var i=Ve();return Bv=i("Array","map"),Bv}var jv,fq;function dV(){if(fq)return jv;fq=1;var i=xe(),e=lV(),t=Array.prototype;return jv=function(r){var n=r.map;return r===t||i(t,r)&&n===t.map?e:n},jv}var Lv,vq;function cV(){if(vq)return Lv;vq=1;var i=dV();return Lv=i,Lv}var zv,pq;function hV(){return pq||(pq=1,zv=cV()),zv}var fV=hV(),ji=G(fV),gq={},yq;function vV(){if(yq)return gq;yq=1;var i=z(),e=ft(),t=Oo(),r=te(),n=r(function(){t(1)});return i({target:"Object",stat:!0,forced:n},{keys:function(s){return t(e(s))}}),gq}var Wv,mq;function pV(){if(mq)return Wv;mq=1,vV();var i=se();return Wv=i.Object.keys,Wv}var Hv,bq;function gV(){if(bq)return Hv;bq=1;var i=pV();return Hv=i,Hv}var Uv,_q;function yV(){return _q||(_q=1,Uv=gV()),Uv}var mV=yV(),Se=G(mV),wq={},Eq;function bV(){if(Eq)return wq;Eq=1;var i=z(),e=re(),t=Date,r=e(t.prototype.getTime);return i({target:"Date",stat:!0},{now:function(){return r(new t)}}),wq}var Vv,Sq;function _V(){if(Sq)return Vv;Sq=1,bV();var i=se();return Vv=i.Date.now,Vv}var Gv,Oq;function wV(){if(Oq)return Gv;Oq=1;var i=_V();return Gv=i,Gv}var Kv,Iq;function EV(){return Iq||(Iq=1,Kv=wV()),Kv}var SV=EV(),as=G(SV),$q={},Yv,Tq;function gn(){if(Tq)return Yv;Tq=1;var i=te();return Yv=function(e,t){var r=[][e];return!!r&&i(function(){r.call(null,t||function(){return 1},1)})},Yv}var Xv,Pq;function OV(){if(Pq)return Xv;Pq=1;var i=Pr().forEach,e=gn(),t=e("forEach");return Xv=t?[].forEach:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)},Xv}var Rq;function IV(){if(Rq)return $q;Rq=1;var i=z(),e=OV();return i({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),$q}var Jv,qq;function $V(){if(qq)return Jv;qq=1,IV();var i=Ve();return Jv=i("Array","forEach"),Jv}var Zv,Cq;function TV(){if(Cq)return Zv;Cq=1;var i=$V();return Zv=i,Zv}var Qv,xq;function PV(){if(xq)return Qv;xq=1;var i=hn(),e=Ue(),t=xe(),r=TV(),n=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return Qv=function(s){var a=s.forEach;return s===n||t(n,s)&&a===n.forEach||e(o,i(s))?r:a},Qv}var ep,Dq;function RV(){return Dq||(Dq=1,ep=PV()),ep}var qV=RV(),le=G(qV),Aq={},Mq;function CV(){if(Mq)return Aq;Mq=1;var i=z(),e=re(),t=fi(),r=e([].reverse),n=[1,2];return i({target:"Array",proto:!0,forced:String(n)===String(n.reverse())},{reverse:function(){return t(this)&&(this.length=this.length),r(this)}}),Aq}var tp,Fq;function xV(){if(Fq)return tp;Fq=1,CV();var i=Ve();return tp=i("Array","reverse"),tp}var rp,Nq;function DV(){if(Nq)return rp;Nq=1;var i=xe(),e=xV(),t=Array.prototype;return rp=function(r){var n=r.reverse;return r===t||i(t,r)&&n===t.reverse?e:n},rp}var ip,kq;function AV(){if(kq)return ip;kq=1;var i=DV();return ip=i,ip}var np,Bq;function MV(){return Bq||(Bq=1,np=AV()),np}var FV=MV(),Vr=G(FV),jq={},op,Lq;function NV(){if(Lq)return op;Lq=1;var i=$e(),e=fi(),t=TypeError,r=Object.getOwnPropertyDescriptor,n=i&&!(function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(o){return o instanceof TypeError}})();return op=n?function(o,s){if(e(o)&&!r(o,"length").writable)throw new t("Cannot set read only .length");return o.length=s}:function(o,s){return o.length=s},op}var sp,zq;function s2(){if(zq)return sp;zq=1;var i=sn(),e=TypeError;return sp=function(t,r){if(!delete t[r])throw new e("Cannot delete property "+i(r)+" of "+i(t))},sp}var Wq;function kV(){if(Wq)return jq;Wq=1;var i=z(),e=ft(),t=Fs(),r=dn(),n=ur(),o=NV(),s=Uk(),a=Fb(),u=ks(),l=s2(),d=Io(),c=d("splice"),h=Math.max,f=Math.min;return i({target:"Array",proto:!0,forced:!c},{splice:function(p,b){var y=e(this),g=n(y),S=t(p,g),m=arguments.length,w,O,I,_,E,$;for(m===0?w=O=0:m===1?(w=0,O=g-S):(w=m-2,O=f(h(r(b),0),g-S)),s(g+w-O),I=a(y,O),_=0;_<O;_++)E=S+_,E in y&&u(I,_,y[E]);if(I.length=O,w<O){for(_=S;_<g-O;_++)E=_+O,$=_+w,E in y?y[$]=y[E]:l(y,$);for(_=g;_>g-O+w;_--)l(y,_-1)}else if(w>O)for(_=g-O;_>S;_--)E=_+O-1,$=_+w-1,E in y?y[$]=y[E]:l(y,$);for(_=0;_<w;_++)y[_+S]=arguments[_+2];return o(y,g-O+w),I}}),jq}var ap,Hq;function BV(){if(Hq)return ap;Hq=1,kV();var i=Ve();return ap=i("Array","splice"),ap}var up,Uq;function jV(){if(Uq)return up;Uq=1;var i=xe(),e=BV(),t=Array.prototype;return up=function(r){var n=r.splice;return r===t||i(t,r)&&n===t.splice?e:n},up}var lp,Vq;function LV(){if(Vq)return lp;Vq=1;var i=jV();return lp=i,lp}var dp,Gq;function zV(){return Gq||(Gq=1,dp=LV()),dp}var WV=zV(),Zt=G(WV),Kq={},Yq;function HV(){if(Yq)return Kq;Yq=1;var i=z(),e=xb().includes,t=te(),r=jb(),n=t(function(){return!Array(1).includes()});return i({target:"Array",proto:!0,forced:n},{includes:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),r("includes"),Kq}var cp,Xq;function UV(){if(Xq)return cp;Xq=1,HV();var i=Ve();return cp=i("Array","includes"),cp}var Jq={},hp,Zq;function VV(){if(Zq)return hp;Zq=1;var i=ze(),e=Ht(),t=De(),r=t("match");return hp=function(n){var o;return i(n)&&((o=n[r])!==void 0?!!o:e(n)==="RegExp")},hp}var fp,Qq;function GV(){if(Qq)return fp;Qq=1;var i=VV(),e=TypeError;return fp=function(t){if(i(t))throw new e("The method doesn't accept regular expressions");return t},fp}var vp,eC;function KV(){if(eC)return vp;eC=1;var i=De(),e=i("match");return vp=function(t){var r=/./;try{"/./"[t](r)}catch{try{return r[e]=!1,"/./"[t](r)}catch{}}return!1},vp}var tC;function YV(){if(tC)return Jq;tC=1;var i=z(),e=re(),t=GV(),r=sr(),n=Et(),o=KV(),s=e("".indexOf);return i({target:"String",proto:!0,forced:!o("includes")},{includes:function(u){return!!~s(n(r(this)),n(t(u)),arguments.length>1?arguments[1]:void 0)}}),Jq}var pp,rC;function XV(){if(rC)return pp;rC=1,YV();var i=Ve();return pp=i("String","includes"),pp}var gp,iC;function JV(){if(iC)return gp;iC=1;var i=xe(),e=UV(),t=XV(),r=Array.prototype,n=String.prototype;return gp=function(o){var s=o.includes;return o===r||i(r,o)&&s===r.includes?e:typeof o=="string"||o===n||i(n,o)&&s===n.includes?t:s},gp}var yp,nC;function ZV(){if(nC)return yp;nC=1;var i=JV();return yp=i,yp}var mp,oC;function QV(){return oC||(oC=1,mp=ZV()),mp}var eG=QV(),pr=G(eG),sC={},aC;function tG(){if(aC)return sC;aC=1;var i=z(),e=te(),t=ft(),r=zs(),n=i2(),o=e(function(){r(1)});return i({target:"Object",stat:!0,forced:o,sham:!n},{getPrototypeOf:function(a){return r(t(a))}}),sC}var bp,uC;function rG(){if(uC)return bp;uC=1,tG();var i=se();return bp=i.Object.getPrototypeOf,bp}var _p,lC;function iG(){if(lC)return _p;lC=1;var i=rG();return _p=i,_p}var wp,dC;function nG(){return dC||(dC=1,wp=iG()),wp}var oG=nG(),cC=G(oG),Ep,hC;function sG(){if(hC)return Ep;hC=1,Gk();var i=Ve();return Ep=i("Array","concat"),Ep}var Sp,fC;function aG(){if(fC)return Sp;fC=1;var i=xe(),e=sG(),t=Array.prototype;return Sp=function(r){var n=r.concat;return r===t||i(t,r)&&n===t.concat?e:n},Sp}var Op,vC;function uG(){if(vC)return Op;vC=1;var i=aG();return Op=i,Op}var Ip,pC;function lG(){return pC||(pC=1,Ip=uG()),Ip}var dG=lG(),cG=G(dG),gC={},yC;function hG(){if(yC)return gC;yC=1;var i=z(),e=Pr().filter,t=Io(),r=t("filter");return i({target:"Array",proto:!0,forced:!r},{filter:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),gC}var $p,mC;function fG(){if(mC)return $p;mC=1,hG();var i=Ve();return $p=i("Array","filter"),$p}var Tp,bC;function vG(){if(bC)return Tp;bC=1;var i=xe(),e=fG(),t=Array.prototype;return Tp=function(r){var n=r.filter;return r===t||i(t,r)&&n===t.filter?e:n},Tp}var Pp,_C;function pG(){if(_C)return Pp;_C=1;var i=vG();return Pp=i,Pp}var Rp,wC;function gG(){return wC||(wC=1,Rp=pG()),Rp}var yG=gG(),it=G(yG),EC={},qp,SC;function mG(){if(SC)return qp;SC=1;var i=$e(),e=te(),t=re(),r=zs(),n=Oo(),o=Dt(),s=Cs().f,a=t(s),u=t([].push),l=i&&e(function(){var c=Object.create(null);return c[2]=2,!a(c,2)}),d=function(c){return function(h){for(var f=o(h),v=n(f),p=l&&r(f)===null,b=v.length,y=0,g=[],S;b>y;)S=v[y++],(!i||(p?S in f:a(f,S)))&&u(g,c?[S,f[S]]:f[S]);return g}};return qp={entries:d(!0),values:d(!1)},qp}var OC;function bG(){if(OC)return EC;OC=1;var i=z(),e=mG().values;return i({target:"Object",stat:!0},{values:function(r){return e(r)}}),EC}var Cp,IC;function _G(){if(IC)return Cp;IC=1,bG();var i=se();return Cp=i.Object.values,Cp}var xp,$C;function wG(){if($C)return xp;$C=1;var i=_G();return xp=i,xp}var Dp,TC;function EG(){return TC||(TC=1,Dp=wG()),Dp}var SG=EG(),OG=G(SG),PC={},Ap,RC;function Wb(){return RC||(RC=1,Ap=`	
\v\f\r Â áââââââââââââ¯âã\u2028\u2029\uFEFF`),Ap}var Mp,qC;function a2(){if(qC)return Mp;qC=1;var i=re(),e=sr(),t=Et(),r=Wb(),n=i("".replace),o=RegExp("^["+r+"]+"),s=RegExp("(^|[^"+r+"])["+r+"]+$"),a=function(u){return function(l){var d=t(e(l));return u&1&&(d=n(d,o,"")),u&2&&(d=n(d,s,"$1")),d}};return Mp={start:a(1),end:a(2),trim:a(3)},Mp}var Fp,CC;function IG(){if(CC)return Fp;CC=1;var i=ye(),e=te(),t=re(),r=Et(),n=a2().trim,o=Wb(),s=i.parseInt,a=i.Symbol,u=a&&a.iterator,l=/^[+-]?0x/i,d=t(l.exec),c=s(o+"08")!==8||s(o+"0x16")!==22||u&&!e(function(){s(Object(u))});return Fp=c?function(f,v){var p=n(r(f));return s(p,v>>>0||(d(l,p)?16:10))}:s,Fp}var xC;function $G(){if(xC)return PC;xC=1;var i=z(),e=IG();return i({global:!0,forced:parseInt!==e},{parseInt:e}),PC}var Np,DC;function TG(){if(DC)return Np;DC=1,$G();var i=se();return Np=i.parseInt,Np}var kp,AC;function PG(){if(AC)return kp;AC=1;var i=TG();return kp=i,kp}var Bp,MC;function RG(){return MC||(MC=1,Bp=PG()),Bp}var qG=RG(),Rt=G(qG),FC={},NC;function CG(){if(NC)return FC;NC=1;var i=z(),e=Pb(),t=xb().indexOf,r=gn(),n=e([].indexOf),o=!!n&&1/n([1],1,-0)<0,s=o||!r("indexOf");return i({target:"Array",proto:!0,forced:s},{indexOf:function(u){var l=arguments.length>1?arguments[1]:void 0;return o?n(this,u,l)||0:t(this,u,l)}}),FC}var jp,kC;function xG(){if(kC)return jp;kC=1,CG();var i=Ve();return jp=i("Array","indexOf"),jp}var Lp,BC;function DG(){if(BC)return Lp;BC=1;var i=xe(),e=xG(),t=Array.prototype;return Lp=function(r){var n=r.indexOf;return r===t||i(t,r)&&n===t.indexOf?e:n},Lp}var zp,jC;function AG(){if(jC)return zp;jC=1;var i=DG();return zp=i,zp}var Wp,LC;function MG(){return LC||(LC=1,Wp=AG()),Wp}var FG=MG(),ne=G(FG),zC={},WC;function NG(){if(WC)return zC;WC=1;var i=z(),e=$e(),t=$o();return i({target:"Object",stat:!0,sham:!e},{create:t}),zC}var Hp,HC;function kG(){if(HC)return Hp;HC=1,NG();var i=se(),e=i.Object;return Hp=function(r,n){return e.create(r,n)},Hp}var Up,UC;function BG(){if(UC)return Up;UC=1;var i=kG();return Up=i,Up}var Vp,VC;function jG(){return VC||(VC=1,Vp=BG()),Vp}var LG=jG(),Gr=G(LG),GC={},Gp,KC;function zG(){if(KC)return Gp;KC=1;var i=dn(),e=Et(),t=sr(),r=RangeError;return Gp=function(o){var s=e(t(this)),a="",u=i(o);if(u<0||u===1/0)throw new r("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(s+=s))u&1&&(a+=s);return a},Gp}var Kp,YC;function WG(){if(YC)return Kp;YC=1;var i=re(),e=Bk(),t=Et(),r=zG(),n=sr(),o=i(r),s=i("".slice),a=Math.ceil,u=function(l){return function(d,c,h){var f=t(n(d)),v=e(c),p=f.length,b=h===void 0?" ":t(h),y,g;return v<=p||b===""?f:(y=v-p,g=o(b,a(y/b.length)),g.length>y&&(g=s(g,0,y)),l?f+g:g+f)}};return Kp={start:u(!1),end:u(!0)},Kp}var Yp,XC;function HG(){if(XC)return Yp;XC=1;var i=re(),e=te(),t=WG().start,r=RangeError,n=isFinite,o=Math.abs,s=Date.prototype,a=s.toISOString,u=i(s.getTime),l=i(s.getUTCDate),d=i(s.getUTCFullYear),c=i(s.getUTCHours),h=i(s.getUTCMilliseconds),f=i(s.getUTCMinutes),v=i(s.getUTCMonth),p=i(s.getUTCSeconds);return Yp=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!n(u(this)))throw new r("Invalid time value");var y=this,g=d(y),S=h(y),m=g<0?"-":g>9999?"+":"";return m+t(o(g),m?6:4,0)+"-"+t(v(y)+1,2,0)+"-"+t(l(y),2,0)+"T"+t(c(y),2,0)+":"+t(f(y),2,0)+":"+t(p(y),2,0)+"."+t(S,3,0)+"Z"}:a,Yp}var JC;function UG(){if(JC)return GC;JC=1;var i=z(),e=lt(),t=ft(),r=Mk(),n=HG(),o=Ht(),s=te(),a=s(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return i({target:"Date",proto:!0,forced:a},{toJSON:function(l){var d=t(this),c=r(d,"number");return typeof c=="number"&&!isFinite(c)?null:!("toISOString"in d)&&o(d)==="Date"?e(n,d):d.toISOString()}}),GC}var Xp,ZC;function VG(){if(ZC)return Xp;ZC=1,UG(),Jk();var i=se(),e=qs();return i.JSON||(i.JSON={stringify:JSON.stringify}),Xp=function(r,n,o){return e(i.JSON.stringify,null,arguments)},Xp}var Jp,QC;function GG(){if(QC)return Jp;QC=1;var i=VG();return Jp=i,Jp}var Zp,ex;function KG(){return ex||(ex=1,Zp=GG()),Zp}var YG=KG(),Po=G(YG),tx={},rx={},Qp,ix;function u2(){if(ix)return Qp;ix=1;var i=ye(),e=nn(),t=Ht(),r=function(n){return e.slice(0,n.length)===n};return Qp=(function(){return r("Bun/")?"BUN":r("Cloudflare-Workers")?"CLOUDFLARE":r("Deno/")?"DENO":r("Node.js/")?"NODE":i.Bun&&typeof Bun.version=="string"?"BUN":i.Deno&&typeof Deno.version=="object"?"DENO":t(i.process)==="process"?"NODE":i.window&&i.document?"BROWSER":"REST"})(),Qp}var eg,nx;function XG(){if(nx)return eg;nx=1;var i=TypeError;return eg=function(e,t){if(e<t)throw new i("Not enough arguments");return e},eg}var tg,ox;function l2(){if(ox)return tg;ox=1;var i=ye(),e=qs(),t=Le(),r=u2(),n=nn(),o=cn(),s=XG(),a=i.Function,u=/MSIE .\./.test(n)||r==="BUN"&&(function(){var l=i.Bun.version.split(".");return l.length<3||l[0]==="0"&&(l[1]<3||l[1]==="3"&&l[2]==="0")})();return tg=function(l,d){var c=d?2:1;return u?function(h,f){var v=s(arguments.length,1)>c,p=t(h)?h:a(h),b=v?o(arguments,c):[],y=v?function(){e(p,this,b)}:p;return d?l(y,f):l(y)}:l},tg}var sx;function JG(){if(sx)return rx;sx=1;var i=z(),e=ye(),t=l2(),r=t(e.setInterval,!0);return i({global:!0,bind:!0,forced:e.setInterval!==r},{setInterval:r}),rx}var ax={},ux;function ZG(){if(ux)return ax;ux=1;var i=z(),e=ye(),t=l2(),r=t(e.setTimeout,!0);return i({global:!0,bind:!0,forced:e.setTimeout!==r},{setTimeout:r}),ax}var lx;function d2(){return lx||(lx=1,JG(),ZG()),tx}var rg,dx;function QG(){if(dx)return rg;dx=1,d2();var i=se();return rg=i.setTimeout,rg}var ig,cx;function eK(){return cx||(cx=1,ig=QG()),ig}var tK=eK(),Qt=G(tK),hx={},ng,fx;function rK(){if(fx)return ng;fx=1;var i=ft(),e=Fs(),t=ur();return ng=function(n){for(var o=i(this),s=t(o),a=arguments.length,u=e(a>1?arguments[1]:void 0,s),l=a>2?arguments[2]:void 0,d=l===void 0?s:e(l,s);d>u;)o[u++]=n;return o},ng}var vx;function iK(){if(vx)return hx;vx=1;var i=z(),e=rK(),t=jb();return i({target:"Array",proto:!0},{fill:e}),t("fill"),hx}var og,px;function nK(){if(px)return og;px=1,iK();var i=Ve();return og=i("Array","fill"),og}var sg,gx;function oK(){if(gx)return sg;gx=1;var i=xe(),e=nK(),t=Array.prototype;return sg=function(r){var n=r.fill;return r===t||i(t,r)&&n===t.fill?e:n},sg}var ag,yx;function sK(){if(yx)return ag;yx=1;var i=oK();return ag=i,ag}var ug,mx;function aK(){return mx||(mx=1,ug=sK()),ug}var uK=aK(),Ro=G(uK);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Ct(){return Ct=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(i[r]=t[r])}return i},Ct.apply(this,arguments)}function St(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,i.__proto__=e}function Wo(i){if(i===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}var Nm;typeof Object.assign!="function"?Nm=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var n=arguments[r];if(n!=null)for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])}return t}:Nm=Object.assign;var ei=Nm,bx=["","webkit","Moz","MS","ms","o"],lK=typeof document>"u"?{style:{}}:document.createElement("div"),dK="function",qi=Math.round,ti=Math.abs,Hb=Date.now;function Ws(i,e){for(var t,r,n=e[0].toUpperCase()+e.slice(1),o=0;o<bx.length;){if(t=bx[o],r=t?t+n:e,r in i)return r;o++}}var er;typeof window>"u"?er={}:er=window;var c2=Ws(lK.style,"touchAction"),h2=c2!==void 0;function cK(){if(!h2)return!1;var i={},e=er.CSS&&er.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){return i[t]=e?er.CSS.supports("touch-action",t):!0}),i}var f2="compute",v2="auto",km="manipulation",Kr="none",Yn="pan-x",Xn="pan-y",Ho=cK(),hK=/mobile|tablet|ip(ad|hone|od)|android/i,p2="ontouchstart"in er,fK=Ws(er,"PointerEvent")!==void 0,vK=p2&&hK.test(navigator.userAgent),qo="touch",pK="pen",Ub="mouse",gK="kinect",yK=25,et=1,gi=2,Re=4,st=8,us=1,Co=2,xo=4,Do=8,Li=16,jt=Co|xo,Yr=Do|Li,g2=jt|Yr,y2=["x","y"],ls=["clientX","clientY"];function tr(i,e,t){var r;if(i)if(i.forEach)i.forEach(e,t);else if(i.length!==void 0)for(r=0;r<i.length;)e.call(t,i[r],r,i),r++;else for(r in i)i.hasOwnProperty(r)&&e.call(t,i[r],r,i)}function Hs(i,e){return typeof i===dK?i.apply(e&&e[0]||void 0,e):i}function Lr(i,e){return i.indexOf(e)>-1}function mK(i){if(Lr(i,Kr))return Kr;var e=Lr(i,Yn),t=Lr(i,Xn);return e&&t?Kr:e||t?e?Yn:Xn:Lr(i,km)?km:v2}var m2=(function(){function i(t,r){this.manager=t,this.set(r)}var e=i.prototype;return e.set=function(r){r===f2&&(r=this.compute()),h2&&this.manager.element.style&&Ho[r]&&(this.manager.element.style[c2]=r),this.actions=r.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var r=[];return tr(this.manager.recognizers,function(n){Hs(n.options.enable,[n])&&(r=r.concat(n.getTouchAction()))}),mK(r.join(" "))},e.preventDefaults=function(r){var n=r.srcEvent,o=r.offsetDirection;if(this.manager.session.prevented){n.preventDefault();return}var s=this.actions,a=Lr(s,Kr)&&!Ho[Kr],u=Lr(s,Xn)&&!Ho[Xn],l=Lr(s,Yn)&&!Ho[Yn];if(a){var d=r.pointers.length===1,c=r.distance<2,h=r.deltaTime<250;if(d&&c&&h)return}if(!(l&&u)&&(a||u&&o&jt||l&&o&Yr))return this.preventSrc(n)},e.preventSrc=function(r){this.manager.session.prevented=!0,r.preventDefault()},i})();function Vb(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}function b2(i){var e=i.length;if(e===1)return{x:qi(i[0].clientX),y:qi(i[0].clientY)};for(var t=0,r=0,n=0;n<e;)t+=i[n].clientX,r+=i[n].clientY,n++;return{x:qi(t/e),y:qi(r/e)}}function _x(i){for(var e=[],t=0;t<i.pointers.length;)e[t]={clientX:qi(i.pointers[t].clientX),clientY:qi(i.pointers[t].clientY)},t++;return{timeStamp:Hb(),pointers:e,center:b2(e),deltaX:i.deltaX,deltaY:i.deltaY}}function ds(i,e,t){t||(t=y2);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.sqrt(r*r+n*n)}function Bm(i,e,t){t||(t=y2);var r=e[t[0]]-i[t[0]],n=e[t[1]]-i[t[1]];return Math.atan2(n,r)*180/Math.PI}function _2(i,e){return i===e?us:ti(i)>=ti(e)?i<0?Co:xo:e<0?Do:Li}function bK(i,e){var t=e.center,r=i.offsetDelta||{},n=i.prevDelta||{},o=i.prevInput||{};(e.eventType===et||o.eventType===Re)&&(n=i.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=i.offsetDelta={x:t.x,y:t.y}),e.deltaX=n.x+(t.x-r.x),e.deltaY=n.y+(t.y-r.y)}function w2(i,e,t){return{x:e/i||0,y:t/i||0}}function _K(i,e){return ds(e[0],e[1],ls)/ds(i[0],i[1],ls)}function wK(i,e){return Bm(e[1],e[0],ls)+Bm(i[1],i[0],ls)}function EK(i,e){var t=i.lastInterval||e,r=e.timeStamp-t.timeStamp,n,o,s,a;if(e.eventType!==st&&(r>yK||t.velocity===void 0)){var u=e.deltaX-t.deltaX,l=e.deltaY-t.deltaY,d=w2(r,u,l);o=d.x,s=d.y,n=ti(d.x)>ti(d.y)?d.x:d.y,a=_2(u,l),i.lastInterval=e}else n=t.velocity,o=t.velocityX,s=t.velocityY,a=t.direction;e.velocity=n,e.velocityX=o,e.velocityY=s,e.direction=a}function SK(i,e){var t=i.session,r=e.pointers,n=r.length;t.firstInput||(t.firstInput=_x(e)),n>1&&!t.firstMultiple?t.firstMultiple=_x(e):n===1&&(t.firstMultiple=!1);var o=t.firstInput,s=t.firstMultiple,a=s?s.center:o.center,u=e.center=b2(r);e.timeStamp=Hb(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Bm(a,u),e.distance=ds(a,u),bK(t,e),e.offsetDirection=_2(e.deltaX,e.deltaY);var l=w2(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=l.x,e.overallVelocityY=l.y,e.overallVelocity=ti(l.x)>ti(l.y)?l.x:l.y,e.scale=s?_K(s.pointers,r):1,e.rotation=s?wK(s.pointers,r):0,e.maxPointers=t.prevInput?e.pointers.length>t.prevInput.maxPointers?e.pointers.length:t.prevInput.maxPointers:e.pointers.length,EK(t,e);var d=i.element,c=e.srcEvent,h;c.composedPath?h=c.composedPath()[0]:c.path?h=c.path[0]:h=c.target,Vb(h,d)&&(d=h),e.target=d}function OK(i,e,t){var r=t.pointers.length,n=t.changedPointers.length,o=e&et&&r-n===0,s=e&(Re|st)&&r-n===0;t.isFirst=!!o,t.isFinal=!!s,o&&(i.session={}),t.eventType=e,SK(i,t),i.emit("hammer.input",t),i.recognize(t),i.session.prevInput=t}function Jn(i){return i.trim().split(/\s+/g)}function Fn(i,e,t){tr(Jn(e),function(r){i.addEventListener(r,t,!1)})}function Nn(i,e,t){tr(Jn(e),function(r){i.removeEventListener(r,t,!1)})}function wx(i){var e=i.ownerDocument||i;return e.defaultView||e.parentWindow||window}var yn=(function(){function i(t,r){var n=this;this.manager=t,this.callback=r,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(o){Hs(t.options.enable,[t])&&n.handler(o)},this.init()}var e=i.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Fn(this.element,this.evEl,this.domHandler),this.evTarget&&Fn(this.target,this.evTarget,this.domHandler),this.evWin&&Fn(wx(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Nn(this.element,this.evEl,this.domHandler),this.evTarget&&Nn(this.target,this.evTarget,this.domHandler),this.evWin&&Nn(wx(this.element),this.evWin,this.domHandler)},i})();function ri(i,e,t){if(i.indexOf&&!t)return i.indexOf(e);for(var r=0;r<i.length;){if(t&&i[r][t]==e||!t&&i[r]===e)return r;r++}return-1}var IK={pointerdown:et,pointermove:gi,pointerup:Re,pointercancel:st,pointerout:st},$K={2:qo,3:pK,4:Ub,5:gK},E2="pointerdown",S2="pointermove pointerup pointercancel";er.MSPointerEvent&&!er.PointerEvent&&(E2="MSPointerDown",S2="MSPointerMove MSPointerUp MSPointerCancel");var O2=(function(i){St(e,i);function e(){var r,n=e.prototype;return n.evEl=E2,n.evWin=S2,r=i.apply(this,arguments)||this,r.store=r.manager.session.pointerEvents=[],r}var t=e.prototype;return t.handler=function(n){var o=this.store,s=!1,a=n.type.toLowerCase().replace("ms",""),u=IK[a],l=$K[n.pointerType]||n.pointerType,d=l===qo,c=ri(o,n.pointerId,"pointerId");u&et&&(n.button===0||d)?c<0&&(o.push(n),c=o.length-1):u&(Re|st)&&(s=!0),!(c<0)&&(o[c]=n,this.callback(this.manager,u,{pointers:o,changedPointers:[n],pointerType:l,srcEvent:n}),s&&o.splice(c,1))},e})(yn);function Zn(i){return Array.prototype.slice.call(i,0)}function Gb(i,e,t){for(var r=[],n=[],o=0;o<i.length;){var s=e?i[o][e]:i[o];ri(n,s)<0&&r.push(i[o]),n[o]=s,o++}return t&&(e?r=r.sort(function(a,u){return a[e]>u[e]}):r=r.sort()),r}var TK={touchstart:et,touchmove:gi,touchend:Re,touchcancel:st},PK="touchstart touchmove touchend touchcancel",Kb=(function(i){St(e,i);function e(){var r;return e.prototype.evTarget=PK,r=i.apply(this,arguments)||this,r.targetIds={},r}var t=e.prototype;return t.handler=function(n){var o=TK[n.type],s=RK.call(this,n,o);s&&this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:qo,srcEvent:n})},e})(yn);function RK(i,e){var t=Zn(i.touches),r=this.targetIds;if(e&(et|gi)&&t.length===1)return r[t[0].identifier]=!0,[t,t];var n,o,s=Zn(i.changedTouches),a=[],u=this.target;if(o=t.filter(function(l){return Vb(l.target,u)}),e===et)for(n=0;n<o.length;)r[o[n].identifier]=!0,n++;for(n=0;n<s.length;)r[s[n].identifier]&&a.push(s[n]),e&(Re|st)&&delete r[s[n].identifier],n++;if(a.length)return[Gb(o.concat(a),"identifier",!0),a]}var qK={mousedown:et,mousemove:gi,mouseup:Re},CK="mousedown",xK="mousemove mouseup",Yb=(function(i){St(e,i);function e(){var r,n=e.prototype;return n.evEl=CK,n.evWin=xK,r=i.apply(this,arguments)||this,r.pressed=!1,r}var t=e.prototype;return t.handler=function(n){var o=qK[n.type];o&et&&n.button===0&&(this.pressed=!0),o&gi&&n.which!==1&&(o=Re),this.pressed&&(o&Re&&(this.pressed=!1),this.callback(this.manager,o,{pointers:[n],changedPointers:[n],pointerType:Ub,srcEvent:n}))},e})(yn),DK=2500,Ex=25;function Sx(i){var e=i.changedPointers,t=e[0];if(t.identifier===this.primaryTouch){var r={x:t.clientX,y:t.clientY},n=this.lastTouches;this.lastTouches.push(r);var o=function(){var a=n.indexOf(r);a>-1&&n.splice(a,1)};setTimeout(o,DK)}}function AK(i,e){i&et?(this.primaryTouch=e.changedPointers[0].identifier,Sx.call(this,e)):i&(Re|st)&&Sx.call(this,e)}function MK(i){for(var e=i.srcEvent.clientX,t=i.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],o=Math.abs(e-n.x),s=Math.abs(t-n.y);if(o<=Ex&&s<=Ex)return!0}return!1}var I2=(function(){var i=(function(e){St(t,e);function t(n,o){var s;return s=e.call(this,n,o)||this,s.handler=function(a,u,l){var d=l.pointerType===qo,c=l.pointerType===Ub;if(!(c&&l.sourceCapabilities&&l.sourceCapabilities.firesTouchEvents)){if(d)AK.call(Wo(Wo(s)),u,l);else if(c&&MK.call(Wo(Wo(s)),l))return;s.callback(a,u,l)}},s.touch=new Kb(s.manager,s.handler),s.mouse=new Yb(s.manager,s.handler),s.primaryTouch=null,s.lastTouches=[],s}var r=t.prototype;return r.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t})(yn);return i})();function FK(i){var e,t=i.options.inputClass;return t?e=t:fK?e=O2:vK?e=Kb:p2?e=I2:e=Yb,new e(i,OK)}function Ci(i,e,t){return Array.isArray(i)?(tr(i,t[e],t),!0):!1}var Ko=1,yt=2,zi=4,gr=8,rr=gr,Qn=16,Nt=32,NK=1;function kK(){return NK++}function Uo(i,e){var t=e.manager;return t?t.get(i):i}function Ox(i){return i&Qn?"cancel":i&gr?"end":i&zi?"move":i&yt?"start":""}var Ao=(function(){function i(t){t===void 0&&(t={}),this.options=Ct({enable:!0},t),this.id=kK(),this.manager=null,this.state=Ko,this.simultaneous={},this.requireFail=[]}var e=i.prototype;return e.set=function(r){return ei(this.options,r),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(r){if(Ci(r,"recognizeWith",this))return this;var n=this.simultaneous;return r=Uo(r,this),n[r.id]||(n[r.id]=r,r.recognizeWith(this)),this},e.dropRecognizeWith=function(r){return Ci(r,"dropRecognizeWith",this)?this:(r=Uo(r,this),delete this.simultaneous[r.id],this)},e.requireFailure=function(r){if(Ci(r,"requireFailure",this))return this;var n=this.requireFail;return r=Uo(r,this),ri(n,r)===-1&&(n.push(r),r.requireFailure(this)),this},e.dropRequireFailure=function(r){if(Ci(r,"dropRequireFailure",this))return this;r=Uo(r,this);var n=ri(this.requireFail,r);return n>-1&&this.requireFail.splice(n,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(r){return!!this.simultaneous[r.id]},e.emit=function(r){var n=this,o=this.state;function s(a){n.manager.emit(a,r)}o<gr&&s(n.options.event+Ox(o)),s(n.options.event),r.additionalEvent&&s(r.additionalEvent),o>=gr&&s(n.options.event+Ox(o))},e.tryEmit=function(r){if(this.canEmit())return this.emit(r);this.state=Nt},e.canEmit=function(){for(var r=0;r<this.requireFail.length;){if(!(this.requireFail[r].state&(Nt|Ko)))return!1;r++}return!0},e.recognize=function(r){var n=ei({},r);if(!Hs(this.options.enable,[this,n])){this.reset(),this.state=Nt;return}this.state&(rr|Qn|Nt)&&(this.state=Ko),this.state=this.process(n),this.state&(yt|zi|gr|Qn)&&this.tryEmit(n)},e.process=function(r){},e.getTouchAction=function(){},e.reset=function(){},i})(),jm=(function(i){St(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Ct({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},r))||this,n.pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}var t=e.prototype;return t.getTouchAction=function(){return[km]},t.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,u=n.distance<s.threshold,l=n.deltaTime<s.time;if(this.reset(),n.eventType&et&&this.count===0)return this.failTimeout();if(u&&l&&a){if(n.eventType!==Re)return this.failTimeout();var d=this.pTime?n.timeStamp-this.pTime<s.interval:!0,c=!this.pCenter||ds(this.pCenter,n.center)<s.posThreshold;this.pTime=n.timeStamp,this.pCenter=n.center,!c||!d?this.count=1:this.count+=1,this._input=n;var h=this.count%s.taps;if(h===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){o.state=rr,o.tryEmit()},s.interval),yt):rr}return Nt},t.failTimeout=function(){var n=this;return this._timer=setTimeout(function(){n.state=Nt},this.options.interval),Nt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(){this.state===rr&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e})(Ao),Wi=(function(i){St(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ct({pointers:1},r))||this}var t=e.prototype;return t.attrTest=function(n){var o=this.options.pointers;return o===0||n.pointers.length===o},t.process=function(n){var o=this.state,s=n.eventType,a=o&(yt|zi),u=this.attrTest(n);return a&&(s&st||!u)?o|Qn:a||u?s&Re?o|gr:o&yt?o|zi:yt:Nt},e})(Ao);function $2(i){return i===Li?"down":i===Do?"up":i===Co?"left":i===xo?"right":""}var Xb=(function(i){St(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Ct({event:"pan",threshold:10,pointers:1,direction:g2},r))||this,n.pX=null,n.pY=null,n}var t=e.prototype;return t.getTouchAction=function(){var n=this.options.direction,o=[];return n&jt&&o.push(Xn),n&Yr&&o.push(Yn),o},t.directionTest=function(n){var o=this.options,s=!0,a=n.distance,u=n.direction,l=n.deltaX,d=n.deltaY;return u&o.direction||(o.direction&jt?(u=l===0?us:l<0?Co:xo,s=l!==this.pX,a=Math.abs(n.deltaX)):(u=d===0?us:d<0?Do:Li,s=d!==this.pY,a=Math.abs(n.deltaY))),n.direction=u,s&&a>o.threshold&&u&o.direction},t.attrTest=function(n){return Wi.prototype.attrTest.call(this,n)&&(this.state&yt||!(this.state&yt)&&this.directionTest(n))},t.emit=function(n){this.pX=n.deltaX,this.pY=n.deltaY;var o=$2(n.direction);o&&(n.additionalEvent=this.options.event+o),i.prototype.emit.call(this,n)},e})(Wi),T2=(function(i){St(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ct({event:"swipe",threshold:10,velocity:.3,direction:jt|Yr,pointers:1},r))||this}var t=e.prototype;return t.getTouchAction=function(){return Xb.prototype.getTouchAction.call(this)},t.attrTest=function(n){var o=this.options.direction,s;return o&(jt|Yr)?s=n.overallVelocity:o&jt?s=n.overallVelocityX:o&Yr&&(s=n.overallVelocityY),i.prototype.attrTest.call(this,n)&&o&n.offsetDirection&&n.distance>this.options.threshold&&n.maxPointers===this.options.pointers&&ti(s)>this.options.velocity&&n.eventType&Re},t.emit=function(n){var o=$2(n.offsetDirection);o&&this.manager.emit(this.options.event+o,n),this.manager.emit(this.options.event,n)},e})(Wi),P2=(function(i){St(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ct({event:"pinch",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Kr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.scale-1)>this.options.threshold||this.state&yt)},t.emit=function(n){if(n.scale!==1){var o=n.scale<1?"in":"out";n.additionalEvent=this.options.event+o}i.prototype.emit.call(this,n)},e})(Wi),R2=(function(i){St(e,i);function e(r){return r===void 0&&(r={}),i.call(this,Ct({event:"rotate",threshold:0,pointers:2},r))||this}var t=e.prototype;return t.getTouchAction=function(){return[Kr]},t.attrTest=function(n){return i.prototype.attrTest.call(this,n)&&(Math.abs(n.rotation)>this.options.threshold||this.state&yt)},e})(Wi),q2=(function(i){St(e,i);function e(r){var n;return r===void 0&&(r={}),n=i.call(this,Ct({event:"press",pointers:1,time:251,threshold:9},r))||this,n._timer=null,n._input=null,n}var t=e.prototype;return t.getTouchAction=function(){return[v2]},t.process=function(n){var o=this,s=this.options,a=n.pointers.length===s.pointers,u=n.distance<s.threshold,l=n.deltaTime>s.time;if(this._input=n,!u||!a||n.eventType&(Re|st)&&!l)this.reset();else if(n.eventType&et)this.reset(),this._timer=setTimeout(function(){o.state=rr,o.tryEmit()},s.time);else if(n.eventType&Re)return rr;return Nt},t.reset=function(){clearTimeout(this._timer)},t.emit=function(n){this.state===rr&&(n&&n.eventType&Re?this.manager.emit(this.options.event+"up",n):(this._input.timeStamp=Hb(),this.manager.emit(this.options.event,this._input)))},e})(Ao),C2={domEvents:!1,touchAction:f2,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Ix=[[R2,{enable:!1}],[P2,{enable:!1},["rotate"]],[T2,{direction:jt}],[Xb,{direction:jt},["swipe"]],[jm],[jm,{event:"doubletap",taps:2},["tap"]],[q2]],BK=1,$x=2;function Tx(i,e){var t=i.element;if(t.style){var r;tr(i.options.cssProps,function(n,o){r=Ws(t.style,o),e?(i.oldCssProps[r]=t.style[r],t.style[r]=n):t.style[r]=i.oldCssProps[r]||""}),e||(i.oldCssProps={})}}function jK(i,e){var t=document.createEvent("Event");t.initEvent(i,!0,!0),t.gesture=e,e.target.dispatchEvent(t)}var Px=(function(){function i(t,r){var n=this;this.options=ei({},C2,r||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=FK(this),this.touchAction=new m2(this,this.options.touchAction),Tx(this,!0),tr(this.options.recognizers,function(o){var s=n.add(new o[0](o[1]));o[2]&&s.recognizeWith(o[2]),o[3]&&s.requireFailure(o[3])},this)}var e=i.prototype;return e.set=function(r){return ei(this.options,r),r.touchAction&&this.touchAction.update(),r.inputTarget&&(this.input.destroy(),this.input.target=r.inputTarget,this.input.init()),this},e.stop=function(r){this.session.stopped=r?$x:BK},e.recognize=function(r){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(r);var o,s=this.recognizers,a=n.curRecognizer;(!a||a&&a.state&rr)&&(n.curRecognizer=null,a=null);for(var u=0;u<s.length;)o=s[u],n.stopped!==$x&&(!a||o===a||o.canRecognizeWith(a))?o.recognize(r):o.reset(),!a&&o.state&(yt|zi|gr)&&(n.curRecognizer=o,a=o),u++}},e.get=function(r){if(r instanceof Ao)return r;for(var n=this.recognizers,o=0;o<n.length;o++)if(n[o].options.event===r)return n[o];return null},e.add=function(r){if(Ci(r,"add",this))return this;var n=this.get(r.options.event);return n&&this.remove(n),this.recognizers.push(r),r.manager=this,this.touchAction.update(),r},e.remove=function(r){if(Ci(r,"remove",this))return this;var n=this.get(r);if(r){var o=this.recognizers,s=ri(o,n);s!==-1&&(o.splice(s,1),this.touchAction.update())}return this},e.on=function(r,n){if(r===void 0||n===void 0)return this;var o=this.handlers;return tr(Jn(r),function(s){o[s]=o[s]||[],o[s].push(n)}),this},e.off=function(r,n){if(r===void 0)return this;var o=this.handlers;return tr(Jn(r),function(s){n?o[s]&&o[s].splice(ri(o[s],n),1):delete o[s]}),this},e.emit=function(r,n){this.options.domEvents&&jK(r,n);var o=this.handlers[r]&&this.handlers[r].slice();if(!(!o||!o.length)){n.type=r,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var s=0;s<o.length;)o[s](n),s++}},e.destroy=function(){this.element&&Tx(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},i})(),LK={touchstart:et,touchmove:gi,touchend:Re,touchcancel:st},zK="touchstart",WK="touchstart touchmove touchend touchcancel",HK=(function(i){St(e,i);function e(){var r,n=e.prototype;return n.evTarget=zK,n.evWin=WK,r=i.apply(this,arguments)||this,r.started=!1,r}var t=e.prototype;return t.handler=function(n){var o=LK[n.type];if(o===et&&(this.started=!0),!!this.started){var s=UK.call(this,n,o);o&(Re|st)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,o,{pointers:s[0],changedPointers:s[1],pointerType:qo,srcEvent:n})}},e})(yn);function UK(i,e){var t=Zn(i.touches),r=Zn(i.changedTouches);return e&(Re|st)&&(t=Gb(t.concat(r),"identifier",!0)),[t,r]}function x2(i,e,t){var r="DEPRECATED METHOD: "+e+`
`+t+` AT 
`;return function(){var n=new Error("get-stack-trace"),o=n&&n.stack?n.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=window.console&&(window.console.warn||window.console.log);return s&&s.call(window.console,r,o),i.apply(this,arguments)}}var D2=x2(function(i,e,t){for(var r=Object.keys(e),n=0;n<r.length;)(!t||t&&i[r[n]]===void 0)&&(i[r[n]]=e[r[n]]),n++;return i},"extend","Use `assign`."),VK=x2(function(i,e){return D2(i,e,!0)},"merge","Use `assign`.");function GK(i,e,t){var r=e.prototype,n;n=i.prototype=Object.create(r),n.constructor=i,n._super=r,t&&ei(n,t)}function Rx(i,e){return function(){return i.apply(e,arguments)}}var A2=(function(){var i=function(t,r){return r===void 0&&(r={}),new Px(t,Ct({recognizers:Ix.concat()},r))};return i.VERSION="2.0.17-rc",i.DIRECTION_ALL=g2,i.DIRECTION_DOWN=Li,i.DIRECTION_LEFT=Co,i.DIRECTION_RIGHT=xo,i.DIRECTION_UP=Do,i.DIRECTION_HORIZONTAL=jt,i.DIRECTION_VERTICAL=Yr,i.DIRECTION_NONE=us,i.DIRECTION_DOWN=Li,i.INPUT_START=et,i.INPUT_MOVE=gi,i.INPUT_END=Re,i.INPUT_CANCEL=st,i.STATE_POSSIBLE=Ko,i.STATE_BEGAN=yt,i.STATE_CHANGED=zi,i.STATE_ENDED=gr,i.STATE_RECOGNIZED=rr,i.STATE_CANCELLED=Qn,i.STATE_FAILED=Nt,i.Manager=Px,i.Input=yn,i.TouchAction=m2,i.TouchInput=Kb,i.MouseInput=Yb,i.PointerEventInput=O2,i.TouchMouseInput=I2,i.SingleTouchInput=HK,i.Recognizer=Ao,i.AttrRecognizer=Wi,i.Tap=jm,i.Pan=Xb,i.Swipe=T2,i.Pinch=P2,i.Rotate=R2,i.Press=q2,i.on=Fn,i.off=Nn,i.each=tr,i.merge=VK,i.extend=D2,i.bindFn=Rx,i.assign=ei,i.inherit=GK,i.bindFn=Rx,i.prefixed=Ws,i.toArray=Zn,i.inArray=ri,i.uniqueArray=Gb,i.splitStr=Jn,i.boolOrFn=Hs,i.hasParent=Vb,i.addEventListeners=Fn,i.removeEventListeners=Nn,i.defaults=ei({},C2,{preset:Ix}),i})();A2.defaults;YU("DELETE");function Us(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];return KK(e.length?e:[as()])}function KK(i){let[e,t,r]=YK(i),n=1;const o=()=>{const s=2091639*e+n*23283064365386963e-26;return e=t,t=r,r=s-(n=s|0)};return o.uint32=()=>o()*4294967296,o.fract53=()=>o()+(o()*2097152|0)*11102230246251565e-32,o.algorithm="Alea",o.seed=i,o.version="0.9",o}function YK(){const i=XK();let e=i(" "),t=i(" "),r=i(" ");for(let n=0;n<arguments.length;n++)e-=i(n<0||arguments.length<=n?void 0:arguments[n]),e<0&&(e+=1),t-=i(n<0||arguments.length<=n?void 0:arguments[n]),t<0&&(t+=1),r-=i(n<0||arguments.length<=n?void 0:arguments[n]),r<0&&(r+=1);return[e,t,r]}function XK(){let i=4022871197;return function(e){const t=e.toString();for(let r=0;r<t.length;r++){i+=t.charCodeAt(r);let n=.02519603282416938*i;i=n>>>0,n-=i,n*=i,i=n>>>0,n-=i,i+=n*4294967296}return(i>>>0)*23283064365386963e-26}}function JK(){const i=()=>{};return{on:i,off:i,destroy:i,emit:i,get(){return{set:i}}}}const Jb=typeof window<"u"?window.Hammer||A2:function(){return JK()};function kt(i){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:i,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const t=Jb(this._dom.overlay);t.on("tap",D(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{t.destroy()});const r=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];le(r).call(r,n=>{t.on(n,o=>{o.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=n=>{ZK(n.target,i)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=n=>{("key"in n?n.key==="Escape":n.keyCode===27)&&this.deactivate()}}Hk(kt.prototype);kt.current=null;kt.prototype.destroy=function(){this.deactivate();for(const t of Vr(i=Zt(e=this._cleanupQueue).call(e,0)).call(i)){var i,e;t()}};kt.prototype.activate=function(){kt.current&&kt.current.deactivate(),kt.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};kt.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};kt.prototype._onTapOverlay=function(i){this.activate(),i.srcEvent.stopPropagation()};function ZK(i,e){for(;i;){if(i===e)return!0;i=i.parentNode}return!1}const QK=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,e4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,t4=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,r4=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function lr(i){if(i)for(;i.hasChildNodes()===!0;){const e=i.firstChild;e&&(lr(e),i.removeChild(e))}}function Di(i){return i instanceof String||typeof i=="string"}function qx(i){return typeof i=="object"&&i!==null}function ii(i,e,t,r){let n=!1;r===!0&&(n=e[t]===null&&i[t]!==void 0),n?delete i[t]:i[t]=e[t]}function M2(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const r in i)if(e[r]!==void 0)if(e[r]===null||typeof e[r]!="object")ii(i,e,r,t);else{const n=i[r],o=e[r];qx(n)&&qx(o)&&M2(n,o,t)}}function mn(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Oe(t))throw new TypeError("Arrays are not supported by deepExtend");for(let n=0;n<i.length;n++){const o=i[n];if(Object.prototype.hasOwnProperty.call(t,o))if(t[o]&&t[o].constructor===Object)e[o]===void 0&&(e[o]={}),e[o].constructor===Object?he(e[o],t[o],!1,r):ii(e,t,o,r);else{if(Oe(t[o]))throw new TypeError("Arrays are not supported by deepExtend");ii(e,t,o,r)}}return e}function cs(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Oe(t))throw new TypeError("Arrays are not supported by deepExtend");for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!pr(i).call(i,n))if(t[n]&&t[n].constructor===Object)e[n]===void 0&&(e[n]={}),e[n].constructor===Object?he(e[n],t[n]):ii(e,t,n,r);else if(Oe(t[n])){e[n]=[];for(let o=0;o<t[n].length;o++)e[n].push(t[n][o])}else ii(e,t,n,r);return e}function he(i,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)||t===!0)if(typeof e[o]=="object"&&e[o]!==null&&cC(e[o])===Object.prototype)i[o]===void 0?i[o]=he({},e[o],t):typeof i[o]=="object"&&i[o]!==null&&cC(i[o])===Object.prototype?he(i[o],e[o],t):ii(i,e,o,r);else if(Oe(e[o])){var n;i[o]=Mt(n=e[o]).call(n)}else ii(i,e,o,r);return i}function hs(i,e){return[...i,e]}function i4(i){return Mt(i).call(i)}function n4(i){return i.getBoundingClientRect().left}function o4(i){return i.getBoundingClientRect().top}function Z(i,e){if(Oe(i)){const t=i.length;for(let r=0;r<t;r++)e(i[r],r,i)}else for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(i[t],t,i)}function Zb(i){let e;switch(i.length){case 3:case 4:return e=e4.exec(i),e?{r:Rt(e[1]+e[1],16),g:Rt(e[2]+e[2],16),b:Rt(e[3]+e[3],16)}:null;case 6:case 7:return e=QK.exec(i),e?{r:Rt(e[1],16),g:Rt(e[2],16),b:Rt(e[3],16)}:null;default:return null}}function pt(i,e){if(pr(i).call(i,"rgba"))return i;if(pr(i).call(i,"rgb")){const t=i.substr(ne(i).call(i,"(")+1).replace(")","").split(",");return"rgba("+t[0]+","+t[1]+","+t[2]+","+e+")"}else{const t=Zb(i);return t==null?i:"rgba("+t.r+","+t.g+","+t.b+","+e+")"}}function F2(i,e,t){var r;return"#"+Mt(r=((1<<24)+(i<<16)+(e<<8)+t).toString(16)).call(r,1)}function Lm(i,e){if(Di(i)){let r=i;if(k2(r)){var t;const n=ji(t=r.substr(4).substr(0,r.length-5).split(",")).call(t,function(o){return Rt(o)});r=F2(n[0],n[1],n[2])}if(N2(r)===!0){const n=s4(r),o={h:n.h,s:n.s*.8,v:Math.min(1,n.v*1.02)},s={h:n.h,s:Math.min(1,n.s*1.25),v:n.v*.8},a=zm(s.h,s.s,s.v),u=zm(o.h,o.s,o.v);return{background:r,border:a,highlight:{background:u,border:a},hover:{background:u,border:a}}}else return{background:r,border:r,highlight:{background:r,border:r},hover:{background:r,border:r}}}else return{background:i.background||void 0,border:i.border||void 0,highlight:Di(i.highlight)?{border:i.highlight,background:i.highlight}:{background:i.highlight&&i.highlight.background||void 0,border:i.highlight&&i.highlight.border||void 0},hover:Di(i.hover)?{border:i.hover,background:i.hover}:{border:i.hover&&i.hover.border||void 0,background:i.hover&&i.hover.background||void 0}}}function xn(i,e,t){i=i/255,e=e/255,t=t/255;const r=Math.min(i,Math.min(e,t)),n=Math.max(i,Math.max(e,t));if(r===n)return{h:0,s:0,v:r};const o=i===r?e-t:t===r?i-e:t-i,a=60*((i===r?3:t===r?1:5)-o/(n-r))/360,u=(n-r)/n;return{h:a,s:u,v:n}}function Yo(i,e,t){let r,n,o;const s=Math.floor(i*6),a=i*6-s,u=t*(1-e),l=t*(1-a*e),d=t*(1-(1-a)*e);switch(s%6){case 0:r=t,n=d,o=u;break;case 1:r=l,n=t,o=u;break;case 2:r=u,n=t,o=d;break;case 3:r=u,n=l,o=t;break;case 4:r=d,n=u,o=t;break;case 5:r=t,n=u,o=l;break}return{r:Math.floor(r*255),g:Math.floor(n*255),b:Math.floor(o*255)}}function zm(i,e,t){const r=Yo(i,e,t);return F2(r.r,r.g,r.b)}function s4(i){const e=Zb(i);if(!e)throw new TypeError("'".concat(i,"' is not a valid color."));return xn(e.r,e.g,e.b)}function N2(i){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(i)}function k2(i){return t4.test(i)}function a4(i){return r4.test(i)}function yr(i){if(i===null||typeof i!="object")return null;if(i instanceof Element)return i;const e=Gr(i);for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&typeof i[t]=="object"&&(e[t]=yr(i[t]));return e}function vt(i,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const n=function(f){return f!=null},o=function(f){return f!==null&&typeof f=="object"},s=function(f){for(const v in f)if(Object.prototype.hasOwnProperty.call(f,v))return!1;return!0};if(!o(i))throw new Error("Parameter mergeTarget must be an object");if(!o(e))throw new Error("Parameter options must be an object");if(!n(t))throw new Error("Parameter option must have a value");if(!o(r))throw new Error("Parameter globalOptions must be an object");const a=function(f,v,p){o(f[p])||(f[p]={});const b=v[p],y=f[p];for(const g in b)Object.prototype.hasOwnProperty.call(b,g)&&(y[g]=b[g])},u=e[t],d=o(r)&&!s(r)?r[t]:void 0,c=d?d.enabled:void 0;if(u===void 0)return;if(typeof u=="boolean"){o(i[t])||(i[t]={}),i[t].enabled=u;return}if(u===null&&!o(i[t]))if(n(d))i[t]=Gr(d);else return;if(!o(u))return;let h=!0;u.enabled!==void 0?h=u.enabled:c!==void 0&&(h=d.enabled),a(i,e,t),i[t].enabled=h}const u4={linear(i){return i},easeInQuad(i){return i*i},easeOutQuad(i){return i*(2-i)},easeInOutQuad(i){return i<.5?2*i*i:-1+(4-2*i)*i},easeInCubic(i){return i*i*i},easeOutCubic(i){return--i*i*i+1},easeInOutCubic(i){return i<.5?4*i*i*i:(i-1)*(2*i-2)*(2*i-2)+1},easeInQuart(i){return i*i*i*i},easeOutQuart(i){return 1- --i*i*i*i},easeInOutQuart(i){return i<.5?8*i*i*i*i:1-8*--i*i*i*i},easeInQuint(i){return i*i*i*i*i},easeOutQuint(i){return 1+--i*i*i*i*i},easeInOutQuint(i){return i<.5?16*i*i*i*i*i:1+16*--i*i*i*i*i}};function dr(i,e){let t;Oe(e)||(e=[e]);for(const r of i)if(r){t=r[e[0]];for(let n=1;n<e.length;n++)t&&(t=t[e[n]]);if(typeof t<"u")break}return t}const l4={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let d4=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return l4[e]}setColor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let r;const n=this._isColorString(e);if(n!==void 0&&(e=n),Di(e)===!0){if(k2(e)===!0){const o=e.substr(4).substr(0,e.length-5).split(",");r={r:o[0],g:o[1],b:o[2],a:1}}else if(a4(e)===!0){const o=e.substr(5).substr(0,e.length-6).split(",");r={r:o[0],g:o[1],b:o[2],a:o[3]}}else if(N2(e)===!0){const o=Zb(e);r={r:o.r,g:o.g,b:o.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const o=e.a!==void 0?e.a:"1.0";r={r:e.r,g:e.g,b:e.b,a:o}}if(r===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Po(e));this._setColor(r,t)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Pe({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Qt(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Pe({},e)),this.color=e;const r=xn(e.r,e.g,e.b),n=2*Math.PI,o=this.r*r.s,s=this.centerCoordinates.x+o*Math.sin(n*r.h),a=this.centerCoordinates.y+o*Math.cos(n*r.h);this.colorPickerSelector.style.left=s-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const t=xn(this.color.r,this.color.g,this.color.b);t.v=e/100;const r=Yo(t.h,t.s,t.v);r.a=this.color.a,this.color=r,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const t=xn(e.r,e.g,e.b),r=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1)),r.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const n=this.colorPickerCanvas.clientWidth,o=this.colorPickerCanvas.clientHeight;r.clearRect(0,0,n,o),r.putImageData(this.hueCircle,0,0),r.fillStyle="rgba(0,0,0,"+(1-t.v)+")",r.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Ro(r).call(r),this.brightnessRange.value=100*t.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,t,r,n;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const s=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(s.webkitBackingStorePixelRatio||s.mozBackingStorePixelRatio||s.msBackingStorePixelRatio||s.oBackingStorePixelRatio||s.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const s=document.createElement("DIV");s.style.color="red",s.style.fontWeight="bold",s.style.padding="10px",s.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(s)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const o=this;this.opacityRange.onchange=function(){o._setOpacity(this.value)},this.opacityRange.oninput=function(){o._setOpacity(this.value)},this.brightnessRange.onchange=function(){o._setBrightness(this.value)},this.brightnessRange.oninput=function(){o._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=D(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=D(t=this._apply).call(t,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=D(r=this._save).call(r,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=D(n=this._loadLast).call(n,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new Jb(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const t=this.colorPickerCanvas.clientWidth,r=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,t,r);let n,o,s,a;this.centerCoordinates={x:t*.5,y:r*.5},this.r=.49*t;const u=2*Math.PI/360,l=1/360,d=1/this.r;let c;for(s=0;s<360;s++)for(a=0;a<this.r;a++)n=this.centerCoordinates.x+a*Math.sin(u*s),o=this.centerCoordinates.y+a*Math.cos(u*s),c=Yo(s*l,a*d,1),e.fillStyle="rgb("+c.r+","+c.g+","+c.b+")",e.fillRect(n-.5,o-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,t,r)}this.generated=!0}_moveSelector(e){const t=this.colorPickerDiv.getBoundingClientRect(),r=e.center.x-t.left,n=e.center.y-t.top,o=.5*this.colorPickerDiv.clientHeight,s=.5*this.colorPickerDiv.clientWidth,a=r-s,u=n-o,l=Math.atan2(a,u),d=.98*Math.min(Math.sqrt(a*a+u*u),s),c=Math.cos(l)*d+o,h=Math.sin(l)*d+s;this.colorPickerSelector.style.top=c-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=h-.5*this.colorPickerSelector.clientWidth+"px";let f=l/(2*Math.PI);f=f<0?f+1:f;const v=d/this.r,p=xn(this.color.r,this.color.g,this.color.b);p.h=f,p.s=v;const b=Yo(p.h,p.s,p.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function Wm(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const r=document.createElement(e[0]);return r.appendChild(Wm(...Mt(e).call(e,1))),r}}let c4=class{constructor(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=t,this.allowCreation=!1,this.hideOption=o,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Pe(this.options,this.defaultOptions),this.configureOptions=r,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new d4(n),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let t=!0;if(typeof e=="string")this.options.filter=e;else if(Oe(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),it(e)!==void 0&&(this.options.filter=it(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(t=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,t=e):typeof e=="function"&&(this.options.filter=e,t=!0);it(this.options)===!1&&(t=!1),this.options.enabled=t}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=it(this.options);let t=0,r=!1;for(const n in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,n)&&(this.allowCreation=!1,r=!1,typeof e=="function"?(r=e(n,[]),r=r||this._handleObject(this.configureOptions[n],[n],!0)):(e===!0||ne(e).call(e,n)!==-1)&&(r=!0),r!==!1&&(this.allowCreation=!0,t>0&&this._makeItem([]),this._makeHeader(n),this._handleObject(this.configureOptions[n],[n])),t++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let t=this.moduleOptions;for(let r=0;r<e.length;r++)if(t[e[r]]!==void 0)t=t[e[r]];else{t=void 0;break}return t}_makeItem(e){if(this.allowCreation===!0){const o=document.createElement("div");o.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return le(r).call(r,s=>{o.appendChild(s)}),this.domElements.push(o),this.domElements.length}return 0}_makeHeader(e){const t=document.createElement("div");t.className="vis-configuration vis-config-header",t.innerText=e,this._makeItem([],t)}_makeLabel(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=document.createElement("div");if(n.className="vis-configuration vis-config-label vis-config-s"+t.length,r===!0){for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(Wm("i","b",e))}else n.innerText=e+":";return n}_makeDropdown(e,t,r){const n=document.createElement("select");n.className="vis-configuration vis-config-select";let o=0;t!==void 0&&ne(e).call(e,t)!==-1&&(o=ne(e).call(e,t));for(let u=0;u<e.length;u++){const l=document.createElement("option");l.value=e[u],u===o&&(l.selected="selected"),l.innerText=e[u],n.appendChild(l)}const s=this;n.onchange=function(){s._update(this.value,r)};const a=this._makeLabel(r[r.length-1],r);this._makeItem(r,a,n)}_makeRange(e,t,r){const n=e[0],o=e[1],s=e[2],a=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=o,u.max=s}catch{}u.step=a;let l="",d=0;t!==void 0?(t<0&&t*1.2<o?(u.min=Math.ceil(t*1.2),d=u.min,l="range increased"):t/1.2<o&&(u.min=Math.ceil(t/1.2),d=u.min,l="range increased"),t*1.2>s&&s!==1&&(u.max=Math.ceil(t*1.2),d=u.max,l="range increased"),u.value=t):u.value=n;const c=document.createElement("input");c.className="vis-configuration vis-config-rangeinput",c.value=u.value;const h=this;u.onchange=function(){c.value=this.value,h._update(Number(this.value),r)},u.oninput=function(){c.value=this.value};const f=this._makeLabel(r[r.length-1],r),v=this._makeItem(r,f,u,c);l!==""&&this.popupHistory[v]!==d&&(this.popupHistory[v]=d,this._setupPopup(l,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,t){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const r=document.createElement("div");r.id="vis-configuration-popup",r.className="vis-configuration-popup",r.innerText=e,r.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:r,index:t}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const t=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=t.left+"px",this.popupDiv.html.style.top=t.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Qt(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Qt(()=>{this._removePopup()},1800)}}_makeCheckbox(e,t,r){const n=document.createElement("input");n.type="checkbox",n.className="vis-configuration vis-config-checkbox",n.checked=e,t!==void 0&&(n.checked=t,t!==e&&(typeof e=="object"?t!==e.enabled&&this.changedOptions.push({path:r,value:t}):this.changedOptions.push({path:r,value:t})));const o=this;n.onchange=function(){o._update(this.checked,r)};const s=this._makeLabel(r[r.length-1],r);this._makeItem(r,s,n)}_makeTextInput(e,t,r){const n=document.createElement("input");n.type="text",n.className="vis-configuration vis-config-text",n.value=t,t!==e&&this.changedOptions.push({path:r,value:t});const o=this;n.onchange=function(){o._update(this.value,r)};const s=this._makeLabel(r[r.length-1],r);this._makeItem(r,s,n)}_makeColorField(e,t,r){const n=e[1],o=document.createElement("div");t=t===void 0?n:t,t!=="none"?(o.className="vis-configuration vis-config-colorBlock",o.style.backgroundColor=t):o.className="vis-configuration vis-config-colorBlock none",t=t===void 0?n:t,o.onclick=()=>{this._showColorPicker(t,o,r)};const s=this._makeLabel(r[r.length-1],r);this._makeItem(r,s,o)}_showColorPicker(e,t,r){t.onclick=function(){},this.colorPicker.insertTo(t),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(n=>{const o="rgba("+n.r+","+n.g+","+n.b+","+n.a+")";t.style.backgroundColor=o,this._update(o,r)}),this.colorPicker.setCloseCallback(()=>{t.onclick=()=>{this._showColorPicker(e,t,r)}})}_handleObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=!1;const o=it(this.options);let s=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){n=!0;const u=e[a],l=hs(t,a);if(typeof o=="function"&&(n=o(a,t),n===!1&&!Oe(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,n=this._handleObject(u,l,!0),this.allowCreation=r===!1)),n!==!1){s=!0;const d=this._getValue(l);if(Oe(u))this._handleArray(u,d,l);else if(typeof u=="string")this._makeTextInput(u,d,l);else if(typeof u=="boolean")this._makeCheckbox(u,d,l);else if(u instanceof Object){if(!this.hideOption(t,a,this.moduleOptions))if(u.enabled!==void 0){const c=hs(l,"enabled"),h=this._getValue(c);if(h===!0){const f=this._makeLabel(a,l,!0);this._makeItem(l,f),s=this._handleObject(u,l)||s}else this._makeCheckbox(u,h,l)}else{const c=this._makeLabel(a,l,!0);this._makeItem(l,c),s=this._handleObject(u,l)||s}}else console.error("dont know how to handle",u,a,l)}}return s}_handleArray(e,t,r){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,t,r),e[1]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="string"?(this._makeDropdown(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:t})):typeof e[0]=="number"&&(this._makeRange(e,t,r),e[0]!==t&&this.changedOptions.push({path:r,value:Number(t)}))}_update(e,t){const r=this._constructOptions(e,t);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",r),this.initialized=!0,this.parent.setOptions(r)}_constructOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=r;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let o=0;o<t.length;o++)t[o]!=="global"&&(n[t[o]]===void 0&&(n[t[o]]={}),o!==t.length-1?n=n[t[o]]:n[t[o]]=e);return r}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(Wm("pre","const options = "+Po(e,null,2)))}getOptions(){const e={};for(let t=0;t<this.changedOptions.length;t++)this._constructOptions(this.changedOptions[t].value,this.changedOptions[t].path,e);return e}},h4=class{constructor(e,t){this.container=e,this.overflowMethod=t||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,t){this.x=Rt(e),this.y=Rt(t)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const t=this.frame.clientHeight,r=this.frame.clientWidth,n=this.frame.parentNode.clientHeight,o=this.frame.parentNode.clientWidth;let s=0,a=0;if(this.overflowMethod=="flip"){let u=!1,l=!0;this.y-t<this.padding&&(l=!1),this.x+r>o-this.padding&&(u=!0),u?s=this.x-r:s=this.x,l?a=this.y-t:a=this.y}else a=this.y-t,a+t+this.padding>n&&(a=n-t-this.padding),a<this.padding&&(a=this.padding),s=this.x,s+r+this.padding>o&&(s=o-r-this.padding),s<this.padding&&(s=this.padding);this.frame.style.left=s+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},qn=!1,Cx;const Hm="background: #FFeeee; color: #dd0000";let f4=class Ee{static validate(e,t,r){qn=!1,Cx=t;let n=t;return r!==void 0&&(n=t[r]),Ee.parse(e,n,[]),qn}static parse(e,t,r){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&Ee.check(n,e,t,r)}static check(e,t,r,n){if(r[e]===void 0&&r.__any__===void 0){Ee.getSuggestion(e,r,n);return}let o=e,s=!0;r[e]===void 0&&r.__any__!==void 0&&(o="__any__",s=Ee.getType(t[e])==="object");let a=r[o];s&&a.__type__!==void 0&&(a=a.__type__),Ee.checkFields(e,t,r,o,a,n)}static checkFields(e,t,r,n,o,s){const a=function(d){console.error("%c"+d+Ee.printLocation(s,e),Hm)},u=Ee.getType(t[e]),l=o[u];l!==void 0?Ee.getType(l)==="array"&&ne(l).call(l,t[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+Ee.print(l)+' not "'+t[e]+'". '),qn=!0):u==="object"&&n!=="__any__"&&(s=hs(s,e),Ee.parse(t[e],r[n],s)):o.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+Ee.print(Se(o))+". Received ["+u+'] "'+t[e]+'"'),qn=!0)}static getType(e){const t=typeof e;return t==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Oe(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":t==="number"?"number":t==="boolean"?"boolean":t==="string"?"string":t===void 0?"undefined":t}static getSuggestion(e,t,r){const n=Ee.findInOptions(e,t,r,!1),o=Ee.findInOptions(e,Cx,[],!0),s=8,a=4;let u;n.indexMatch!==void 0?u=" in "+Ee.printLocation(n.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+n.indexMatch+`"?

`:o.distance<=a&&n.distance>o.distance?u=" in "+Ee.printLocation(n.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Ee.printLocation(o.path,o.closestMatch,""):n.distance<=s?u='. Did you mean "'+n.closestMatch+'"?'+Ee.printLocation(n.path,e):u=". Did you mean one of these: "+Ee.print(Se(t))+Ee.printLocation(r,e),console.error('%cUnknown option detected: "'+e+'"'+u,Hm),qn=!0}static findInOptions(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=1e9,s="",a=[];const u=e.toLowerCase();let l;for(const c in t){let h;if(t[c].__type__!==void 0&&n===!0){const f=Ee.findInOptions(e,t[c],hs(r,c));o>f.distance&&(s=f.closestMatch,a=f.path,o=f.distance,l=f.indexMatch)}else{var d;ne(d=c.toLowerCase()).call(d,u)!==-1&&(l=c),h=Ee.levenshteinDistance(e,c),o>h&&(s=c,a=i4(r),o=h)}}return{closestMatch:s,path:a,distance:o,indexMatch:l}}static printLocation(e,t){let n=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let o=0;o<e.length;o++){for(let s=0;s<o+1;s++)n+="  ";n+=e[o]+`: {
`}for(let o=0;o<e.length+1;o++)n+="  ";n+=t+`
`;for(let o=0;o<e.length+1;o++){for(let s=0;s<e.length-o;s++)n+="  ";n+=`}
`}return n+`

`}static print(e){return Po(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,t){if(e.length===0)return t.length;if(t.length===0)return e.length;const r=[];let n;for(n=0;n<=t.length;n++)r[n]=[n];let o;for(o=0;o<=e.length;o++)r[0][o]=o;for(n=1;n<=t.length;n++)for(o=1;o<=e.length;o++)t.charAt(n-1)==e.charAt(o-1)?r[n][o]=r[n-1][o-1]:r[n][o]=Math.min(r[n-1][o-1]+1,Math.min(r[n][o-1]+1,r[n-1][o]+1));return r[t.length][e.length]}};const v4=kt,p4=c4,Ai=Jb,g4=h4,B2=Hm,y4=f4;function m4(i){return hr=i,E4()}var j2={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},Qb=Gr(j2);Qb.color="color.color";Qb.style="dashes";var Ye={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},xx={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},hr="",Hi=0,X="",V="",rt=Ye.NULL;function b4(){Hi=0,X=hr.charAt(0)}function Fe(){Hi++,X=hr.charAt(Hi)}function Oi(){return hr.charAt(Hi+1)}function Dx(i){var e=i.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function br(i,e){if(i||(i={}),e)for(var t in e)e.hasOwnProperty(t)&&(i[t]=e[t]);return i}function _4(i,e,t){for(var r=e.split("."),n=i;r.length;){var o=r.shift();r.length?(n[o]||(n[o]={}),n=n[o]):n[o]=t}}function L2(i,e){for(var t,r,n=null,o=[i],s=i;s.parent;)o.push(s.parent),s=s.parent;if(s.nodes){for(t=0,r=s.nodes.length;t<r;t++)if(e.id===s.nodes[t].id){n=s.nodes[t];break}}for(n||(n={id:e.id},i.node&&(n.attr=br(n.attr,i.node))),t=o.length-1;t>=0;t--){var a,u=o[t];u.nodes||(u.nodes=[]),ne(a=u.nodes).call(a,n)===-1&&u.nodes.push(n)}e.attr&&(n.attr=br(n.attr,e.attr))}function w4(i,e){if(i.edges||(i.edges=[]),i.edges.push(e),i.edge){var t=br({},i.edge);e.attr=br(t,e.attr)}}function z2(i,e,t,r,n){var o={from:e,to:t,type:r};return i.edge&&(o.attr=br({},i.edge)),o.attr=br(o.attr||{},n),n!=null&&n.hasOwnProperty("arrows")&&n.arrows!=null&&(o.arrows={to:{enabled:!0,type:n.arrows.type}},n.arrows=null),o}function fe(){for(rt=Ye.NULL,V="";X===" "||X==="	"||X===`
`||X==="\r";)Fe();do{var i=!1;if(X==="#"){for(var e=Hi-1;hr.charAt(e)===" "||hr.charAt(e)==="	";)e--;if(hr.charAt(e)===`
`||hr.charAt(e)===""){for(;X!=""&&X!=`
`;)Fe();i=!0}}if(X==="/"&&Oi()==="/"){for(;X!=""&&X!=`
`;)Fe();i=!0}if(X==="/"&&Oi()==="*"){for(;X!="";)if(X==="*"&&Oi()==="/"){Fe(),Fe();break}else Fe();i=!0}for(;X===" "||X==="	"||X===`
`||X==="\r";)Fe()}while(i);if(X===""){rt=Ye.DELIMITER;return}var t=X+Oi();if(xx[t]){rt=Ye.DELIMITER,V=t,Fe(),Fe();return}if(xx[X]){rt=Ye.DELIMITER,V=X,Fe();return}if(Dx(X)||X==="-"){for(V+=X,Fe();Dx(X);)V+=X,Fe();V==="false"?V=!1:V==="true"?V=!0:isNaN(Number(V))||(V=Number(V)),rt=Ye.IDENTIFIER;return}if(X==='"'){for(Fe();X!=""&&(X!='"'||X==='"'&&Oi()==='"');)X==='"'?(V+=X,Fe()):X==="\\"&&Oi()==="n"?(V+=`
`,Fe()):V+=X,Fe();if(X!='"')throw Xe('End of string " expected');Fe(),rt=Ye.IDENTIFIER;return}for(rt=Ye.UNKNOWN;X!="";)V+=X,Fe();throw new SyntaxError('Syntax error in part "'+V2(V,30)+'"')}function E4(){var i={};if(b4(),fe(),V==="strict"&&(i.strict=!0,fe()),(V==="graph"||V==="digraph")&&(i.type=V,fe()),rt===Ye.IDENTIFIER&&(i.id=V,fe()),V!="{")throw Xe("Angle bracket { expected");if(fe(),W2(i),V!="}")throw Xe("Angle bracket } expected");if(fe(),V!=="")throw Xe("End of file expected");return fe(),delete i.node,delete i.edge,delete i.graph,i}function W2(i){for(;V!==""&&V!="}";)S4(i),V===";"&&fe()}function S4(i){var e=H2(i);if(e){U2(i,e);return}var t=O4(i);if(!t){if(rt!=Ye.IDENTIFIER)throw Xe("Identifier expected");var r=V;if(fe(),V==="="){if(fe(),rt!=Ye.IDENTIFIER)throw Xe("Identifier expected");i[r]=V,fe()}else I4(i,r)}}function H2(i){var e=null;if(V==="subgraph"&&(e={},e.type="subgraph",fe(),rt===Ye.IDENTIFIER&&(e.id=V,fe())),V==="{"){if(fe(),e||(e={}),e.parent=i,e.node=i.node,e.edge=i.edge,e.graph=i.graph,W2(e),V!="}")throw Xe("Angle bracket } expected");fe(),delete e.node,delete e.edge,delete e.graph,delete e.parent,i.subgraphs||(i.subgraphs=[]),i.subgraphs.push(e)}return e}function O4(i){return V==="node"?(fe(),i.node=kn(),"node"):V==="edge"?(fe(),i.edge=kn(),"edge"):V==="graph"?(fe(),i.graph=kn(),"graph"):null}function I4(i,e){var t={id:e},r=kn();r&&(t.attr=r),L2(i,t),U2(i,e)}function U2(i,e){for(;V==="->"||V==="--";){var t,r=V;fe();var n=H2(i);if(n)t=n;else{if(rt!=Ye.IDENTIFIER)throw Xe("Identifier or subgraph expected");t=V,L2(i,{id:t}),fe()}var o=kn(),s=z2(i,e,t,r,o);w4(i,s),e=t}}function kn(){for(var i,e=null,t={dashed:!0,solid:!1,dotted:[1,5]},r={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},n=new Array,o=new Array;V==="[";){for(fe(),e={};V!==""&&V!="]";){if(rt!=Ye.IDENTIFIER)throw Xe("Attribute name expected");var s=V;if(fe(),V!="=")throw Xe("Equal sign = expected");if(fe(),rt!=Ye.IDENTIFIER)throw Xe("Attribute value expected");var a=V;s==="style"&&(a=t[a]);var u;s==="arrowhead"&&(u=r[a],s="arrows",a={to:{enabled:!0,type:u}}),s==="arrowtail"&&(u=r[a],s="arrows",a={from:{enabled:!0,type:u}}),n.push({attr:e,name:s,value:a}),o.push(s),fe(),V==","&&fe()}if(V!="]")throw Xe("Bracket ] expected");fe()}if(pr(o).call(o,"dir")){var l={};for(l.arrows={},i=0;i<n.length;i++)if(n[i].name==="arrows")if(n[i].value.to!=null)l.arrows.to=i;else if(n[i].value.from!=null)l.arrows.from=i;else throw Xe("Invalid value of arrows");else n[i].name==="dir"&&(l.dir=i);var d=n[l.dir].value;if(!pr(o).call(o,"arrows"))if(d==="both")n.push({attr:n[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=n.length-1,n.push({attr:n[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=n.length-1;else if(d==="forward")n.push({attr:n[l.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),l.arrows.to=n.length-1;else if(d==="back")n.push({attr:n[l.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),l.arrows.from=n.length-1;else if(d==="none")n.push({attr:n[l.dir].attr,name:"arrows",value:""}),l.arrows.to=n.length-1;else throw Xe('Invalid dir type "'+d+'"');var c,h;if(d==="both")l.arrows.to&&l.arrows.from?(h=n[l.arrows.to].value.to.type,c=n[l.arrows.from].value.from.type,n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}},Zt(n).call(n,l.arrows.from,1)):l.arrows.to?(h=n[l.arrows.to].value.to.type,c="arrow",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c=n[l.arrows.from].value.from.type,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}});else if(d==="back")l.arrows.to&&l.arrows.from?(h="",c=n[l.arrows.from].value.from.type,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h="",c="arrow",l.arrows.from=l.arrows.to,n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="",c=n[l.arrows.from].value.from.type,n[l.arrows.to]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),n[l.arrows.from]={attr:n[l.arrows.from].attr,name:n[l.arrows.from].name,value:{from:{enabled:!0,type:n[l.arrows.from].value.from.type}}};else if(d==="none"){var f;l.arrows.to?f=l.arrows.to:f=l.arrows.from,n[f]={attr:n[f].attr,name:n[f].name,value:""}}else if(d==="forward")l.arrows.to&&l.arrows.from?(h=n[l.arrows.to].value.to.type,c="",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.to?(h=n[l.arrows.to].value.to.type,c="",n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}):l.arrows.from&&(h="arrow",c="",l.arrows.to=l.arrows.from,n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:h},from:{enabled:!0,type:c}}}),n[l.arrows.to]={attr:n[l.arrows.to].attr,name:n[l.arrows.to].name,value:{to:{enabled:!0,type:n[l.arrows.to].value.to.type}}};else throw Xe('Invalid dir type "'+d+'"');Zt(n).call(n,l.dir,1)}var v;if(pr(o).call(o,"penwidth")){var p=[];for(v=n.length,i=0;i<v;i++)n[i].name!=="width"&&(n[i].name==="penwidth"&&(n[i].name="width"),p.push(n[i]));n=p}for(v=n.length,i=0;i<v;i++)_4(n[i].attr,n[i].name,n[i].value);return e}function Xe(i){return new SyntaxError(i+', got "'+V2(V,30)+'" (char '+Hi+")")}function V2(i,e){return i.length<=e?i:i.substr(0,27)+"..."}function $4(i,e,t){Oe(i)?le(i).call(i,function(r){Oe(e)?le(e).call(e,function(n){t(r,n)}):t(r,e)}):Oe(e)?le(e).call(e,function(r){t(i,r)}):t(i,e)}function lg(i,e,t){for(var r=e.split("."),n=r.pop(),o=i,s=0;s<r.length;s++){var a=r[s];a in o||(o[a]={}),o=o[a]}return o[n]=t,i}function Ax(i,e){var t={};for(var r in i)if(i.hasOwnProperty(r)){var n=e[r];Oe(n)?le(n).call(n,function(o){lg(t,o,i[r])}):typeof n=="string"?lg(t,n,i[r]):lg(t,r,i[r])}return t}function T4(i){var e=m4(i),t={nodes:[],edges:[],options:{}};if(e.nodes){var r;le(r=e.nodes).call(r,function(s){var a={id:s.id,label:String(s.label||s.id)};br(a,Ax(s.attr,j2)),a.image&&(a.shape="image"),t.nodes.push(a)})}if(e.edges){var n,o=function(s){var a={from:s.from,to:s.to};return br(a,Ax(s.attr,Qb)),a.arrows==null&&s.type==="->"&&(a.arrows="to"),a};le(n=e.edges).call(n,function(s){var a,u;if(s.from instanceof Object?a=s.from.nodes:a={id:s.from},s.to instanceof Object?u=s.to.nodes:u={id:s.to},s.from instanceof Object&&s.from.edges){var l;le(l=s.from.edges).call(l,function(c){var h=o(c);t.edges.push(h)})}if($4(a,u,function(c,h){var f=z2(t,c.id,h.id,s.type,s.attr),v=o(f);t.edges.push(v)}),s.to instanceof Object&&s.to.edges){var d;le(d=s.to.edges).call(d,function(c){var h=o(c);t.edges.push(h)})}})}return e.attr&&(t.options=e.attr),t}function P4(i,e){var t;const r={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(r.nodes.fixed=e.fixed),e.parseColor!=null&&(r.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(r.edges.inheritColor=e.inheritColor));const n=i.edges,o=ji(n).call(n,a=>{const u={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.type==="Directed"&&(u.arrows="to"),a.color&&r.edges.inheritColor===!1&&(u.color=a.color),u});return{nodes:ji(t=i.nodes).call(t,a=>{const u={id:a.id,fixed:r.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(u.attributes=a.attributes),a.label!=null&&(u.label=a.label),a.size!=null&&(u.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(u.title=a.attributes.title),a.title!=null&&(u.title=a.title),a.x!=null&&(u.x=a.x),a.y!=null&&(u.y=a.y),a.color!=null&&(r.nodes.parseColor===!0?u.color=a.color:u.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),u}),edges:o}}const R4={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},q4={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufÃ¼gen",addNode:"Knoten hinzufÃ¼gen",back:"ZurÃ¼ck",close:"SchlieÃen",createEdgeError:"Es ist nicht mÃ¶glich, Kanten mit Clustern zu verbinden.",del:"LÃ¶sche Auswahl",deleteClusterError:"Cluster kÃ¶nnen nicht gelÃ¶scht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster kÃ¶nnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},C4={addDescription:"Haga clic en un lugar vacÃ­o para colocar un nuevo nodo.",addEdge:"AÃ±adir arista",addNode:"AÃ±adir nodo",back:"AtrÃ¡s",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar selecciÃ³n",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},x4={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},D4={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},A4={addDescription:"Clique em um espaÃ§o em branco para adicionar um novo nÃ³",addEdge:"Adicionar aresta",addNode:"Adicionar nÃ³",back:"Voltar",close:"Fechar",createEdgeError:"NÃ£o foi possÃ­vel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters nÃ£o puderam ser removidos.",edgeDescription:"Clique em um nÃ³ e arraste a aresta atÃ© outro nÃ³ para conectÃ¡-los",edit:"Editar",editClusterError:"Clusters nÃ£o puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nÃ³ para conectÃ¡-los",editNode:"Editar nÃ³"},M4={addDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð² ÑÐ²Ð¾Ð±Ð¾Ð´Ð½Ð¾Ðµ Ð¼ÐµÑÑÐ¾, ÑÑÐ¾Ð±Ñ Ð´Ð¾Ð±Ð°Ð²Ð¸ÑÑ Ð½Ð¾Ð²ÑÐ¹ ÑÐ·ÐµÐ».",addEdge:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐµÐ±ÑÐ¾",addNode:"ÐÐ¾Ð±Ð°Ð²Ð¸ÑÑ ÑÐ·ÐµÐ»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÑÐ²Ð°ÑÑ",createEdgeError:"ÐÐµÐ²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ ÑÐµÐ±ÑÐ° Ð² ÐºÐ»Ð°ÑÑÐµÑ.",del:"Ð£Ð´Ð°Ð»Ð¸ÑÑ Ð²ÑÐ±ÑÐ°Ð½Ð½Ð¾Ðµ",deleteClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½Ðµ Ð¼Ð¾Ð³ÑÑ Ð±ÑÑÑ ÑÐ´Ð°Ð»ÐµÐ½Ñ",edgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÑÐ·ÐµÐ» Ð¸ Ð¿ÑÐ¾ÑÑÐ½Ð¸ÑÐµ ÑÐµÐ±ÑÐ¾ Ðº Ð´ÑÑÐ³Ð¾Ð¼Ñ ÑÐ·Ð»Ñ, ÑÑÐ¾Ð±Ñ ÑÐ¾ÐµÐ´Ð¸Ð½Ð¸ÑÑ Ð¸Ñ.",edit:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ",editClusterError:"ÐÐ»Ð°ÑÑÐµÑÑ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°Ð½Ð¸Ñ.",editEdge:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐµÐ±ÑÐ¾",editEdgeDescription:"ÐÐ»Ð¸ÐºÐ½Ð¸ÑÐµ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½ÑÐµ ÑÐ¾ÑÐºÐ¸ Ð¸ Ð¿ÐµÑÐµÑÐ°ÑÐ¸ÑÐµ Ð¸Ñ Ð² ÑÐ·ÐµÐ», ÑÑÐ¾Ð±Ñ Ð¿Ð¾Ð´ÐºÐ»ÑÑÐ¸ÑÑÑÑ Ðº Ð½ÐµÐ¼Ñ.",editNode:"Ð ÐµÐ´Ð°ÐºÑÐ¸ÑÐ¾Ð²Ð°ÑÑ ÑÐ·ÐµÐ»"},F4={addDescription:"åå»ç©ºç½å¤æ¾ç½®æ°èç¹ã",addEdge:"æ·»å è¿æ¥çº¿",addNode:"æ·»å èç¹",back:"è¿å",close:"éé",createEdgeError:"æ æ³å°è¿æ¥çº¿è¿æ¥å°ç¾¤éã",del:"å é¤éå®",deleteClusterError:"æ æ³å é¤ç¾¤éã",edgeDescription:"åå»æä¸ªèç¹å¹¶å°è¯¥è¿æ¥çº¿æå¨å°å¦ä¸ä¸ªèç¹ä»¥è¿æ¥å®ä»¬ã",edit:"ç¼è¾",editClusterError:"æ æ³ç¼è¾ç¾¤éã",editEdge:"ç¼è¾è¿æ¥çº¿",editEdgeDescription:"åå»æ§å¶èç¹å¹¶å°å®ä»¬æå°èç¹ä¸è¿æ¥ã",editNode:"ç¼è¾èç¹"},N4={addDescription:"KÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ»ÑÐ½Ðµ Ð¼ÑÑÑÐµ, ÑÐ¾Ð± Ð´Ð¾Ð´Ð°ÑÐ¸ Ð½Ð¾Ð²Ð¸Ð¹ Ð²ÑÐ·Ð¾Ð».",addEdge:"ÐÐ¾Ð´Ð°ÑÐ¸ ÐºÑÐ°Ð¹",addNode:"ÐÐ¾Ð´Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»",back:"ÐÐ°Ð·Ð°Ð´",close:"ÐÐ°ÐºÑÐ¸ÑÐ¸",createEdgeError:"ÐÐµ Ð¼Ð¾Ð¶Ð»Ð¸Ð²Ð¾ Ð¾Ð±'ÑÐ´Ð½Ð°ÑÐ¸ ÐºÑÐ°Ñ Ð² Ð³ÑÑÐ¿Ñ.",del:"ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±ÑÐ°Ð½Ðµ",deleteClusterError:"ÐÑÑÐ¿Ð¸ Ð½Ðµ Ð¼Ð¾Ð¶ÑÑÑ Ð±ÑÑÐ¸ Ð²Ð¸Ð´Ð°Ð»ÐµÐ½Ñ.",edgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° Ð²ÑÐ·Ð¾Ð» Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÐºÑÐ°Ð¹ Ð´Ð¾ ÑÐ½ÑÐ¾Ð³Ð¾ Ð²ÑÐ·Ð»Ð°, ÑÐ¾Ð± ÑÑ Ð·'ÑÐ´Ð½Ð°ÑÐ¸.",edit:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸",editClusterError:"ÐÑÑÐ¿Ð¸ Ð½ÐµÐ´Ð¾ÑÑÑÐ¿Ð½Ñ Ð´Ð»Ñ ÑÐµÐ´Ð°Ð³ÑÐ²Ð°Ð½Ð½Ñ.",editEdge:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ ÐºÑÐ°Ð¹",editEdgeDescription:"ÐÐ»ÑÐºÐ½ÑÑÑ Ð½Ð° ÐºÐ¾Ð½ÑÑÐ¾Ð»ÑÐ½Ñ ÑÐ¾ÑÐºÐ¸ Ñ Ð¿ÐµÑÐµÑÑÐ³Ð½ÑÑÑ ÑÑ Ñ Ð²ÑÐ·Ð¾Ð», ÑÐ¾Ð± Ð¿ÑÐ´ÐºÐ»ÑÑÐ¸ÑÐ¸ÑÑ Ð´Ð¾ Ð½ÑÐ¾Ð³Ð¾.",editNode:"Ð ÐµÐ´Ð°Ð³ÑÐ²Ð°ÑÐ¸ Ð²ÑÐ·Ð¾Ð»"},k4={addDescription:"Cliquez dans un endroit vide pour placer un nÅud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nÅud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crÃ©er un lien vers un cluster.",del:"Effacer la sÃ©lection",deleteClusterError:"Les clusters ne peuvent pas Ãªtre effacÃ©s.",edgeDescription:"Cliquez sur un nÅud et glissez le lien vers un autre nÅud pour les connecter.",edit:"Ãditer",editClusterError:"Les clusters ne peuvent pas Ãªtre Ã©ditÃ©s.",editEdge:"Ãditer le lien",editEdgeDescription:"Cliquez sur les points de contrÃ´le et glissez-les pour connecter un nÅud.",editNode:"Ãditer le nÅud"},B4={addDescription:"KluknutÃ­m do prÃ¡zdnÃ©ho prostoru mÅ¯Å¾ete pÅidat novÃ½ vrchol.",addEdge:"PÅidat hranu",addNode:"PÅidat vrchol",back:"ZpÄt",close:"ZavÅÃ­t",createEdgeError:"Nelze pÅipojit hranu ke shluku.",del:"Smazat vÃ½bÄr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"PÅetaÅ¾enÃ­m z jednoho vrcholu do druhÃ©ho mÅ¯Å¾ete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"PÅetaÅ¾enÃ­m kontrolnÃ­ho vrcholu hrany ji mÅ¯Å¾ete pÅipojit k jinÃ©mu vrcholu.",editNode:"Upravit vrchol"};var j4=Object.freeze({__proto__:null,cn:F4,cs:B4,de:q4,en:R4,es:C4,fr:k4,it:x4,nl:D4,pt:A4,ru:M4,uk:N4});function L4(i,e){try{const[r,n]=e.split(/[-_ /]/,2),o=r!=null?r.toLowerCase():null,s=n!=null?n.toUpperCase():null;if(o&&s){const a=o+"-"+s;if(Object.prototype.hasOwnProperty.call(i,a))return a;var t;console.warn(cG(t="Unknown variant ".concat(s," of language ")).call(t,o,"."))}if(o){const a=o;if(Object.prototype.hasOwnProperty.call(i,a))return a;console.warn("Unknown language ".concat(o))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(r){return console.error(r),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class z4{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,t=this.image.height;this.width=e,this.height=t;const r=Math.floor(t/2),n=Math.floor(t/4),o=Math.floor(t/8),s=Math.floor(t/16),a=Math.floor(e/2),u=Math.floor(e/4),l=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=r,this.coordinates=[[0,0,a,r],[a,0,u,n],[a,n,l,o],[5*l,n,d,s]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),t=this.coordinates[0];e.drawImage(this.image,t[0],t[1],t[2],t[3]);for(let r=1;r<this.NUM_ITERATIONS;r++){const n=this.coordinates[r-1],o=this.coordinates[r];e.drawImage(this.canvas,n[0],n[1],n[2],n[3],o[0],o[1],o[2],o[3])}}drawImageAtPosition(e,t,r,n,o,s){if(this.initialized())if(t>2){t*=.5;let a=0;for(;t>2&&a<this.NUM_ITERATIONS;)t*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const u=this.coordinates[a];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],r,n,o,s)}else e.drawImage(this.image,r,n,o,s)}}class W4{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,t,r){if(!(e===void 0||r===void 0)){if(t===void 0){console.warn("No broken url image defined");return}r.image.onerror=()=>{console.error("Could not load brokenImage:",t)},r.image.src=t}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,t){const r=this.images[e];if(r)return r;const n=new z4;return this.images[e]=n,n.image.onload=()=>{this._fixImageCoordinates(n.image),n.init(),this._redrawWithImage(n)},n.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,t,n)},n.image.src=e,n}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Mx={},Fx={},dg={exports:{}},cg,Nx;function H4(){if(Nx)return cg;Nx=1;var i=te();return cg=i(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),cg}var hg,kx;function U4(){if(kx)return hg;kx=1;var i=te(),e=ze(),t=Ht(),r=H4(),n=Object.isExtensible,o=i(function(){});return hg=o||r?function(a){return!e(a)||r&&t(a)==="ArrayBuffer"?!1:n?n(a):!0}:n,hg}var fg,Bx;function G2(){if(Bx)return fg;Bx=1;var i=te();return fg=!i(function(){return Object.isExtensible(Object.preventExtensions({}))}),fg}var jx;function Vs(){if(jx)return dg.exports;jx=1;var i=z(),e=re(),t=So(),r=ze(),n=Ue(),o=wt().f,s=js(),a=kb(),u=U4(),l=Ds(),d=G2(),c=!1,h=l("meta"),f=0,v=function(m){o(m,h,{value:{objectID:"O"+f++,weakData:{}}})},p=function(m,w){if(!r(m))return typeof m=="symbol"?m:(typeof m=="string"?"S":"P")+m;if(!n(m,h)){if(!u(m))return"F";if(!w)return"E";v(m)}return m[h].objectID},b=function(m,w){if(!n(m,h)){if(!u(m))return!0;if(!w)return!1;v(m)}return m[h].weakData},y=function(m){return d&&c&&u(m)&&!n(m,h)&&v(m),m},g=function(){S.enable=function(){},c=!0;var m=s.f,w=e([].splice),O={};O[h]=1,m(O).length&&(s.f=function(I){for(var _=m(I),E=0,$=_.length;E<$;E++)if(_[E]===h){w(_,E,1);break}return _},i({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},S=dg.exports={enable:g,fastKey:p,getWeakData:b,onFreeze:y};return t[h]=!0,dg.exports}var vg,Lx;function V4(){if(Lx)return vg;Lx=1;var i=De(),e=fn(),t=i("iterator"),r=Array.prototype;return vg=function(n){return n!==void 0&&(e.Array===n||r[t]===n)},vg}var pg,zx;function K2(){if(zx)return pg;zx=1;var i=hn(),e=Rb(),t=rn(),r=fn(),n=De(),o=n("iterator");return pg=function(s){if(!t(s))return e(s,o)||e(s,"@@iterator")||r[i(s)]},pg}var gg,Wx;function G4(){if(Wx)return gg;Wx=1;var i=lt(),e=ar(),t=Ut(),r=sn(),n=K2(),o=TypeError;return gg=function(s,a){var u=arguments.length<2?n(s):a;if(e(u))return t(i(u,s));throw new o(r(s)+" is not iterable")},gg}var yg,Hx;function e1(){if(Hx)return yg;Hx=1;var i=lt(),e=Ut(),t=Rb();return yg=function(r,n,o){var s,a;e(r);try{if(s=t(r,"return"),!s){if(n==="throw")throw o;return o}s=i(s,r)}catch(u){a=!0,s=u}if(n==="throw")throw o;if(a)throw s;return e(s),o},yg}var mg,Ux;function Gs(){if(Ux)return mg;Ux=1;var i=Ms(),e=lt(),t=Ut(),r=sn(),n=V4(),o=ur(),s=xe(),a=G4(),u=K2(),l=e1(),d=TypeError,c=function(f,v){this.stopped=f,this.result=v},h=c.prototype;return mg=function(f,v,p){var b=p&&p.that,y=!!(p&&p.AS_ENTRIES),g=!!(p&&p.IS_RECORD),S=!!(p&&p.IS_ITERATOR),m=!!(p&&p.INTERRUPTED),w=i(v,b),O,I,_,E,$,T,P,R=function(M){return O&&l(O,"normal"),new c(!0,M)},C=function(M){return y?(t(M),m?w(M[0],M[1],R):w(M[0],M[1])):m?w(M,R):w(M)};if(g)O=f.iterator;else if(S)O=f;else{if(I=u(f),!I)throw new d(r(f)+" is not iterable");if(n(I)){for(_=0,E=o(f);E>_;_++)if($=C(f[_]),$&&s(h,$))return $;return new c(!1)}O=a(f,I)}for(T=g?f.next:O.next;!(P=e(T,O)).done;){try{$=C(P.value)}catch(M){l(O,"throw",M)}if(typeof $=="object"&&$&&s(h,$))return $}return new c(!1)},mg}var bg,Vx;function t1(){if(Vx)return bg;Vx=1;var i=xe(),e=TypeError;return bg=function(t,r){if(i(r,t))return t;throw new e("Incorrect invocation")},bg}var _g,Gx;function r1(){if(Gx)return _g;Gx=1;var i=z(),e=ye(),t=Vs(),r=te(),n=ln(),o=Gs(),s=t1(),a=Le(),u=ze(),l=rn(),d=vi(),c=wt().f,h=Pr().forEach,f=$e(),v=pi(),p=v.set,b=v.getterFor;return _g=function(y,g,S){var m=y.indexOf("Map")!==-1,w=y.indexOf("Weak")!==-1,O=m?"set":"add",I=e[y],_=I&&I.prototype,E={},$;if(!f||!a(I)||!(w||_.forEach&&!r(function(){new I().entries().next()})))$=S.getConstructor(g,y,m,O),t.enable();else{$=g(function(R,C){p(s(R,T),{type:y,collection:new I}),l(C)||o(C,R[O],{that:R,AS_ENTRIES:m})});var T=$.prototype,P=b(y);h(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var C=R==="add"||R==="set";R in _&&!(w&&R==="clear")&&n(T,R,function(M,K){var L=P(this).collection;if(!C&&w&&!u(M))return R==="get"?void 0:!1;var J=L[R](M===0?0:M,K);return C?this:J})}),w||c(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d($,y,!1,!0),E[y]=$,i({global:!0,forced:!0},E),w||S.setStrong($,y,m),$},_g}var wg,Kx;function i1(){if(Kx)return wg;Kx=1;var i=To();return wg=function(e,t,r){for(var n in t)r&&r.unsafe&&e[n]?e[n]=t[n]:i(e,n,t[n],r);return e},wg}var Eg,Yx;function K4(){if(Yx)return Eg;Yx=1;var i=ht(),e=Bb(),t=De(),r=$e(),n=t("species");return Eg=function(o){var s=i(o);r&&s&&!s[n]&&e(s,n,{configurable:!0,get:function(){return this}})},Eg}var Sg,Xx;function Y2(){if(Xx)return Sg;Xx=1;var i=$o(),e=Bb(),t=i1(),r=Ms(),n=t1(),o=rn(),s=Gs(),a=Lb(),u=zb(),l=K4(),d=$e(),c=Vs().fastKey,h=pi(),f=h.set,v=h.getterFor;return Sg={getConstructor:function(p,b,y,g){var S=p(function(_,E){n(_,m),f(_,{type:b,index:i(null),first:null,last:null,size:0}),d||(_.size=0),o(E)||s(E,_[g],{that:_,AS_ENTRIES:y})}),m=S.prototype,w=v(b),O=function(_,E,$){var T=w(_),P=I(_,E),R,C;return P?P.value=$:(T.last=P={index:C=c(E,!0),key:E,value:$,previous:R=T.last,next:null,removed:!1},T.first||(T.first=P),R&&(R.next=P),d?T.size++:_.size++,C!=="F"&&(T.index[C]=P)),_},I=function(_,E){var $=w(_),T=c(E),P;if(T!=="F")return $.index[T];for(P=$.first;P;P=P.next)if(P.key===E)return P};return t(m,{clear:function(){for(var E=this,$=w(E),T=$.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;$.first=$.last=null,$.index=i(null),d?$.size=0:E.size=0},delete:function(_){var E=this,$=w(E),T=I(E,_);if(T){var P=T.next,R=T.previous;delete $.index[T.index],T.removed=!0,R&&(R.next=P),P&&(P.previous=R),$.first===T&&($.first=P),$.last===T&&($.last=R),d?$.size--:E.size--}return!!T},forEach:function(E){for(var $=w(this),T=r(E,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:$.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(E){return!!I(this,E)}}),t(m,y?{get:function(E){var $=I(this,E);return $&&$.value},set:function(E,$){return O(this,E===0?0:E,$)}}:{add:function(E){return O(this,E=E===0?0:E,E)}}),d&&e(m,"size",{configurable:!0,get:function(){return w(this).size}}),S},setStrong:function(p,b,y){var g=b+" Iterator",S=v(b),m=v(g);a(p,b,function(w,O){f(this,{type:g,target:w,state:S(w),kind:O,last:null})},function(){for(var w=m(this),O=w.kind,I=w.last;I&&I.removed;)I=I.previous;return!w.target||!(w.last=I=I?I.next:w.state.first)?(w.target=null,u(void 0,!0)):u(O==="keys"?I.key:O==="values"?I.value:[I.key,I.value],!1)},y?"entries":"values",!y,!0),l(b)}},Sg}var Jx;function Y4(){if(Jx)return Fx;Jx=1;var i=r1(),e=Y2();return i("Map",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),Fx}var Zx;function X4(){return Zx||(Zx=1,Y4()),Mx}var Qx={},Og,eD;function X2(){return eD||(eD=1,Og=function(i,e){return e===1?function(t,r){return t[i](r)}:function(t,r,n){return t[i](r,n)}}),Og}var Ig,tD;function J4(){if(tD)return Ig;tD=1;var i=ht(),e=X2(),t=i("Map");return Ig={Map:t,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:t.prototype},Ig}var rD;function Z4(){if(rD)return Qx;rD=1;var i=z(),e=re(),t=ar(),r=sr(),n=Gs(),o=J4(),s=an(),a=te(),u=o.Map,l=o.has,d=o.get,c=o.set,h=e([].push),f=s||a(function(){return u.groupBy("ab",function(v){return v}).get("a").length!==1});return i({target:"Map",stat:!0,forced:s||f},{groupBy:function(p,b){r(p),t(b);var y=new u,g=0;return n(p,function(S){var m=b(S,g++);l(y,m)?h(d(y,m),S):c(y,m,[S])}),y}}),Qx}var iD={},$g,nD;function Q4(){if(nD)return $g;nD=1;var i=re(),e=dn(),t=Et(),r=sr(),n=i("".charAt),o=i("".charCodeAt),s=i("".slice),a=function(u){return function(l,d){var c=t(r(l)),h=e(d),f=c.length,v,p;return h<0||h>=f?u?"":void 0:(v=o(c,h),v<55296||v>56319||h+1===f||(p=o(c,h+1))<56320||p>57343?u?n(c,h):v:u?s(c,h,h+2):(v-55296<<10)+(p-56320)+65536)}};return $g={codeAt:a(!1),charAt:a(!0)},$g}var oD;function n1(){if(oD)return iD;oD=1;var i=Q4().charAt,e=Et(),t=pi(),r=Lb(),n=zb(),o="String Iterator",s=t.set,a=t.getterFor(o);return r(String,"String",function(u){s(this,{type:o,string:e(u),index:0})},function(){var l=a(this),d=l.string,c=l.index,h;return c>=d.length?n(void 0,!0):(h=i(d,c),l.index+=h.length,n(h,!1))}),iD}var Tg,sD;function e6(){if(sD)return Tg;sD=1,vn(),X4(),Z4(),n1();var i=se();return Tg=i.Map,Tg}var Pg,aD;function t6(){if(aD)return Pg;aD=1;var i=e6();return pn(),Pg=i,Pg}var Rg,uD;function r6(){return uD||(uD=1,Rg=t6()),Rg}var i6=r6(),o1=G(i6);class n6{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Pe(this.options,this.defaultOptions)}setOptions(e){const t=["useDefaultGroups"];if(e!==void 0){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&ne(t).call(t,r)===-1){const n=e[r];this.add(r,n)}}}clear(){this._groups=new o1,this._groupNames=[]}get(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this._groups.get(e);if(r===void 0&&t)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const n=this._groupIndex%this._groupNames.length;++this._groupIndex,r={},r.color=this._groups.get(this._groupNames[n]),this._groups.set(e,r)}else{const n=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,r={},r.color=this._defaultGroups[n],this._groups.set(e,r)}return r}add(e,t){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,t),t}}var lD={},dD;function o6(){if(dD)return lD;dD=1;var i=z();return i({target:"Number",stat:!0},{isNaN:function(t){return t!==t}}),lD}var qg,cD;function s6(){if(cD)return qg;cD=1,o6();var i=se();return qg=i.Number.isNaN,qg}var Cg,hD;function a6(){if(hD)return Cg;hD=1;var i=s6();return Cg=i,Cg}var xg,fD;function u6(){return fD||(fD=1,xg=a6()),xg}var l6=u6(),Um=G(l6),vD={},Dg,pD;function d6(){if(pD)return Dg;pD=1;var i=ye(),e=i.isFinite;return Dg=Number.isFinite||function(r){return typeof r=="number"&&e(r)},Dg}var gD;function c6(){if(gD)return vD;gD=1;var i=z(),e=d6();return i({target:"Number",stat:!0},{isFinite:e}),vD}var Ag,yD;function h6(){if(yD)return Ag;yD=1,c6();var i=se();return Ag=i.Number.isFinite,Ag}var Mg,mD;function f6(){if(mD)return Mg;mD=1;var i=h6();return Mg=i,Mg}var Fg,bD;function v6(){return bD||(bD=1,Fg=f6()),Fg}var p6=v6(),zr=G(p6),_D={},wD;function g6(){if(wD)return _D;wD=1;var i=z(),e=Pr().some,t=gn(),r=t("some");return i({target:"Array",proto:!0,forced:!r},{some:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),_D}var Ng,ED;function y6(){if(ED)return Ng;ED=1,g6();var i=Ve();return Ng=i("Array","some"),Ng}var kg,SD;function m6(){if(SD)return kg;SD=1;var i=xe(),e=y6(),t=Array.prototype;return kg=function(r){var n=r.some;return r===t||i(t,r)&&n===t.some?e:n},kg}var Bg,OD;function b6(){if(OD)return Bg;OD=1;var i=m6();return Bg=i,Bg}var jg,ID;function _6(){return ID||(ID=1,jg=b6()),jg}var w6=_6(),E6=G(w6),Lg={exports:{}},$D={},TD;function S6(){if(TD)return $D;TD=1;var i=z(),e=$e(),t=wt().f;return i({target:"Object",stat:!0,forced:Object.defineProperty!==t,sham:!e},{defineProperty:t}),$D}var PD;function O6(){if(PD)return Lg.exports;PD=1,S6();var i=se(),e=i.Object,t=Lg.exports=function(n,o,s){return e.defineProperty(n,o,s)};return e.defineProperty.sham&&(t.sham=!0),Lg.exports}var zg,RD;function J2(){if(RD)return zg;RD=1;var i=O6();return zg=i,zg}var Wg,qD;function I6(){if(qD)return Wg;qD=1;var i=J2();return Wg=i,Wg}var Hg,CD;function $6(){if(CD)return Hg;CD=1;var i=I6();return Hg=i,Hg}var Ug,xD;function T6(){return xD||(xD=1,Ug=$6()),Ug}var P6=T6(),R6=G(P6),DD={},AD;function q6(){if(AD)return DD;AD=1;var i=De(),e=wt().f,t=i("metadata"),r=Function.prototype;return r[t]===void 0&&e(r,t,{value:null}),DD}var MD={},FD;function C6(){return FD||(FD=1,Qk()),MD}var ND={},kD;function x6(){return kD||(kD=1,e2()),ND}var BD={},jD;function D6(){if(jD)return BD;jD=1;var i=we();return i("metadata"),BD}var Vg,LD;function A6(){if(LD)return Vg;LD=1;var i=o2();return q6(),C6(),x6(),D6(),Vg=i,Vg}var zD={},Gg,WD;function Z2(){if(WD)return Gg;WD=1;var i=ht(),e=re(),t=i("Symbol"),r=t.keyFor,n=e(t.prototype.valueOf);return Gg=t.isRegisteredSymbol||function(s){try{return r(n(s))!==void 0}catch{return!1}},Gg}var HD;function M6(){if(HD)return zD;HD=1;var i=z(),e=Z2();return i({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),zD}var UD={},Kg,VD;function Q2(){if(VD)return Kg;VD=1;for(var i=un(),e=ht(),t=re(),r=Eo(),n=De(),o=e("Symbol"),s=o.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),u=t(o.prototype.valueOf),l=i("wks"),d=0,c=a(o),h=c.length;d<h;d++)try{var f=c[d];r(o[f])&&n(f)}catch{}return Kg=function(p){if(s&&s(p))return!0;try{for(var b=u(p),y=0,g=a(l),S=g.length;y<S;y++)if(l[g[y]]==b)return!0}catch{}return!1},Kg}var GD;function F6(){if(GD)return UD;GD=1;var i=z(),e=Q2();return i({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),UD}var KD={},YD;function N6(){if(YD)return KD;YD=1;var i=we();return i("customMatcher"),KD}var XD={},JD;function k6(){if(JD)return XD;JD=1;var i=we();return i("observable"),XD}var ZD={},QD;function B6(){if(QD)return ZD;QD=1;var i=z(),e=Z2();return i({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),ZD}var eA={},tA;function j6(){if(tA)return eA;tA=1;var i=z(),e=Q2();return i({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),eA}var rA={},iA;function L6(){if(iA)return rA;iA=1;var i=we();return i("matcher"),rA}var nA={},oA;function z6(){if(oA)return nA;oA=1;var i=we();return i("metadataKey"),nA}var sA={},aA;function W6(){if(aA)return sA;aA=1;var i=we();return i("patternMatch"),sA}var uA={},lA;function H6(){if(lA)return uA;lA=1;var i=we();return i("replaceAll"),uA}var Yg,dA;function U6(){if(dA)return Yg;dA=1;var i=A6();return M6(),F6(),N6(),k6(),B6(),j6(),L6(),z6(),W6(),H6(),Yg=i,Yg}var Xg,cA;function V6(){return cA||(cA=1,Xg=U6()),Xg}var G6=V6(),Vo=G(G6),Jg,hA;function K6(){if(hA)return Jg;hA=1,vn(),n1(),t2();var i=Ls();return Jg=i.f("iterator"),Jg}var Zg,fA;function Y6(){if(fA)return Zg;fA=1;var i=K6();return pn(),Zg=i,Zg}var Qg,vA;function X6(){if(vA)return Qg;vA=1;var i=Y6();return Qg=i,Qg}var ey,pA;function J6(){if(pA)return ey;pA=1;var i=X6();return ey=i,ey}var ty,gA;function Z6(){return gA||(gA=1,ty=J6()),ty}var Q6=Z6(),e8=G(Q6);function eo(i){"@babel/helpers - typeof";return eo=typeof Vo=="function"&&typeof e8=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Vo=="function"&&e.constructor===Vo&&e!==Vo.prototype?"symbol":typeof e},eo(i)}var ry,yA;function t8(){if(yA)return ry;yA=1,r2();var i=Ls();return ry=i.f("toPrimitive"),ry}var iy,mA;function r8(){if(mA)return iy;mA=1;var i=t8();return iy=i,iy}var ny,bA;function i8(){if(bA)return ny;bA=1;var i=r8();return ny=i,ny}var oy,_A;function n8(){if(_A)return oy;_A=1;var i=i8();return oy=i,oy}var sy,wA;function o8(){return wA||(wA=1,sy=n8()),sy}var s8=o8(),a8=G(s8);function u8(i,e){if(eo(i)!="object"||!i)return i;var t=i[a8];if(t!==void 0){var r=t.call(i,e);if(eo(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(i)}function l8(i){var e=u8(i,"string");return eo(e)=="symbol"?e:e+""}function Kt(i,e,t){return(e=l8(e))in i?R6(i,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):i[e]=t,i}var EA={},ay,SA;function d8(){if(SA)return ay;SA=1;var i=ye(),e=te(),t=re(),r=Et(),n=a2().trim,o=Wb(),s=t("".charAt),a=i.parseFloat,u=i.Symbol,l=u&&u.iterator,d=1/a(o+"-0")!==-1/0||l&&!e(function(){a(Object(l))});return ay=d?function(h){var f=n(r(h)),v=a(f);return v===0&&s(f,0)==="-"?-0:v}:a,ay}var OA;function c8(){if(OA)return EA;OA=1;var i=z(),e=d8();return i({global:!0,forced:parseFloat!==e},{parseFloat:e}),EA}var uy,IA;function h8(){if(IA)return uy;IA=1,c8();var i=se();return uy=i.parseFloat,uy}var ly,$A;function f8(){if($A)return ly;$A=1;var i=h8();return ly=i,ly}var dy,TA;function v8(){return TA||(TA=1,dy=f8()),dy}var p8=v8(),eB=G(p8),PA={},RA;function g8(){if(RA)return PA;RA=1;var i=z(),e=te(),t=kb().f,r=e(function(){return!Object.getOwnPropertyNames(1)});return i({target:"Object",stat:!0,forced:r},{getOwnPropertyNames:t}),PA}var cy,qA;function y8(){if(qA)return cy;qA=1,g8();var i=se(),e=i.Object;return cy=function(r){return e.getOwnPropertyNames(r)},cy}var hy,CA;function m8(){if(CA)return hy;CA=1;var i=y8();return hy=i,hy}var fy,xA;function b8(){return xA||(xA=1,fy=m8()),fy}var _8=b8(),w8=G(_8),vy,DA;function E8(){if(DA)return vy;DA=1,Zk();var i=se();return vy=i.Object.getOwnPropertySymbols,vy}var py,AA;function S8(){if(AA)return py;AA=1;var i=E8();return py=i,py}var gy,MA;function O8(){return MA||(MA=1,gy=S8()),gy}var I8=O8(),_r=G(I8),yy={exports:{}},FA={},NA;function $8(){if(NA)return FA;NA=1;var i=z(),e=te(),t=Dt(),r=As().f,n=$e(),o=!n||e(function(){r(1)});return i({target:"Object",stat:!0,forced:o,sham:!n},{getOwnPropertyDescriptor:function(a,u){return r(t(a),u)}}),FA}var kA;function T8(){if(kA)return yy.exports;kA=1,$8();var i=se(),e=i.Object,t=yy.exports=function(n,o){return e.getOwnPropertyDescriptor(n,o)};return e.getOwnPropertyDescriptor.sham&&(t.sham=!0),yy.exports}var my,BA;function P8(){if(BA)return my;BA=1;var i=T8();return my=i,my}var by,jA;function R8(){return jA||(jA=1,by=P8()),by}var q8=R8(),Rr=G(q8),LA={},zA;function C8(){if(zA)return LA;zA=1;var i=z(),e=$e(),t=rV(),r=Dt(),n=As(),o=ks();return i({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var u=r(a),l=n.f,d=t(u),c={},h=0,f,v;d.length>h;)v=l(u,f=d[h++]),v!==void 0&&o(c,f,v);return c}}),LA}var _y,WA;function x8(){if(WA)return _y;WA=1,C8();var i=se();return _y=i.Object.getOwnPropertyDescriptors,_y}var wy,HA;function D8(){if(HA)return wy;HA=1;var i=x8();return wy=i,wy}var Ey,UA;function A8(){return UA||(UA=1,Ey=D8()),Ey}var M8=A8(),wr=G(M8),Sy={exports:{}},VA={},GA;function F8(){if(GA)return VA;GA=1;var i=z(),e=$e(),t=Nb().f;return i({target:"Object",stat:!0,forced:Object.defineProperties!==t,sham:!e},{defineProperties:t}),VA}var KA;function N8(){if(KA)return Sy.exports;KA=1,F8();var i=se(),e=i.Object,t=Sy.exports=function(n,o){return e.defineProperties(n,o)};return e.defineProperties.sham&&(t.sham=!0),Sy.exports}var Oy,YA;function k8(){if(YA)return Oy;YA=1;var i=N8();return Oy=i,Oy}var Iy,XA;function B8(){return XA||(XA=1,Iy=k8()),Iy}var j8=B8(),Ks=G(j8),$y,JA;function L8(){return JA||(JA=1,$y=J2()),$y}var z8=L8(),Ys=G(z8);function s1(i,e){const t=["node","edge","label"];let r=!0;const n=dr(e,"chosen");if(typeof n=="boolean")r=n;else if(typeof n=="object"){if(ne(t).call(t,i)===-1)throw new Error("choosify: subOption '"+i+"' should be one of '"+t.join("', '")+"'");const o=dr(e,["chosen",i]);(typeof o=="boolean"||typeof o=="function")&&(r=o)}return r}function Vm(i,e,t){if(i.width<=0||i.height<=0)return!1;if(t!==void 0){const o={x:e.x-t.x,y:e.y-t.y};if(t.angle!==0){const s=-t.angle;e={x:Math.cos(s)*o.x-Math.sin(s)*o.y,y:Math.sin(s)*o.x+Math.cos(s)*o.y}}else e=o}const r=i.x+i.width,n=i.y+i.width;return i.left<e.x&&r>e.x&&i.top<e.y&&n>e.y}function fs(i){return typeof i=="string"&&i!==""}function tB(i,e,t,r){let n=r.x,o=r.y;if(typeof r.distanceToBorder=="function"){const s=r.distanceToBorder(i,e),a=Math.sin(e)*s,u=Math.cos(e)*s;u===s?(n+=s,o=r.y):a===s?(n=r.x,o-=s):(n+=u,o-=a)}else r.shape.width>r.shape.height?(n=r.x+r.shape.width*.5,o=r.y-t):(n=r.x+t,o=r.y-r.shape.height*.5);return{x:n,y:o}}var Ty,ZA;function W8(){if(ZA)return Ty;ZA=1,vn();var i=Ve();return Ty=i("Array","values"),Ty}var Py,QA;function H8(){if(QA)return Py;QA=1;var i=W8();return Py=i,Py}var Ry,eM;function U8(){if(eM)return Ry;eM=1,pn();var i=hn(),e=Ue(),t=xe(),r=H8(),n=Array.prototype,o={DOMTokenList:!0,NodeList:!0};return Ry=function(s){var a=s.values;return s===n||t(n,s)&&a===n.values||e(o,i(s))?r:a},Ry}var qy,tM;function V8(){return tM||(tM=1,qy=U8()),qy}var G8=V8(),rB=G(G8);class K8{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let n=t;(t===void 0||t==="")&&(n=" ");const o=this.measureText(n,r),s=Pe({},rB(o));s.text=t,s.width=o.width,s.mod=r,(t===void 0||t==="")&&(s.width=0),this.lines[e].blocks.push(s),this.lines[e].width+=s.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t)}newLine(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,t),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const t=this.lines[e];let r=0;if(t.blocks!==void 0)for(let n=0;n<t.blocks.length;n++){const o=t.blocks[n];r<o.height&&(r=o.height)}t.height=r}}determineLabelSize(){let e=0,t=0;for(let r=0;r<this.lines.length;r++){const n=this.lines[r];n.width>e&&(e=n.width),t+=n.height}this.width=e,this.height=t}removeEmptyBlocks(){const e=[];for(let t=0;t<this.lines.length;t++){const r=this.lines[t];if(r.blocks.length===0||t===this.lines.length-1&&r.width===0)continue;const n={};Pe(n,r),n.blocks=[];let o;const s=[];for(let a=0;a<r.blocks.length;a++){const u=r.blocks[a];u.width!==0?s.push(u):o===void 0&&(o=u)}s.length===0&&o!==void 0&&s.push(o),n.blocks=s,e.push(n)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Y8={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class rM{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,t){return!this.mono&&!this[e]&&this.match(t)?(this.setTag(e),!0):!1}match(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[r,n]=this.prepareRegExp(e),o=r.test(this.text.substr(this.position,n));return o&&t&&(this.position+=n-1),o}parseEndTag(e,t,r){let n=this.mod()===e;return e==="mono"?n=n&&this.mono:n=n&&!this.mono,n&&this.match(t)?(r!==void 0?(this.position===this.text.length-1||this.match(r,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,t){return this.match(e)?(this.add(t),this.position+=length-1,!0):!1}prepareRegExp(e){let t,r;if(e instanceof RegExp)r=e,t=1;else{const n=Y8[e];n!==void 0?r=n:r=new RegExp(e),t=e.length}return[r,t]}}class X8{constructor(e,t,r,n){this.ctx=e,this.parent=t,this.selected=r,this.hover=n;const o=(s,a)=>{if(s===void 0)return 0;const u=this.parent.getFormattingValues(e,r,n,a);let l=0;return s!==""&&(l=this.ctx.measureText(s).width),{width:l,values:u}};this.lines=new K8(o)}process(e){if(!fs(e))return this.lines.finalize();const t=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const r=String(e).split(`
`),n=r.length;if(t.multi)for(let o=0;o<n;o++){const s=this.splitBlocks(r[o],t.multi);if(s!==void 0){if(s.length===0){this.lines.newLine("");continue}if(t.maxWdt>0)for(let a=0;a<s.length;a++){const u=s[a].mod,l=s[a].text;this.splitStringIntoLines(l,u,!0)}else for(let a=0;a<s.length;a++){const u=s[a].mod,l=s[a].text;this.lines.append(l,u)}this.lines.newLine()}}else if(t.maxWdt>0)for(let o=0;o<n;o++)this.splitStringIntoLines(r[o]);else for(let o=0;o<n;o++)this.lines.newLine(r[o]);return this.lines.finalize()}decodeMarkupSystem(e){let t="none";return e==="markdown"||e==="md"?t="markdown":(e===!0||e==="html")&&(t="html"),t}splitHtmlBlocks(e){const t=new rM(e),r=n=>/&/.test(n)?(t.replace(t.text,"&lt;","<")||t.replace(t.text,"&amp;","&")||t.add("&"),!0):!1;for(;t.position<t.text.length;){const n=t.text.charAt(t.position);t.parseWS(n)||/</.test(n)&&(t.parseStartTag("bold","<b>")||t.parseStartTag("ital","<i>")||t.parseStartTag("mono","<code>")||t.parseEndTag("bold","</b>")||t.parseEndTag("ital","</i>")||t.parseEndTag("mono","</code>"))||r(n)||t.add(n),t.position++}return t.emitBlock(),t.blocks}splitMarkdownBlocks(e){const t=new rM(e);let r=!0;const n=o=>/\\/.test(o)?(t.position<this.text.length+1&&(t.position++,o=this.text.charAt(t.position),/ \t/.test(o)?t.spacing=!0:(t.add(o),r=!1)),!0):!1;for(;t.position<t.text.length;){const o=t.text.charAt(t.position);t.parseWS(o)||n(o)||(r||t.spacing)&&(t.parseStartTag("bold","*")||t.parseStartTag("ital","_")||t.parseStartTag("mono","`"))||t.parseEndTag("bold","*","afterBold")||t.parseEndTag("ital","_","afterItal")||t.parseEndTag("mono","`","afterMono")||(t.add(o),r=!1),t.position++}return t.emitBlock(),t.blocks}splitBlocks(e,t){const r=this.decodeMarkupSystem(t);if(r==="none")return[{text:e,mod:"normal"}];if(r==="markdown")return this.splitMarkdownBlocks(e);if(r==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const t=this.ctx.measureText(e).width;return this.lines.curWidth()+t>this.parent.fontOptions.maxWdt}getLongestFit(e){let t="",r=0;for(;r<e.length;){const o=t+(t===""?"":" ")+e[r];if(this.overMaxWidth(o))break;t=o,r++}return r}getLongestFitWord(e){let t=0;for(;t<e.length&&!this.overMaxWidth(Mt(e).call(e,0,t));)t++;return t}splitStringIntoLines(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,t),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let n=e.split("\r");for(;n.length>0;){let o=this.getLongestFit(n);if(o===0){const s=n[0],a=this.getLongestFitWord(s);this.lines.newLine(Mt(s).call(s,0,a),t),n[0]=Mt(s).call(s,a)}else{let s=o;n[o-1]===" "?o--:n[s]===" "&&s++;const a=Mt(n).call(n,0,o).join("");o==n.length&&r?this.lines.append(a,t):this.lines.newLine(a,t),n=Mt(n).call(n,s)}}}}const Cn=["bold","ital","boldital","mono"];class Mi{constructor(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(t),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=r}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),fs(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const t=e.font.size;t!==void 0&&(this.baseSize=t)}}}initFontOptions(e){if(Z(Cn,t=>{this.fontOptions[t]={}}),Mi.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Z(e,(t,r)=>{t!=null&&typeof t!="object"&&(this.fontOptions[r]=t)})}static parseFontString(e,t){if(!t||typeof t!="string")return!1;const r=t.split(" ");return e.size=+r[0].replace("px",""),e.face=r[1],e.color=r[2],!0}constrain(e){const t={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},r=dr(e,"widthConstraint");if(typeof r=="number")t.maxWdt=Number(r),t.minWdt=Number(r);else if(typeof r=="object"){const o=dr(e,["widthConstraint","maximum"]);typeof o=="number"&&(t.maxWdt=Number(o));const s=dr(e,["widthConstraint","minimum"]);typeof s=="number"&&(t.minWdt=Number(s))}const n=dr(e,"heightConstraint");if(typeof n=="number")t.minHgt=Number(n);else if(typeof n=="object"){const o=dr(e,["heightConstraint","minimum"]);typeof o=="number"&&(t.minHgt=Number(o));const s=dr(e,["heightConstraint","valign"]);typeof s=="string"&&(s==="top"||s==="bottom")&&(t.valign=s)}return t}update(e,t){this.setOptions(e,!0),this.propagateFonts(t),he(this.fontOptions,this.constrain(t)),this.fontOptions.chooser=s1("label",t)}adjustSizes(e){const t=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=t,this.fontOptions.minWdt-=t);const r=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=r)}addFontOptionsToPile(e,t){for(let r=0;r<t.length;++r)this.addFontToPile(e,t[r])}addFontToPile(e,t){if(t===void 0||t.font===void 0||t.font===null)return;const r=t.font;e.push(r)}getBasicOptions(e){const t={};for(let r=0;r<e.length;++r){let n=e[r];const o={};Mi.parseFontString(o,n)&&(n=o),Z(n,(s,a)=>{s!==void 0&&(Object.prototype.hasOwnProperty.call(t,a)||(ne(Cn).call(Cn,a)!==-1?t[a]={}:t[a]=s))})}return t}getFontOption(e,t,r){let n;for(let o=0;o<e.length;++o){const s=e[o];if(Object.prototype.hasOwnProperty.call(s,t)){if(n=s[t],n==null)continue;const a={};if(Mi.parseFontString(a,n)&&(n=a),Object.prototype.hasOwnProperty.call(n,r))return n[r]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,r))return this.fontOptions[r];throw new Error("Did not find value for multi-font for property: '"+r+"'")}getFontOptions(e,t){const r={},n=["color","size","face","mod","vadjust"];for(let o=0;o<n.length;++o){const s=n[o];r[s]=this.getFontOption(e,t,s)}return r}propagateFonts(e){const t=[];this.addFontOptionsToPile(t,e),this.fontOptions=this.getBasicOptions(t);for(let r=0;r<Cn.length;++r){const n=Cn[r],o=this.fontOptions[n],s=this.getFontOptions(t,n);Z(s,(a,u)=>{o[u]=a}),o.size=Number(o.size),o.vadjust=Number(o.vadjust)}}draw(e,t,r,n,o){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,n,o,t,r,s),this._drawBackground(e),this._drawText(e,t,this.size.yLine,s,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const t=this.getSize();e.fillRect(t.left,t.top,t.width,t.height)}}_drawText(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",o=arguments.length>4?arguments[4]:void 0;[t,r]=this._setAlignment(e,t,r,n),e.textAlign="left",t=t-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(r-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(r+=(this.size.height-this.size.labelHeight)/2));for(let s=0;s<this.lineCount;s++){const a=this.lines[s];if(a&&a.blocks){let u=0;this.isEdgeLabel||this.fontOptions.align==="center"?u+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(u+=this.size.width-a.width);for(let l=0;l<a.blocks.length;l++){const d=a.blocks[l];e.font=d.font;const[c,h]=this._getColor(d.color,o,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=h,e.lineJoin="round"),e.fillStyle=c,d.strokeWidth>0&&e.strokeText(d.text,t+u,r+d.vadjust),e.fillText(d.text,t+u,r+d.vadjust),u+=d.width}r+=a.height}}}_setAlignment(e,t,r,n){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){t=0,r=0;const o=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",r-=2*o):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",r+=2*o):e.textBaseline="middle"}else e.textBaseline=n;return[t,r]}_getColor(e,t,r){let n=e||"#000000",o=r||"#ffffff";if(t<=this.elementOptions.scaling.label.drawThreshold){const s=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-t)));n=pt(n,s),o=pt(o,s)}return[n,o]}getTextSize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,t,r),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let t=this.size.left,r=this.size.top-.5*2;if(this.isEdgeLabel){const o=-this.size.width*.5;switch(this.fontOptions.align){case"middle":t=o,r=-this.size.height*.5;break;case"top":t=o,r=-(this.size.height+2);break;case"bottom":t=o,r=2;break}}return{left:t,top:r,width:this.size.width,height:this.size.height}}calculateLabelSize(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,t,r),this.size.left=n-this.size.width*.5,this.size.top=o-this.size.height*.5,this.size.yLine=o+(1-this.lineCount)*.5*this.fontOptions.size,s==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,t,r,n){const o=function(u,l,d){return l==="normal"?d==="mod"?"":u[d]:u[l][d]!==void 0?u[l][d]:u[d]},s={color:o(this.fontOptions,n,"color"),size:o(this.fontOptions,n,"size"),face:o(this.fontOptions,n,"face"),mod:o(this.fontOptions,n,"mod"),vadjust:o(this.fontOptions,n,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(t||r)&&(n==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?s.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(s,this.elementOptions.id,t,r));let a="";return s.mod!==void 0&&s.mod!==""&&(a+=s.mod+" "),a+=s.size+"px "+s.face,e.font=a.replace(/"/g,""),s.font=e.font,s.height=s.size,s}differentState(e,t){return e!==this.selectedState||t!==this.hoverState}_processLabelText(e,t,r,n){return new X8(e,this,t,r).process(n)}_processLabel(e,t,r){if(this.labelDirty===!1&&!this.differentState(t,r))return;const n=this._processLabelText(e,t,r,this.elementOptions.label);this.fontOptions.minWdt>0&&n.width<this.fontOptions.minWdt&&(n.width=this.fontOptions.minWdt),this.size.labelHeight=n.height,this.fontOptions.minHgt>0&&n.height<this.fontOptions.minHgt&&(n.height=this.fontOptions.minHgt),this.lines=n.lines,this.lineCount=n.lines.length,this.size.width=n.width,this.size.height=n.height,this.selectedState=t,this.hoverState=r,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class yi{constructor(e,t,r){this.body=t,this.labelModule=r,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,t){const r=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}enableShadow(e,t){t.shadow&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,t){if(t.borderDashes!==!1)if(e.setLineDash!==void 0){let r=t.borderDashes;r===!0&&(r=[5,15]),e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1}disableBorderDashes(e,t){t.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,t.borderDashes=!1))}needsRefresh(e,t){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,t)}initContextForDraw(e,t){const r=t.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,r),e.strokeStyle=t.borderColor,e.fillStyle=t.color}performStroke(e,t){const r=t.borderWidth/this.body.view.scale;e.save(),r>0&&(this.enableBorderDashes(e,t),e.stroke(),this.disableBorderDashes(e,t)),e.restore()}performFill(e,t){e.save(),e.fillStyle=t.color,this.enableShadow(e,t),Ro(e).call(e),this.disableShadow(e,t),e.restore(),this.performStroke(e,t)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,t,r,n,o){r!==void 0&&this.resize(r,n,o),this.left=e-this.width/2,this.top=t-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,t,r,n,o){this._updateBoundingBox(e,t,r,n,o)}getDimensionsFromLabel(e,t,r){this.textSize=this.labelModule.getTextSize(e,t,r);let n=this.textSize.width,o=this.textSize.height;const s=14;return n===0&&(n=s,o=s),{width:n,height:o}}}let J8=class extends yi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.width=n.width+this.margin.right+this.margin.left,this.height=n.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,t,r,n,o,s){this.resize(e,n,o),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,s),Lk(e,this.left,this.top,this.width,this.height,s.borderRadius),this.performFill(e,s),this.updateBoundingBox(t,r,e,n,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}updateBoundingBox(e,t,r,n,o){this._updateBoundingBox(e,t,r,n,o);const s=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(s)}distanceToBorder(e,t){e&&this.resize(e);const r=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(t)),Math.abs(this.height/2/Math.sin(t)))+r}};class a1 extends yi{constructor(e,t,r){super(e,t,r),this.labelOffset=0,this.selected=!1}setOptions(e,t,r){this.options=e,t===void 0&&r===void 0||this.setImages(t,r)}setImages(e,t){t&&this.selected?(this.imageObj=t,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=t)}switchImages(e){const t=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&t){const r=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=r}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const t=this.options.imagePadding;typeof t=="object"?(e.top=t.top,e.right=t.right,e.bottom=t.bottom,e.left=t.left):(e.top=t,e.right=t,e.bottom=t,e.left=t)}return e}_resizeImage(){let e,t;if(this.options.shapeProperties.useImageSize===!1){let r=1,n=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?r=this.imageObj.width/this.imageObj.height:n=this.imageObj.height/this.imageObj.width),e=this.options.size*2*r,t=this.options.size*2*n}else{const r=this._getImagePadding();e=this.imageObj.width+r.left+r.right,t=this.imageObj.height+r.top+r.bottom}this.width=e,this.height=t,this.radius=.5*this.width}_drawRawCircle(e,t,r,n){this.initContextForDraw(e,n),Ab(e,t,r,n.size),this.performFill(e,n)}_drawImageAtPosition(e,t){if(this.imageObj.width!=0){e.globalAlpha=t.opacity!==void 0?t.opacity:1,this.enableShadow(e,t);let r=1;this.options.shapeProperties.interpolation===!0&&(r=this.imageObj.width/this.width/this.body.view.scale);const n=this._getImagePadding(),o=this.left+n.left,s=this.top+n.top,a=this.width-n.left-n.right,u=this.height-n.top-n.bottom;this.imageObj.drawImageAtPosition(e,r,o,s,a,u),this.disableShadow(e,t)}}_drawImageLabel(e,t,r,n,o){let s=0;if(this.height!==void 0){s=this.height*.5;const u=this.labelModule.getTextSize(e,n,o);u.lineCount>=1&&(s+=u.height/2)}const a=r+s;this.options.label&&(this.labelOffset=s),this.labelModule.draw(e,t,a,n,o,"hanging")}}let Z8=class extends a1{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r),o=Math.max(n.width+this.margin.right+this.margin.left,n.height+this.margin.top+this.margin.bottom);this.options.size=o/2,this.width=o,this.height=o,this.radius=this.width/2}}draw(e,t,r,n,o,s){this.resize(e,n,o),this.left=t-this.width/2,this.top=r-this.height/2,this._drawRawCircle(e,t,r,s),this.updateBoundingBox(t,r),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,r,n,o)}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Q8 extends a1{constructor(e,t,r,n,o){super(e,t,r),this.setImages(n,o)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const o=this.options.size*2;this.width=o,this.height=o,this.radius=.5*this.width;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,o,s){this.switchImages(n),this.resize();let a=t,u=r;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this._drawRawCircle(e,a,u,s),e.save(),e.clip(),this._drawImageAtPosition(e,s),e.restore(),this._drawImageLabel(e,a,u,n,o),this.updateBoundingBox(t,r)}updateBoundingBox(e,t){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=t,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=t+this.options.size*2):(this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class qr extends yi{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(t,r)){var o,s;this.labelModule.getTextSize(e,t,r);const a=2*n.size;this.width=(o=this.customSizeWidth)!==null&&o!==void 0?o:a,this.height=(s=this.customSizeHeight)!==null&&s!==void 0?s:a,this.radius=.5*this.width}}_drawShape(e,t,r,n,o,s,a,u){return this.resize(e,s,a,u),this.left=n-this.width/2,this.top=o-this.height/2,this.initContextForDraw(e,u),pU(t)(e,n,o,u.size),this.performFill(e,u),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(s?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,n,o)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,s,a,n,o,"hanging");const l=o+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,n,l,s,a,"hanging")}this.updateBoundingBox(n,o)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=t+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function iM(i,e){var t=Se(i);if(_r){var r=_r(i);e&&(r=it(r).call(r,function(n){return Rr(i,n).enumerable})),t.push.apply(t,r)}return t}function eY(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?le(t=iM(Object(n),!0)).call(t,function(o){Kt(i,o,n[o])}):wr?Ks(i,wr(n)):le(r=iM(Object(n))).call(r,function(o){Ys(i,o,Rr(n,o))})}return i}class tY extends qr{constructor(e,t,r,n){super(e,t,r,n),this.ctxRenderer=n}draw(e,t,r,n,o,s){this.resize(e,n,o,s),this.left=t-this.width/2,this.top=r-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:t,y:r,state:{selected:n,hover:o},style:eY({},s),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const u=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),u(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class rY extends yi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){if(this.needsRefresh(t,r)){const o=this.getDimensionsFromLabel(e,t,r).width+this.margin.right+this.margin.left;this.width=o,this.height=o,this.radius=this.width/2}}draw(e,t,r,n,o,s){this.resize(e,n,o),this.left=t-this.width/2,this.top=r-this.height/2,this.initContextForDraw(e,s),zk(e,t-this.width/2,r-this.height/2,this.width,this.height),this.performFill(e,s),this.updateBoundingBox(t,r,e,n,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let iY=class extends qr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,o,s){return this._drawShape(e,"diamond",4,t,r,n,o,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class nY extends qr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,o,s){return this._drawShape(e,"circle",2,t,r,n,o,s)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class nM extends yi{constructor(e,t,r){super(e,t,r)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(t,r)){const n=this.getDimensionsFromLabel(e,t,r);this.height=n.height*2,this.width=n.width+n.height,this.radius=.5*this.width}}draw(e,t,r,n,o,s){this.resize(e,n,o),this.left=t-this.width*.5,this.top=r-this.height*.5,this.initContextForDraw(e,s),Fm(e,this.left,this.top,this.width,this.height),this.performFill(e,s),this.updateBoundingBox(t,r,e,n,o),this.labelModule.draw(e,t,r,n,o)}distanceToBorder(e,t){e&&this.resize(e);const r=this.width*.5,n=this.height*.5,o=Math.sin(t)*r,s=Math.cos(t)*n;return r*n/Math.sqrt(o*o+s*s)}}class oY extends yi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,o,s){return this.resize(e,n,o),this.options.icon.size=this.options.icon.size||50,this.left=t-this.width/2,this.top=r-this.height/2,this._icon(e,t,r,n,o,s),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,r+this.height/2+5,n),this.updateBoundingBox(t,r)}}}updateBoundingBox(e,t){this.boundingBox.top=t-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=t+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,t,r,n,o,s){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:n?"bold":"",(this.options.icon.weight!=null&&n?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,s),e.fillText(this.options.icon.code,t,r),this.disableShadow(e,s)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let sY=class extends a1{constructor(e,t,r,n,o){super(e,t,r),this.setImages(n,o)}resize(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const o=this.options.size*2;this.width=o,this.height=o;return}this.needsRefresh(t,r)&&this._resizeImage()}draw(e,t,r,n,o,s){e.save(),this.switchImages(n),this.resize();let a=t,u=r;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=t,this.top=r,a+=this.width/2,u+=this.height/2):(this.left=t-this.width/2,this.top=r-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const l=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,c=(n?d:l)/this.body.view.scale;e.lineWidth=Math.min(this.width,c),e.beginPath();let h=n?this.options.color.highlight.border:o?this.options.color.hover.border:this.options.color.border,f=n?this.options.color.highlight.background:o?this.options.color.hover.background:this.options.color.background;s.opacity!==void 0&&(h=pt(h,s.opacity),f=pt(f,s.opacity)),e.strokeStyle=h,e.fillStyle=f,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Ro(e).call(e),this.performStroke(e,s),e.closePath()}this._drawImageAtPosition(e,s),this._drawImageLabel(e,a,u,n,o),this.updateBoundingBox(t,r),e.restore()}updateBoundingBox(e,t){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=t):(this.left=e-this.width/2,this.top=t-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class aY extends qr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,o,s){return this._drawShape(e,"square",2,t,r,n,o,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class uY extends qr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,o,s){return this._drawShape(e,"hexagon",4,t,r,n,o,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class lY extends qr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,o,s){return this._drawShape(e,"star",4,t,r,n,o,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}class dY extends yi{constructor(e,t,r){super(e,t,r),this._setMargins(r)}resize(e,t,r){this.needsRefresh(t,r)&&(this.textSize=this.labelModule.getTextSize(e,t,r),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,t,r,n,o,s){this.resize(e,n,o),this.left=t-this.width/2,this.top=r-this.height/2,this.enableShadow(e,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,n,o),this.disableShadow(e,s),this.updateBoundingBox(t,r,e,n,o)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}let cY=class extends qr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,o,s){return this._drawShape(e,"triangle",3,t,r,n,o,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}};class hY extends qr{constructor(e,t,r){super(e,t,r)}draw(e,t,r,n,o,s){return this._drawShape(e,"triangleDown",3,t,r,n,o,s)}distanceToBorder(e,t){return this._distanceToBorder(e,t)}}function oM(i,e){var t=Se(i);if(_r){var r=_r(i);e&&(r=it(r).call(r,function(n){return Rr(i,n).enumerable})),t.push.apply(t,r)}return t}function sM(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?le(t=oM(Object(n),!0)).call(t,function(o){Kt(i,o,n[o])}):wr?Ks(i,wr(n)):le(r=oM(Object(n))).call(r,function(o){Ys(i,o,Rr(n,o))})}return i}class ge{constructor(e,t,r,n,o,s){this.options=yr(o),this.globalOptions=o,this.defaultOptions=s,this.body=t,this.edges=[],this.id=void 0,this.imagelist=r,this.grouplist=n,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Mi(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var t;ne(t=this.edges).call(t,e)===-1&&this.edges.push(e)}detachEdge(e){var t;const r=ne(t=this.edges).call(t,e);if(r!=-1){var n;Zt(n=this.edges).call(n,r,1)}}setOptions(e){const t=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");ge.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Rt(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Rt(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=eB(e.value)),ge.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const r=[e,this.options,this.defaultOptions];return this.chooser=s1("node",r),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&ge.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(t),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,t,r){var n;if(r===void 0)return;const o=e.group;if(t!==void 0&&t.group!==void 0&&o!==t.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof o=="number"||typeof o=="string"&&o!=""))return;const a=r.get(o);a.opacity!==void 0&&t.opacity===void 0&&(ge.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const u=it(n=w8(t)).call(n,l=>t[l]!=null);u.push("font"),cs(u,e,a),e.color=Lm(e.color)}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4?arguments[4]:void 0;if(cs(["color","fixed","shadow"],e,t,r),ge.checkMass(t),e.opacity!==void 0&&(ge.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),t.opacity!==void 0&&(ge.checkOpacity(t.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+t.opacity),t.opacity=void 0)),t.shapeProperties&&!ge.checkCoordinateOrigin(t.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+t.shapeProperties.coordinateOrigin),vt(e,t,"shadow",n),t.color!==void 0&&t.color!==null){const a=Lm(t.color);M2(e.color,a)}else r===!0&&t.color===null&&(e.color=yr(n.color));t.fixed!==void 0&&t.fixed!==null&&(typeof t.fixed=="boolean"?(e.fixed.x=t.fixed,e.fixed.y=t.fixed):(t.fixed.x!==void 0&&typeof t.fixed.x=="boolean"&&(e.fixed.x=t.fixed.x),t.fixed.y!==void 0&&typeof t.fixed.y=="boolean"&&(e.fixed.y=t.fixed.y))),r===!0&&t.font===null&&(e.font=yr(n.font)),ge.updateGroupOptions(e,t,o),t.scaling!==void 0&&vt(e.scaling,t.scaling,"label",n.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const t=this.options.opacity;e.borderColor=pt(e.borderColor,t),e.color=pt(e.color,t),e.shadowColor=pt(e.shadowColor,t)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),ge.updateGroupOptions(this.options,sM(sM({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const t=this.grouplist.get(this.options.group,!1),r=[e,this.options,t,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new J8(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Z8(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Q8(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new tY(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new rY(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new iY(this.options,this.body,this.labelModule);break;case"dot":this.shape=new nY(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new nM(this.options,this.body,this.labelModule);break;case"icon":this.shape=new oY(this.options,this.body,this.labelModule);break;case"image":this.shape=new sY(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new aY(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new uY(this.options,this.body,this.labelModule);break;case"star":this.shape=new lY(this.options,this.body,this.labelModule);break;case"text":this.shape=new dY(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new cY(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new hY(this.options,this.body,this.labelModule);break;default:this.shape=new nM(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,t){return this.shape.distanceToBorder(e,t)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.size=this.options.scaling.min+n*o}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const t=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,t)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const t=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,t)}getItemsOnPoint(e){const t=[];return this.labelModule.visible()&&Vm(this.labelModule.getSize(),e)&&t.push({nodeId:this.id,labelId:0}),Vm(this.shape.boundingBox,e)&&t.push({nodeId:this.id}),t}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,t){if(e.mass!==void 0&&e.mass<=0){let r="";t!==void 0&&(r=" in node id: "+t),console.error("%cNegative or zero mass disallowed"+r+", setting mass to 1.",B2),e.mass=1}}}class fY{constructor(e,t,r,n){var o;if(this.body=e,this.images=t,this.groups=r,this.layoutEngine=n,this.body.functions.createNode=D(o=this.create).call(o,this),this.nodesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items,a.data,a.oldData)},remove:(s,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,u,l){if(a===s)return .5;{const d=1/(a-s);return Math.max(0,(l-s)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=yr(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,t;this.body.emitter.on("refreshNodes",D(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",D(t=this.refresh).call(t,this)),this.body.emitter.on("destroy",()=>{Z(this.nodesListeners,(r,n)=>{this.body.data.nodes&&this.body.data.nodes.off(n,r)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(ge.parseOptions(this.options,e),e.opacity!==void 0&&(Um(e.opacity)||!zr(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const t of Se(this.body.nodes))this.body.nodes[t].updateLabelModule(),this.body.nodes[t].needsRefresh();if(e.size!==void 0)for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&this.body.nodes[t].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.nodes;if(Dk("id",e))this.body.data.nodes=e;else if(Oe(e))this.body.data.nodes=new ss,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new ss;else throw new TypeError("Array or DataSet expected");if(r&&Z(this.nodesListeners,function(n,o){r.off(o,n)}),this.body.nodes={},this.body.data.nodes){const n=this;Z(this.nodesListeners,function(s,a){n.body.data.nodes.on(a,s)});const o=this.body.data.nodes.getIds();this.add(o,!0)}t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r;const n=[];for(let o=0;o<e.length;o++){r=e[o];const s=this.body.data.nodes.get(r),a=this.create(s);n.push(a),this.body.nodes[r]=a}this.layoutEngine.positionInitially(n),t===!1&&this.body.emitter.emit("_dataChanged")}update(e,t,r){const n=this.body.nodes;let o=!1;for(let s=0;s<e.length;s++){const a=e[s];let u=n[a];const l=t[s];u!==void 0?u.setOptions(l)&&(o=!0):(o=!0,u=this.create(l),n[a]=u)}!o&&r!==void 0&&(o=E6(t).call(t,function(s,a){const u=r[a];return u&&u.level!==s.level})),o===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const t=this.body.nodes;for(let r=0;r<e.length;r++){const n=e[r];delete t[n]}this.body.emitter.emit("_dataChanged")}create(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ge;return new t(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Z(this.body.nodes,(t,r)=>{const n=this.body.data.nodes.get(r);n!==void 0&&(e===!0&&t.setOptions({x:null,y:null}),t.setOptions({fixed:!1}),t.setOptions(n))})}getPositions(e){const t={};if(e!==void 0){if(Oe(e)===!0){for(let r=0;r<e.length;r++)if(this.body.nodes[e[r]]!==void 0){const n=this.body.nodes[e[r]];t[e[r]]={x:Math.round(n.x),y:Math.round(n.y)}}}else if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];t[e]={x:Math.round(r.x),y:Math.round(r.y)}}}else for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];t[this.body.nodeIndices[r]]={x:Math.round(n.x),y:Math.round(n.y)}}return t}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],t=this.body.data.nodes.getDataSet();for(const r of t.get()){const n=r.id,o=this.body.nodes[n],s=Math.round(o.x),a=Math.round(o.y);(r.x!==s||r.y!==a)&&e.push({id:n,x:s,y:a})}t.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,t){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e],o={};for(let s=0;s<n.edges.length;s++){const a=n.edges[s];t!=="to"&&a.toId==n.id?o[a.fromId]===void 0&&(r.push(a.fromId),o[a.fromId]=!0):t!=="from"&&a.fromId==n.id&&o[a.toId]===void 0&&(r.push(a.toId),o[a.toId]=!0)}}return r}getConnectedEdges(e){const t=[];if(this.body.nodes[e]!==void 0){const r=this.body.nodes[e];for(let n=0;n<r.edges.length;n++)t.push(r.edges[n].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return t}moveNode(e,t,r){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(t),this.body.nodes[e].y=Number(r),Qt(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var aM={},uM;function vY(){if(uM)return aM;uM=1;var i=z(),e=Math.hypot,t=Math.abs,r=Math.sqrt,n=!!e&&e(1/0,NaN)!==1/0;return i({target:"Math",stat:!0,arity:2,forced:n},{hypot:function(s,a){for(var u=0,l=0,d=arguments.length,c=0,h,f;l<d;)h=t(arguments[l++]),c<h?(f=c/h,u=u*f*f+1,c=h):h>0?(f=h/c,u+=f*f):u+=h;return c===1/0?1/0:c*r(u)}}),aM}var Cy,lM;function pY(){if(lM)return Cy;lM=1,vY();var i=se();return Cy=i.Math.hypot,Cy}var xy,dM;function gY(){if(dM)return xy;dM=1;var i=pY();return xy=i,xy}var Dy,cM;function yY(){return cM||(cM=1,Dy=gY()),Dy}var mY=yY(),bY=G(mY);class Ie{static transform(e,t){Oe(e)||(e=[e]);const r=t.point.x,n=t.point.y,o=t.angle,s=t.length;for(let a=0;a<e.length;++a){const u=e[a],l=u.x*Math.cos(o)-u.y*Math.sin(o),d=u.x*Math.sin(o)+u.y*Math.cos(o);u.x=r+s*l,u.y=n+s*d}}static drawPath(e,t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(let r=1;r<t.length;++r)e.lineTo(t[r].x,t[r].y);e.closePath()}}let _Y=class extends Ie{static draw(e,t){if(t.image){e.save(),e.translate(t.point.x,t.point.y),e.rotate(Math.PI/2+t.angle);const r=t.imageWidth!=null?t.imageWidth:t.image.width,n=t.imageHeight!=null?t.imageHeight:t.image.height;t.image.drawImageAtPosition(e,1,-r/2,0,r,n),e.restore()}return!1}};class wY extends Ie{static draw(e,t){const r=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class EY{static draw(e,t){const r=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class SY{static draw(e,t){const r={x:-.4,y:0};Ie.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=t.angle-n/2,s=t.angle+n/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,o,s,!1),e.stroke(),!0}}class OY{static draw(e,t){const r={x:-.3,y:0};Ie.transform(r,t),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const n=Math.PI,o=t.angle+n/2,s=t.angle+3*n/2;return e.beginPath(),e.arc(r.x,r.y,t.length*.4,o,s,!1),e.stroke(),!0}}class IY{static draw(e,t){const r=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class $Y{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class TY{static draw(e,t){const r={x:-.4,y:0};return Ie.transform(r,t),Ab(e,r.x,r.y,t.length*.4),!0}}class PY{static draw(e,t){const r=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class RY{static draw(e,t){const r=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class qY{static draw(e,t){const r=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class CY{static draw(e,t){const r=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ie.transform(r,t),Ie.drawPath(e,r),!0}}class iB{static draw(e,t){let r;switch(t.type&&(r=t.type.toLowerCase()),r){case"image":return _Y.draw(e,t);case"circle":return TY.draw(e,t);case"box":return RY.draw(e,t);case"crow":return EY.draw(e,t);case"curve":return SY.draw(e,t);case"diamond":return qY.draw(e,t);case"inv_curve":return OY.draw(e,t);case"triangle":return IY.draw(e,t);case"inv_triangle":return $Y.draw(e,t);case"bar":return PY.draw(e,t);case"vee":return CY.draw(e,t);case"arrow":default:return wY.draw(e,t)}}}function hM(i,e){var t=Se(i);if(_r){var r=_r(i);e&&(r=it(r).call(r,function(n){return Rr(i,n).enumerable})),t.push.apply(t,r)}return t}function fM(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?le(t=hM(Object(n),!0)).call(t,function(o){Kt(i,o,n[o])}):wr?Ks(i,wr(n)):le(r=hM(Object(n))).call(r,function(o){Ys(i,o,Rr(n,o))})}return i}class nB{constructor(e,t,r){Kt(this,"color",{}),Kt(this,"colorDirty",!0),Kt(this,"hoverWidth",1.5),Kt(this,"selectionWidth",2),this._body=t,this._labelModule=r,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,t,r,n){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,t),e.lineWidth=t.width,t.dashes!==!1?this._drawDashedLine(e,t,o):this._drawLine(e,t,o)}_drawLine(e,t,r,n,o){if(this.from!=this.to)this._line(e,t,r,n,o);else{const[s,a,u]=this._getCircleData(e);this._circle(e,t,s,a,u)}}_drawDashedLine(e,t,r,n,o){e.lineCap="round";const s=Oe(t.dashes)?t.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(s),e.lineDashOffset=0,this.from!=this.to)this._line(e,t,r);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)Wk(e,this.from.x,this.from.y,this.to.x,this.to.y,s);else{const[a,u,l]=this._getCircleData(e);this._circle(e,t,a,u,l)}this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}}findBorderPosition(e,t,r){return this.from!=this.to?this._findBorderPosition(e,t,r):this._findBorderPositionCircle(e,t,r)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var t;const[r,n]=Mt(t=this._getCircleData(e)).call(t,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:.6,high:.8,direction:1})}}}_getCircleData(e){const t=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const r=tB(e,this.options.selfReference.angle,t,this.from);return[r.x,r.y,t]}_pointOnCircle(e,t,r,n){const o=n*2*Math.PI;return{x:e+r*Math.cos(o),y:t-r*Math.sin(o)}}_findBorderPositionCircle(e,t,r){const n=r.x,o=r.y;let s=r.low,a=r.high;const u=r.direction,l=10,d=this.options.selfReference.size,c=.05;let h,f=(s+a)*.5,v=0;this.options.arrowStrikethrough===!0&&(u===-1?v=this.options.endPointOffset.from:u===1&&(v=this.options.endPointOffset.to));let p=0;do{f=(s+a)*.5,h=this._pointOnCircle(n,o,d,f);const b=Math.atan2(e.y-h.y,e.x-h.x),y=e.distanceToBorder(t,b)+v,g=Math.sqrt(Math.pow(h.x-e.x,2)+Math.pow(h.y-e.y,2)),S=y-g;if(Math.abs(S)<c)break;S>0?u>0?s=f:a=f:u>0?a=f:s=f,++p}while(s<=a&&p<l);return fM(fM({},h),{},{t:f})}getLineWidth(e,t){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):t===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,t){if(t.inheritsColor!==!1){if(t.inheritsColor==="both"&&this.from.id!==this.to.id){const r=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let n=this.from.options.color.highlight.border,o=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(n=pt(this.from.options.color.border,t.opacity),o=pt(this.to.options.color.border,t.opacity)):this.from.selected===!0&&this.to.selected===!1?o=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(n=this.from.options.color.border),r.addColorStop(0,n),r.addColorStop(1,o),r}return t.inheritsColor==="to"?pt(this.to.options.color.border,t.opacity):pt(this.from.options.color.border,t.opacity)}else return pt(t.color,t.opacity)}_circle(e,t,r,n,o){this.enableShadow(e,t);let s=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const u=this.options.selfReference.angle,l=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:u,high:l,direction:-1}),c=this._findBorderPositionCircle(this.from,e,{x:r,y:n,low:u,high:l,direction:1});s=Math.atan2(d.y-n,d.x-r),a=Math.atan2(c.y-n,c.x-r)}e.beginPath(),e.arc(r,n,o,s,a,!1),e.stroke(),this.disableShadow(e,t)}getDistanceToEdge(e,t,r,n,o,s){if(this.from!=this.to)return this._getDistanceToEdge(e,t,r,n,o,s);{const[a,u,l]=this._getCircleData(void 0),d=a-o,c=u-s;return Math.abs(Math.sqrt(d*d+c*c)-l)}}_getDistanceToLine(e,t,r,n,o,s){const a=r-e,u=n-t,l=a*a+u*u;let d=((o-e)*a+(s-t)*u)/l;d>1?d=1:d<0&&(d=0);const c=e+d*a,h=t+d*u,f=c-o,v=h-s;return Math.sqrt(f*f+v*v)}getArrowData(e,t,r,n,o,s){let a,u,l,d,c,h,f;const v=s.width;t==="from"?(l=this.from,d=this.to,c=s.fromArrowScale<0,h=Math.abs(s.fromArrowScale),f=s.fromArrowType):t==="to"?(l=this.to,d=this.from,c=s.toArrowScale<0,h=Math.abs(s.toArrowScale),f=s.toArrowType):(l=this.to,d=this.from,c=s.middleArrowScale<0,h=Math.abs(s.middleArrowScale),f=s.middleArrowType);const p=15*h+3*v;if(l!=d){const S=bY(l.x-d.x,l.y-d.y),m=p/S;if(t!=="middle")if(this.options.smooth.enabled===!0){const w=this._findBorderPosition(l,e,{via:r}),O=this.getPoint(w.t+m*(t==="from"?1:-1),r);a=Math.atan2(w.y-O.y,w.x-O.x),u=w}else a=Math.atan2(l.y-d.y,l.x-d.x),u=this._findBorderPosition(l,e);else{const w=(c?-m:m)/2,O=this.getPoint(.5+w,r),I=this.getPoint(.5-w,r);a=Math.atan2(O.y-I.y,O.x-I.x),u=this.getPoint(.5,r)}}else{const[S,m,w]=this._getCircleData(e);if(t==="from"){const O=this.options.selfReference.angle,I=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:S,y:m,low:O,high:I,direction:-1});a=_.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=_}else if(t==="to"){const O=this.options.selfReference.angle,I=this.options.selfReference.angle+Math.PI,_=this._findBorderPositionCircle(this.from,e,{x:S,y:m,low:O,high:I,direction:1});a=_.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=_}else{const O=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(S,m,w,O),a=O*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=u.x-p*.9*Math.cos(a),y=u.y-p*.9*Math.sin(a);return{point:u,core:{x:b,y},angle:a,length:p,type:f}}drawArrowHead(e,t,r,n,o){e.strokeStyle=this.getColor(e,t),e.fillStyle=e.strokeStyle,e.lineWidth=t.width,iB.draw(e,o)&&(this.enableShadow(e,t),Ro(e).call(e),this.disableShadow(e,t))}enableShadow(e,t){t.shadow===!0&&(e.shadowColor=t.shadowColor,e.shadowBlur=t.shadowSize,e.shadowOffsetX=t.shadowX,e.shadowOffsetY=t.shadowY)}disableShadow(e,t){t.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,t){if(t.background!==!1){const r={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=t.backgroundColor,e.lineWidth=t.backgroundSize,this.setStrokeDashed(e,t.backgroundDashes),e.stroke(),e.strokeStyle=r.strokeStyle,e.lineWidth=r.lineWidth,e.dashes=r.dashes,this.setStrokeDashed(e,t.dashes)}}setStrokeDashed(e,t){if(t!==!1)if(e.setLineDash!==void 0){const r=Oe(t)?t:[5,5];e.setLineDash(r)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function vM(i,e){var t=Se(i);if(_r){var r=_r(i);e&&(r=it(r).call(r,function(n){return Rr(i,n).enumerable})),t.push.apply(t,r)}return t}function pM(i){for(var e=1;e<arguments.length;e++){var t,r,n=arguments[e]!=null?arguments[e]:{};e%2?le(t=vM(Object(n),!0)).call(t,function(o){Kt(i,o,n[o])}):wr?Ks(i,wr(n)):le(r=vM(Object(n))).call(r,function(o){Ys(i,o,Rr(n,o))})}return i}class u1 extends nB{constructor(e,t,r){super(e,t,r)}_findBorderPositionBezier(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const n=10,o=.2;let s=!1,a=1,u=0,l=this.to,d,c,h=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(l=this.from,s=!0,h=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(h=0);let f=0;do{c=(u+a)*.5,d=this.getPoint(c,r);const v=Math.atan2(l.y-d.y,l.x-d.x),p=l.distanceToBorder(t,v)+h,b=Math.sqrt(Math.pow(d.x-l.x,2)+Math.pow(d.y-l.y,2)),y=p-b;if(Math.abs(y)<o)break;y<0?s===!1?u=c:a=c:s===!1?a=c:u=c,++f}while(u<=a&&f<n);return pM(pM({},d),{},{t:c})}_getDistanceToBezierEdge(e,t,r,n,o,s,a){let u=1e9,l,d,c,h,f,v=e,p=t;for(d=1;d<10;d++)c=.1*d,h=Math.pow(1-c,2)*e+2*c*(1-c)*a.x+Math.pow(c,2)*r,f=Math.pow(1-c,2)*t+2*c*(1-c)*a.y+Math.pow(c,2)*n,d>0&&(l=this._getDistanceToLine(v,p,h,f,o,s),u=l<u?l:u),v=h,p=f;return u}_bezierCurve(e,t,r,n){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),r!=null&&r.x!=null?n!=null&&n.x!=null?e.bezierCurveTo(r.x,r.y,n.x,n.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(r.x,r.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,t),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){return this._getViaCoordinates()}}class gM extends u1{constructor(e,t,r){super(e,t,r),Kt(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let t=!1;this.options.physics!==e.physics&&(t=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),t===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,t=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=t,this.via=t,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,t,r){this._bezierCurve(e,t,r)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[r,n,o]=this._getCircleData(),s=2*Math.PI*(1-e);return{x:r+o*Math.sin(s),y:n+o-o*(1-Math.cos(s))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*t.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*t.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t,this.via)}_getDistanceToEdge(e,t,r,n,o,s){return this._getDistanceToBezierEdge(e,t,r,n,o,s,this.via)}}class yM extends u1{constructor(e,t,r){super(e,t,r)}_line(e,t,r){this._bezierCurve(e,t,r)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,t=this.options.smooth.type;let r=Math.abs(this.from.x-this.to.x),n=Math.abs(this.from.y-this.to.y);if(t==="discrete"||t==="diagonalCross"){let o,s;r<=n?o=s=e*n:o=s=e*r,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(s=-s);let a=this.from.x+o,u=this.from.y+s;return t==="discrete"&&(r<=n?a=r<e*n?this.from.x:a:u=n<e*r?this.from.y:u),{x:a,y:u}}else if(t==="straightCross"){let o=(1-e)*r,s=(1-e)*n;return r<=n?(o=0,this.from.y<this.to.y&&(s=-s)):(this.from.x<this.to.x&&(o=-o),s=0),{x:this.to.x+o,y:this.to.y+s}}else if(t==="horizontal"){let o=(1-e)*r;return this.from.x<this.to.x&&(o=-o),{x:this.to.x+o,y:this.from.y}}else if(t==="vertical"){let o=(1-e)*n;return this.from.y<this.to.y&&(o=-o),{x:this.from.x,y:this.to.y+o}}else if(t==="curvedCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const o=Math.sqrt(r*r+n*n),s=Math.PI,u=(Math.atan2(n,r)+(e*.5+.5)*s)%(2*s);return{x:this.from.x+(e*.5+.5)*o*Math.sin(u),y:this.from.y+(e*.5+.5)*o*Math.cos(u)}}else if(t==="curvedCCW"){r=this.to.x-this.from.x,n=this.from.y-this.to.y;const o=Math.sqrt(r*r+n*n),s=Math.PI,u=(Math.atan2(n,r)+(-e*.5+.5)*s)%(2*s);return{x:this.from.x+(e*.5+.5)*o*Math.sin(u),y:this.from.y+(e*.5+.5)*o*Math.cos(u)}}else{let o,s;r<=n?o=s=e*n:o=s=e*r,this.from.x>this.to.x&&(o=-o),this.from.y>=this.to.y&&(s=-s);let a=this.from.x+o,u=this.from.y+s;return r<=n?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?u=this.to.y>u?this.to.y:u:u=this.to.y<u?this.to.y:u,{x:a,y:u}}}_findBorderPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,t,r.via)}_getDistanceToEdge(e,t,r,n,o,s){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,t,r,n,o,s,a)}getPoint(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const r=e,n=Math.pow(1-r,2)*this.fromPoint.x+2*r*(1-r)*t.x+Math.pow(r,2)*this.toPoint.x,o=Math.pow(1-r,2)*this.fromPoint.y+2*r*(1-r)*t.y+Math.pow(r,2)*this.toPoint.y;return{x:n,y:o}}}class xY extends u1{constructor(e,t,r){super(e,t,r)}_getDistanceToBezierEdge2(e,t,r,n,o,s,a,u){let l=1e9,d=e,c=t;const h=[0,0,0,0];for(let f=1;f<10;f++){const v=.1*f;h[0]=Math.pow(1-v,3),h[1]=3*v*Math.pow(1-v,2),h[2]=3*Math.pow(v,2)*(1-v),h[3]=Math.pow(v,3);const p=h[0]*e+h[1]*a.x+h[2]*u.x+h[3]*r,b=h[0]*t+h[1]*a.y+h[2]*u.y+h[3]*n;if(f>0){const y=this._getDistanceToLine(d,c,p,b,o,s);l=y<l?y:l}d=p,c=b}return l}}class mM extends xY{constructor(e,t,r){super(e,t,r)}_line(e,t,r){const n=r[0],o=r[1];this._bezierCurve(e,t,n,o)}_getViaCoordinates(){const e=this.from.x-this.to.x,t=this.from.y-this.to.y;let r,n,o,s;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(t)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(n=this.from.y,s=this.to.y,r=this.from.x-a*e,o=this.to.x+a*e):(n=this.from.y-a*t,s=this.to.y+a*t,r=this.from.x,o=this.to.x),[{x:r,y:n},{x:o,y:s}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,t){return this._findBorderPositionBezier(e,t)}_getDistanceToEdge(e,t,r,n,o,s){let[a,u]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,t,r,n,o,s,a,u)}getPoint(e){let[t,r]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,o=[Math.pow(1-n,3),3*n*Math.pow(1-n,2),3*Math.pow(n,2)*(1-n),Math.pow(n,3)],s=o[0]*this.fromPoint.x+o[1]*t.x+o[2]*r.x+o[3]*this.toPoint.x,a=o[0]*this.fromPoint.y+o[1]*t.y+o[2]*r.y+o[3]*this.toPoint.y;return{x:s,y:a}}}class bM extends nB{constructor(e,t,r){super(e,t,r)}_line(e,t){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,t),e.stroke(),this.disableShadow(e,t)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,t){let r=this.to,n=this.from;e.id===this.from.id&&(r=this.from,n=this.to);const o=Math.atan2(r.y-n.y,r.x-n.x),s=r.x-n.x,a=r.y-n.y,u=Math.sqrt(s*s+a*a),l=e.distanceToBorder(t,o),d=(u-l)/u;return{x:(1-d)*n.x+d*r.x,y:(1-d)*n.y+d*r.y,t:0}}_getDistanceToEdge(e,t,r,n,o,s){return this._getDistanceToLine(e,t,r,n,o,s)}}class mr{constructor(e,t,r,n,o){if(t===void 0)throw new Error("No body provided");this.options=yr(n),this.globalOptions=n,this.defaultOptions=o,this.body=t,this.imagelist=r,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Mi(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let t=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;mr.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=eB(e.value));const r=[e,this.options,this.defaultOptions];return this.chooser=s1("edge",r),this.updateLabelModule(e),t=this.updateEdgeType()||t,this._setInteractionWidths(),this.connect(),t}static parseOptions(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(mn(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,t,r),t.endPointOffset!==void 0&&t.endPointOffset.from!==void 0&&(zr(t.endPointOffset.from)?e.endPointOffset.from=t.endPointOffset.from:(e.endPointOffset.from=n.endPointOffset.from!==void 0?n.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),t.endPointOffset!==void 0&&t.endPointOffset.to!==void 0&&(zr(t.endPointOffset.to)?e.endPointOffset.to=t.endPointOffset.to:(e.endPointOffset.to=n.endPointOffset.to!==void 0?n.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),fs(t.label)?e.label=t.label:fs(e.label)||(e.label=void 0),vt(e,t,"smooth",n),vt(e,t,"shadow",n),vt(e,t,"background",n),t.dashes!==void 0&&t.dashes!==null?e.dashes=t.dashes:r===!0&&t.dashes===null&&(e.dashes=Gr(n.dashes)),t.scaling!==void 0&&t.scaling!==null?(t.scaling.min!==void 0&&(e.scaling.min=t.scaling.min),t.scaling.max!==void 0&&(e.scaling.max=t.scaling.max),vt(e.scaling,t.scaling,"label",n.scaling)):r===!0&&t.scaling===null&&(e.scaling=Gr(n.scaling)),t.arrows!==void 0&&t.arrows!==null)if(typeof t.arrows=="string"){const a=t.arrows.toLowerCase();e.arrows.to.enabled=ne(a).call(a,"to")!=-1,e.arrows.middle.enabled=ne(a).call(a,"middle")!=-1,e.arrows.from.enabled=ne(a).call(a,"from")!=-1}else if(typeof t.arrows=="object")vt(e.arrows,t.arrows,"to",n.arrows),vt(e.arrows,t.arrows,"middle",n.arrows),vt(e.arrows,t.arrows,"from",n.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Po(t.arrows));else r===!0&&t.arrows===null&&(e.arrows=Gr(n.arrows));if(t.color!==void 0&&t.color!==null){const a=Di(t.color)?{color:t.color,highlight:t.color,hover:t.color,inherit:!1,opacity:1}:t.color,u=e.color;if(o)he(u,n.color,!1,r);else for(const l in u)Object.prototype.hasOwnProperty.call(u,l)&&delete u[l];if(Di(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,a.opacity===void 0&&(u.opacity=1);else{let l=!1;a.color!==void 0&&(u.color=a.color,l=!0),a.highlight!==void 0&&(u.highlight=a.highlight,l=!0),a.hover!==void 0&&(u.hover=a.hover,l=!0),a.inherit!==void 0&&(u.inherit=a.inherit),a.opacity!==void 0&&(u.opacity=Math.min(1,Math.max(0,a.opacity))),l===!0?u.inherit=!1:u.inherit===void 0&&(u.inherit="from")}}else r===!0&&t.color===null&&(e.color=yr(n.color));r===!0&&t.font===null&&(e.font=yr(n.font)),Object.prototype.hasOwnProperty.call(t,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=t.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,t=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,r=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,n=this.options.color.inherit,o={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:r,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:t,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:n?void 0:this.options.color.color,inheritsColor:n,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const s=this.options.selectionWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.highlight,o.shadow=this.options.shadow.enabled}else if(this.hover){const s=this.options.hoverWidth;typeof s=="function"?o.width=s(o.width):typeof s=="number"&&(o.width+=s),o.width=Math.max(o.width,.3/this.body.view.scale),o.color=this.options.color.hover,o.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(o,this.options.id,this.selected,this.hover),o.color!==void 0&&(o.inheritsColor=!1),o.shadow===!1&&(o.shadowColor!==this.options.shadow.color||o.shadowSize!==this.options.shadow.size||o.shadowX!==this.options.shadow.x||o.shadowY!==this.options.shadow.y)&&(o.shadow=!0));else o.shadow=this.options.shadow.enabled,o.width=Math.max(o.width,.3/this.body.view.scale);return o}updateLabelModule(e){const t=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,t),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let t=!1,r=!0;return this.edgeType!==void 0&&((this.edgeType instanceof gM&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof mM&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof yM&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof bM&&e.type.enabled===!1)&&(r=!1),r===!0&&(t=this.cleanup())),r===!0?e.enabled===!0?e.type==="dynamic"?(t=!0,this.edgeType=new gM(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new mM(this.options,this.body,this.labelModule):this.edgeType=new yM(this.options,this.body,this.labelModule):this.edgeType=new bM(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),t}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,t,r){if(this.options.value!==void 0){const n=this.options.scaling.customScalingFunction(e,t,r,this.options.value),o=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const s=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+n*s}this.options.width=this.options.scaling.min+n*o}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode();this.edgeType.drawLine(e,t,this.selected,this.hover,r),this.drawLabel(e,r)}drawArrows(e){const t=this.getFormattingValues();if(t.hidden)return;const r=this.edgeType.getViaNode(),n={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,t.fromArrow&&(n.from=this.edgeType.getArrowData(e,"from",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.fromPoint=n.from.core),t.fromArrowSrc&&(n.from.image=this.imagelist.load(t.fromArrowSrc)),t.fromArrowImageWidth&&(n.from.imageWidth=t.fromArrowImageWidth),t.fromArrowImageHeight&&(n.from.imageHeight=t.fromArrowImageHeight)),t.toArrow&&(n.to=this.edgeType.getArrowData(e,"to",r,this.selected,this.hover,t),t.arrowStrikethrough===!1&&(this.edgeType.toPoint=n.to.core),t.toArrowSrc&&(n.to.image=this.imagelist.load(t.toArrowSrc)),t.toArrowImageWidth&&(n.to.imageWidth=t.toArrowImageWidth),t.toArrowImageHeight&&(n.to.imageHeight=t.toArrowImageHeight)),t.middleArrow&&(n.middle=this.edgeType.getArrowData(e,"middle",r,this.selected,this.hover,t),t.middleArrowSrc&&(n.middle.image=this.imagelist.load(t.middleArrowSrc)),t.middleArrowImageWidth&&(n.middle.imageWidth=t.middleArrowImageWidth),t.middleArrowImageHeight&&(n.middle.imageHeight=t.middleArrowImageHeight)),t.fromArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.from),t.middleArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.middle),t.toArrow&&this.edgeType.drawArrowHead(e,t,this.selected,this.hover,n.to)}drawLabel(e,t){if(this.options.label!==void 0){const r=this.from,n=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let o;if(r.id!=n.id){this.labelModule.pointToSelf=!1,o=this.edgeType.getPoint(.5,t),e.save();const s=this._getRotation(e);s.angle!=0&&(e.translate(s.x,s.y),e.rotate(s.angle)),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const s=tB(e,this.options.selfReference.angle,this.options.selfReference.size,r);o=this._pointOnCircle(s.x,s.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,o.x,o.y,this.selected,this.hover)}}}getItemsOnPoint(e){const t=[];if(this.labelModule.visible()){const n=this._getRotation();Vm(this.labelModule.getSize(),e,n)&&t.push({edgeId:this.id,labelId:0})}const r={left:e.x,top:e.y};return this.isOverlappingWith(r)&&t.push({edgeId:this.id}),t}isOverlappingWith(e){if(this.connected){const r=this.from.x,n=this.from.y,o=this.to.x,s=this.to.y,a=e.left,u=e.top;return this.edgeType.getDistanceToEdge(r,n,o,s,a,u)<10}else return!1}_getRotation(e){const t=this.edgeType.getViaNode(),r=this.edgeType.getPoint(.5,t);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,r.x,r.y);const n={x:r.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return n;const o=this.from.y-this.to.y,s=this.from.x-this.to.x;let a=Math.atan2(o,s);return(a<-1&&s<0||a>0&&s<0)&&(a+=Math.PI),n.angle=a,n}_pointOnCircle(e,t,r,n){return{x:e+r*Math.cos(n),y:t-r*Math.sin(n)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class DY{constructor(e,t,r){var n;this.body=e,this.images=t,this.groups=r,this.body.functions.createEdge=D(n=this.create).call(n,this),this.edgesListeners={add:(o,s)=>{this.add(s.items)},update:(o,s)=>{this.update(s.items)},remove:(o,s)=>{this.remove(s.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,s,a,u){if(s===o)return .5;{const l=1/(s-o);return Math.max(0,(u-o)*l)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},he(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,t,r;this.body.emitter.on("_forceDisableDynamicCurves",function(n){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n==="dynamic"&&(n="continuous");let s=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const u=e.body.edges[a],l=e.body.data.edges.get(a);if(l!=null){const d=l.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(n===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:n}}),s=!0)}}o===!0&&s===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",D(t=this.refresh).call(t,this)),this.body.emitter.on("refresh",D(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Z(this.edgesListeners,(n,o)=>{this.body.data.edges&&this.body.data.edges.off(o,n)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){mr.parseOptions(this.options,e,!0,this.defaultOptions,!0);let t=!1;if(e.smooth!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&(t=this.body.edges[r].updateEdgeType()||t);if(e.font!==void 0)for(const r in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,r)&&this.body.edges[r].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||t===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.data.edges;if(Dk("id",e))this.body.data.edges=e;else if(Oe(e))this.body.data.edges=new ss,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new ss;else throw new TypeError("Array or DataSet expected");if(r&&Z(this.edgesListeners,(n,o)=>{r.off(o,n)}),this.body.edges={},this.body.data.edges){Z(this.edgesListeners,(o,s)=>{this.body.data.edges.on(s,o)});const n=this.body.data.edges.getIds();this.add(n,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}add(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.edges,n=this.body.data.edges;for(let o=0;o<e.length;o++){const s=e[o],a=r[s];a&&a.disconnect();const u=n.get(s,{showInternalIds:!0});r[s]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),t===!1&&this.body.emitter.emit("_dataChanged")}update(e){const t=this.body.edges,r=this.body.data.edges;let n=!1;for(let o=0;o<e.length;o++){const s=e[o],a=r.get(s),u=t[s];u!==void 0?(u.disconnect(),n=u.setOptions(a)||n,u.connect()):(this.body.edges[s]=this.create(a),n=!0)}n===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const r=this.body.edges;Z(e,n=>{const o=r[n];o!==void 0&&o.remove()}),t&&this.body.emitter.emit("_dataChanged")}refresh(){Z(this.body.edges,(e,t)=>{const r=this.body.data.edges.get(t);r!==void 0&&e.setOptions(r)})}create(e){return new mr(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const t=this.body.nodes,r=this.body.edges;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(t[e].edges=[]);for(e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const n=r[e];n.from=null,n.to=null,n.connect()}}getConnectedNodes(e){const t=[];if(this.body.edges[e]!==void 0){const r=this.body.edges[e];r.fromId!==void 0&&t.push(r.fromId),r.toId!==void 0&&t.push(r.toId)}return t}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Z(this.body.edges,(t,r)=>{const n=this.body.nodes[t.toId],o=this.body.nodes[t.fromId];n!==void 0&&n.isCluster===!0||o!==void 0&&o.isCluster===!0||(n===void 0||o===void 0)&&e.push(r)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const t=this.body.edges,r=[];le(e).call(e,(n,o)=>{t[o]===void 0&&r.push(o)}),this.add(r,!0)}}class oB{constructor(e,t,r){this.body=e,this.physicsBody=t,this.barnesHutTree,this.setOptions(r),this._rng=Us("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const t=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=r.length,o=this._formBarnesHutTree(t,r);this.barnesHutTree=o;for(let s=0;s<n;s++)e=t[r[s]],e.options.mass>0&&this._getForceContributions(o.root,e)}}_getForceContributions(e,t){this._getForceContribution(e.children.NW,t),this._getForceContribution(e.children.NE,t),this._getForceContribution(e.children.SW,t),this._getForceContribution(e.children.SE,t)}_getForceContribution(e,t){if(e.childrenCount>0){const r=e.centerOfMass.x-t.x,n=e.centerOfMass.y-t.y,o=Math.sqrt(r*r+n*n);o*e.calcSize>this.thetaInversed?this._calculateForces(o,r,n,t,e):e.childrenCount===4?this._getForceContributions(e,t):e.children.data.id!=t.id&&this._calculateForces(o,r,n,t,e)}}_calculateForces(e,t,r,n,o){e===0&&(e=.1,t=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const s=this.options.gravitationalConstant*o.mass*n.options.mass/Math.pow(e,3),a=t*s,u=r*s;this.physicsBody.forces[n.id].x+=a,this.physicsBody.forces[n.id].y+=u}_formBarnesHutTree(e,t){let r;const n=t.length;let o=e[t[0]].x,s=e[t[0]].y,a=e[t[0]].x,u=e[t[0]].y;for(let b=1;b<n;b++){const y=e[t[b]],g=y.x,S=y.y;y.options.mass>0&&(g<o&&(o=g),g>a&&(a=g),S<s&&(s=S),S>u&&(u=S))}const l=Math.abs(a-o)-Math.abs(u-s);l>0?(s-=.5*l,u+=.5*l):(o+=.5*l,a-=.5*l);const c=Math.max(1e-5,Math.abs(a-o)),h=.5*c,f=.5*(o+a),v=.5*(s+u),p={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:f-h,maxX:f+h,minY:v-h,maxY:v+h},size:c,calcSize:1/c,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(p.root);for(let b=0;b<n;b++)r=e[t[b]],r.options.mass>0&&this._placeInTree(p.root,r);return p}_updateBranchMass(e,t){const r=e.centerOfMass,n=e.mass+t.options.mass,o=1/n;r.x=r.x*e.mass+t.x*t.options.mass,r.x*=o,r.y=r.y*e.mass+t.y*t.options.mass,r.y*=o,e.mass=n;const s=Math.max(Math.max(t.height,t.radius),t.width);e.maxWidth=e.maxWidth<s?s:e.maxWidth}_placeInTree(e,t,r){(r!=!0||r===void 0)&&this._updateBranchMass(e,t);const n=e.children.NW.range;let o;n.maxX>t.x?n.maxY>t.y?o="NW":o="SW":n.maxY>t.y?o="NE":o="SE",this._placeInRegion(e,t,o)}_placeInRegion(e,t,r){const n=e.children[r];switch(n.childrenCount){case 0:n.children.data=t,n.childrenCount=1,this._updateBranchMass(n,t);break;case 1:n.children.data.x===t.x&&n.children.data.y===t.y?(t.x+=this._rng(),t.y+=this._rng()):(this._splitBranch(n),this._placeInTree(n,t));break;case 4:this._placeInTree(n,t);break}}_splitBranch(e){let t=null;e.childrenCount===1&&(t=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),t!=null&&this._placeInTree(e,t)}_insertRegion(e,t){let r,n,o,s;const a=.5*e.size;switch(t){case"NW":r=e.range.minX,n=e.range.minX+a,o=e.range.minY,s=e.range.minY+a;break;case"NE":r=e.range.minX+a,n=e.range.maxX,o=e.range.minY,s=e.range.minY+a;break;case"SW":r=e.range.minX,n=e.range.minX+a,o=e.range.minY+a,s=e.range.maxY;break;case"SE":r=e.range.minX+a,n=e.range.maxX,o=e.range.minY+a,s=e.range.maxY;break}e.children[t]={centerOfMass:{x:0,y:0},mass:0,range:{minX:r,maxX:n,minY:o,maxY:s},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,t){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,t))}_drawBranch(e,t,r){r===void 0&&(r="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,t),this._drawBranch(e.children.NE,t),this._drawBranch(e.children.SE,t),this._drawBranch(e.children.SW,t)),t.strokeStyle=r,t.beginPath(),t.moveTo(e.range.minX,e.range.minY),t.lineTo(e.range.maxX,e.range.minY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.minY),t.lineTo(e.range.maxX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.maxX,e.range.maxY),t.lineTo(e.range.minX,e.range.maxY),t.stroke(),t.beginPath(),t.moveTo(e.range.minX,e.range.maxY),t.lineTo(e.range.minX,e.range.minY),t.stroke()}}class AY{constructor(e,t,r){this._rng=Us("REPULSION SOLVER"),this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,o,s,a,u;const l=this.body.nodes,d=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,h=this.options.nodeDistance,f=-2/3/h,v=4/3;for(let p=0;p<d.length-1;p++){a=l[d[p]];for(let b=p+1;b<d.length;b++)u=l[d[b]],e=u.x-a.x,t=u.y-a.y,r=Math.sqrt(e*e+t*t),r===0&&(r=.1*this._rng(),e=r),r<2*h&&(r<.5*h?s=1:s=f*r+v,s=s/r,n=e*s,o=t*s,c[a.id].x-=n,c[a.id].y-=o,c[u.id].x+=n,c[u.id].y+=o)}}}class MY{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,t=this.physicsBody.physicsNodeIndices,r=this.physicsBody.forces,n=this.options.nodeDistance;for(let o=0;o<t.length-1;o++){const s=e[t[o]];for(let a=o+1;a<t.length;a++){const u=e[t[a]];if(s.level===u.level){const l=n+this.overlapAvoidanceFactor*((s.shape.radius||0)/2+(u.shape.radius||0)/2),d=u.x-s.x,c=u.y-s.y,h=Math.sqrt(d*d+c*c),f=.05;let v;h<l?v=-Math.pow(f*h,2)+Math.pow(f*l,2):v=0,h!==0&&(v=v/h);const p=d*v,b=c*v;r[s.id].x-=p,r[s.id].y-=b,r[u.id].x+=p,r[u.id].y+=b}}}}}class Ay{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t;const r=this.physicsBody.physicsEdgeIndices,n=this.body.edges;let o,s,a;for(let u=0;u<r.length;u++)t=n[r[u]],t.connected===!0&&t.toId!==t.fromId&&this.body.nodes[t.toId]!==void 0&&this.body.nodes[t.fromId]!==void 0&&(t.edgeType.via!==void 0?(e=t.options.length===void 0?this.options.springLength:t.options.length,o=t.to,s=t.edgeType.via,a=t.from,this._calculateSpringForce(o,s,.5*e),this._calculateSpringForce(s,a,.5*e)):(e=t.options.length===void 0?this.options.springLength*1.5:t.options.length,this._calculateSpringForce(t.from,t.to,e)))}_calculateSpringForce(e,t,r){const n=e.x-t.x,o=e.y-t.y,s=Math.max(Math.sqrt(n*n+o*o),.01),a=this.options.springConstant*(r-s)/s,u=n*a,l=o*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=l),this.physicsBody.forces[t.id]!==void 0&&(this.physicsBody.forces[t.id].x-=u,this.physicsBody.forces[t.id].y-=l)}}class FY{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n,o,s,a,u;const l=this.body.edges,d=.5,c=this.physicsBody.physicsEdgeIndices,h=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces;for(let m=0;m<h.length;m++){const w=h[m];f[w].springFx=0,f[w].springFy=0}for(let m=0;m<c.length;m++)t=l[c[m]],t.connected===!0&&(e=t.options.length===void 0?this.options.springLength:t.options.length,r=t.from.x-t.to.x,n=t.from.y-t.to.y,u=Math.sqrt(r*r+n*n),u=u===0?.01:u,a=this.options.springConstant*(e-u)/u,o=r*a,s=n*a,t.to.level!=t.from.level?(f[t.toId]!==void 0&&(f[t.toId].springFx-=o,f[t.toId].springFy-=s),f[t.fromId]!==void 0&&(f[t.fromId].springFx+=o,f[t.fromId].springFy+=s)):(f[t.toId]!==void 0&&(f[t.toId].x-=d*o,f[t.toId].y-=d*s),f[t.fromId]!==void 0&&(f[t.fromId].x+=d*o,f[t.fromId].y+=d*s)));a=1;let v,p;for(let m=0;m<h.length;m++){const w=h[m];v=Math.min(a,Math.max(-a,f[w].springFx)),p=Math.min(a,Math.max(-a,f[w].springFy)),f[w].x+=v,f[w].y+=p}let b=0,y=0;for(let m=0;m<h.length;m++){const w=h[m];b+=f[w].x,y+=f[w].y}const g=b/h.length,S=y/h.length;for(let m=0;m<h.length;m++){const w=h[m];f[w].x-=g,f[w].y-=S}}}class Xo{constructor(e,t,r){this.body=e,this.physicsBody=t,this.setOptions(r)}setOptions(e){this.options=e}solve(){let e,t,r,n;const o=this.body.nodes,s=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let u=0;u<s.length;u++){const l=s[u];n=o[l],e=-n.x,t=-n.y,r=Math.sqrt(e*e+t*t),this._calculateForces(r,e,t,a,n)}}_calculateForces(e,t,r,n,o){const s=e===0?0:this.options.centralGravity/e;n[o.id].x=t*s,n[o.id].y=r*s}}class NY extends oB{constructor(e,t,r){super(e,t,r),this._rng=Us("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,t,r,n,o){e===0&&(e=.1*this._rng(),t=e),this.overlapAvoidanceFactor<1&&n.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*n.shape.radius,e-n.shape.radius));const s=n.edges.length+1,a=this.options.gravitationalConstant*o.mass*n.options.mass*s/Math.pow(e,2),u=t*a,l=r*a;this.physicsBody.forces[n.id].x+=u,this.physicsBody.forces[n.id].y+=l}}class kY extends Xo{constructor(e,t,r){super(e,t,r)}_calculateForces(e,t,r,n,o){if(e>0){const s=o.edges.length+1,a=this.options.centralGravity*s*o.options.mass;n[o.id].x=t*a,n[o.id].y=r*a}}}class BY{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Pe(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,cs(["stabilization"],this.options,e),vt(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const t=this.options.wind;t&&((typeof t.x!="number"||Um(t.x))&&(t.x=0),(typeof t.y!="number"||Um(t.y))&&(t.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new NY(this.body,this.physicsBody,e),this.edgesSolver=new Ay(this.body,this.physicsBody,e),this.gravitySolver=new kY(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new AY(this.body,this.physicsBody,e),this.edgesSolver=new Ay(this.body,this.physicsBody,e),this.gravitySolver=new Xo(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new MY(this.body,this.physicsBody,e),this.edgesSolver=new FY(this.body,this.physicsBody,e),this.gravitySolver=new Xo(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new oB(this.body,this.physicsBody,e),this.edgesSolver=new Ay(this.body,this.physicsBody,e),this.gravitySolver=new Xo(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=D(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=as();this.physicsTick(),(as()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Qt(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,t=this.body.edges;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&e[r].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[r].id);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&t[r].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(t[r].id);for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r];this.physicsBody.forces[n]={x:0,y:0},this.physicsBody.velocities[n]===void 0&&(this.physicsBody.velocities[n]={x:0,y:0})}for(const r in this.physicsBody.velocities)e[r]===void 0&&delete this.physicsBody.velocities[r]}revert(){const e=Se(this.previousStates),t=this.body.nodes,r=this.physicsBody.velocities;this.referenceState={};for(let n=0;n<e.length;n++){const o=e[n];t[o]!==void 0?t[o].options.physics===!0&&(this.referenceState[o]={positions:{x:t[o].x,y:t[o].y}},r[o].x=this.previousStates[o].vx,r[o].y=this.previousStates[o].vy,t[o].x=this.previousStates[o].x,t[o].y=this.previousStates[o].y):delete this.previousStates[o]}}_evaluateStepQuality(){let e,t,r;const n=this.body.nodes,o=this.referenceState,s=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&n[a]!==void 0&&(e=n[a].x-o[a].positions.x,t=n[a].y-o[a].positions.y,r=Math.sqrt(Math.pow(e,2)+Math.pow(t,2)),r>s))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let t=0,r=0;const n=5;for(let o=0;o<e.length;o++){const s=e[o],a=this._performStep(s);t=Math.max(t,a),r+=a}this.adaptiveTimestepEnabled=r/e.length<n,this.stabilized=t<this.options.minVelocity}calculateComponentVelocity(e,t,r){const n=this.modelOptions.damping*e,o=(t-n)/r;e+=o*this.timestep;const s=this.options.maxVelocity||1e9;return Math.abs(e)>s&&(e=e>0?s:-s),e}_performStep(e){const t=this.body.nodes[e],r=this.physicsBody.forces[e];this.options.wind&&(r.x+=this.options.wind.x,r.y+=this.options.wind.y);const n=this.physicsBody.velocities[e];return this.previousStates[e]={x:t.x,y:t.y,vx:n.x,vy:n.y},t.options.fixed.x===!1?(n.x=this.calculateComponentVelocity(n.x,r.x,t.options.mass),t.x+=n.x*this.timestep):(r.x=0,n.x=0),t.options.fixed.y===!1?(n.y=this.calculateComponentVelocity(n.y,r.y,t.options.mass),t.y+=n.y*this.timestep):(r.y=0,n.y=0),Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2))}_freezeNodes(){const e=this.body.nodes;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&e[t].x&&e[t].y){const r=e[t].options.fixed;this.freezeCache[t]={x:r.x,y:r.y},r.x=!0,r.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&this.freezeCache[t]!==void 0&&(e[t].options.fixed.x=this.freezeCache[t].x,e[t].options.fixed.y=this.freezeCache[t].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Qt(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,t=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&t();let r=0;for(;e()&&r<this.options.stabilization.updateInterval;)this.physicsTick(),r++;if(t(),e()){var n;Qt(D(n=this._stabilizationBatch).call(n,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let t=0;t<this.physicsBody.physicsNodeIndices.length;t++){const r=this.physicsBody.physicsNodeIndices[t],n=this.body.nodes[r],o=this.physicsBody.forces[r],s=20,a=.03,u=Math.sqrt(Math.pow(o.x,2)+Math.pow(o.x,2)),l=Math.min(Math.max(5,u),15),d=3*l,c=zm((180-Math.min(1,Math.max(0,a*u))*180)/360,1,1),h={x:n.x+s*o.x,y:n.y+s*o.y};e.lineWidth=l,e.strokeStyle=c,e.beginPath(),e.moveTo(n.x,n.y),e.lineTo(h.x,h.y),e.stroke();const f=Math.atan2(o.y,o.x);e.fillStyle=c,iB.draw(e,{type:"arrow",point:h,angle:f,length:d}),Ro(e).call(e)}}}const He=[];for(let i=0;i<256;++i)He.push((i+256).toString(16).slice(1));function jY(i,e=0){return(He[i[e+0]]+He[i[e+1]]+He[i[e+2]]+He[i[e+3]]+"-"+He[i[e+4]]+He[i[e+5]]+"-"+He[i[e+6]]+He[i[e+7]]+"-"+He[i[e+8]]+He[i[e+9]]+"-"+He[i[e+10]]+He[i[e+11]]+He[i[e+12]]+He[i[e+13]]+He[i[e+14]]+He[i[e+15]]).toLowerCase()}let My;const LY=new Uint8Array(16);function zY(){if(!My){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");My=crypto.getRandomValues.bind(crypto)}return My(LY)}const WY=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var _M={randomUUID:WY};function HY(i,e,t){i=i||{};const r=i.random??i.rng?.()??zY();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jY(r)}function Bn(i,e,t){return _M.randomUUID&&!i?_M.randomUUID():HY(i)}class Je{constructor(){}static getRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,n=-1e9,o=1e9,s=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],o>a.shape.boundingBox.left&&(o=a.shape.boundingBox.left),s<a.shape.boundingBox.right&&(s=a.shape.boundingBox.right),r>a.shape.boundingBox.top&&(r=a.shape.boundingBox.top),n<a.shape.boundingBox.bottom&&(n=a.shape.boundingBox.bottom);return o===1e9&&s===-1e9&&r===1e9&&n===-1e9&&(r=0,n=0,o=0,s=0),{minX:o,maxX:s,minY:r,maxY:n}}static getRangeCore(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=1e9,n=-1e9,o=1e9,s=-1e9,a;if(t.length>0)for(let u=0;u<t.length;u++)a=e[t[u]],o>a.x&&(o=a.x),s<a.x&&(s=a.x),r>a.y&&(r=a.y),n<a.y&&(n=a.y);return o===1e9&&s===-1e9&&r===1e9&&n===-1e9&&(r=0,n=0,o=0,s=0),{minX:o,maxX:s,minY:r,maxY:n}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,t){const r={};return t===void 0||t==="node"?(he(r,e.options,!0),r.x=e.x,r.y=e.y,r.amountOfConnections=e.edges.length):he(r,e.options,!0),r}}class UY extends ge{constructor(e,t,r,n,o,s){super(e,t,r,n,o,s),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const t=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!t.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Z(t.edges,r=>{delete this.containedEdges[r.id]}),Z(t.containedNodes,(r,n)=>{this.containedNodes[n]=r}),t.containedNodes={},Z(t.containedEdges,(r,n)=>{this.containedEdges[n]=r}),t.containedEdges={},Z(t.edges,r=>{Z(this.edges,n=>{var o,s;const a=ne(o=n.clusteringEdgeReplacingIds).call(o,r.id);a!==-1&&(Z(r.clusteringEdgeReplacingIds,u=>{n.clusteringEdgeReplacingIds.push(u),this.body.edges[u].edgeReplacedById=n.id}),Zt(s=n.clusteringEdgeReplacingIds).call(s,a,1))})}),t.edges=[]}}class VY{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Pe(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,t){e===void 0?e=this._getHubSize():typeof e=="object"&&(t=this._checkOptions(e),e=this._getHubSize());const r=[];for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodes[this.body.nodeIndices[n]];o.edges.length>=e&&r.push(o.id)}for(let n=0;n<r.length;n++)this.clusterByConnection(r[n],t,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const r={},n={};Z(this.body.nodes,(o,s)=>{o.options&&e.joinCondition(o.options)===!0&&(r[s]=o,Z(o.edges,a=>{this.clusteredEdges[a.id]===void 0&&(n[a.id]=a)}))}),this._cluster(r,n,e,t)}clusterByEdgeCount(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;t=this._checkOptions(t);const n=[],o={};let s,a,u;for(let l=0;l<this.body.nodeIndices.length;l++){const d={},c={},h=this.body.nodeIndices[l],f=this.body.nodes[h];if(o[h]===void 0){u=0,a=[];for(let v=0;v<f.edges.length;v++)s=f.edges[v],this.clusteredEdges[s.id]===void 0&&(s.toId!==s.fromId&&u++,a.push(s));if(u===e){const v=function(b){if(t.joinCondition===void 0||t.joinCondition===null)return!0;const y=Je.cloneOptions(b);return t.joinCondition(y)};let p=!0;for(let b=0;b<a.length;b++){s=a[b];const y=this._getConnectedId(s,h);if(v(f))c[s.id]=s,d[h]=f,d[y]=this.body.nodes[y],o[h]=!0;else{p=!1;break}}if(Se(d).length>0&&Se(c).length>0&&p===!0){const y=function(){for(let g=0;g<n.length;++g)for(const S in d)if(n[g].nodes[S]!==void 0)return n[g]}();if(y!==void 0){for(const g in d)y.nodes[g]===void 0&&(y.nodes[g]=d[g]);for(const g in c)y.edges[g]===void 0&&(y.edges[g]=c[g])}else n.push({nodes:d,edges:c})}}}}for(let l=0;l<n.length;l++)this._cluster(n[l].nodes,n[l].edges,t,!1);r===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,t)}clusterBridges(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,t)}clusterByConnection(e,t){var r;let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const o=this.body.nodes[e];t=this._checkOptions(t,o),t.clusterNodeProperties.x===void 0&&(t.clusterNodeProperties.x=o.x),t.clusterNodeProperties.y===void 0&&(t.clusterNodeProperties.y=o.y),t.clusterNodeProperties.fixed===void 0&&(t.clusterNodeProperties.fixed={},t.clusterNodeProperties.fixed.x=o.options.fixed.x,t.clusterNodeProperties.fixed.y=o.options.fixed.y);const s={},a={},u=o.id,l=Je.cloneOptions(o);s[u]=o;for(let c=0;c<o.edges.length;c++){const h=o.edges[c];if(this.clusteredEdges[h.id]===void 0){const f=this._getConnectedId(h,u);if(this.clusteredNodes[f]===void 0)if(f!==u)if(t.joinCondition===void 0)a[h.id]=h,s[f]=this.body.nodes[f];else{const v=Je.cloneOptions(this.body.nodes[f]);t.joinCondition(l,v)===!0&&(a[h.id]=h,s[f]=this.body.nodes[f])}else a[h.id]=h}}const d=ji(r=Se(s)).call(r,function(c){return s[c].id});for(const c in s){if(!Object.prototype.hasOwnProperty.call(s,c))continue;const h=s[c];for(let f=0;f<h.edges.length;f++){const v=h.edges[f];ne(d).call(d,this._getConnectedId(v,h.id))>-1&&(a[v.id]=v)}}this._cluster(s,a,t,n)}_createClusterEdges(e,t,r,n){let o,s,a,u,l,d;const c=Se(e),h=[];for(let p=0;p<c.length;p++){s=c[p],a=e[s];for(let b=0;b<a.edges.length;b++)o=a.edges[b],this.clusteredEdges[o.id]===void 0&&(o.toId==o.fromId?t[o.id]=o:o.toId==s?(u=r.id,l=o.fromId,d=l):(u=o.toId,l=r.id,d=u),e[d]===void 0&&h.push({edge:o,fromId:l,toId:u}))}const f=[],v=function(p){for(let b=0;b<f.length;b++){const y=f[b],g=p.fromId===y.fromId&&p.toId===y.toId,S=p.fromId===y.toId&&p.toId===y.fromId;if(g||S)return y}return null};for(let p=0;p<h.length;p++){const b=h[p],y=b.edge;let g=v(b);g===null?(g=this._createClusteredEdge(b.fromId,b.toId,y,n),f.push(g)):g.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=g.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const o=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&o.push(d);for(let d=0;d<o.length;++d)delete e[o[d]];if(Se(e).length==0||Se(e).length==1&&r.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let s=he({},r.clusterNodeProperties);if(r.processProperties!==void 0){const d=[];for(const h in e)if(Object.prototype.hasOwnProperty.call(e,h)){const f=Je.cloneOptions(e[h]);d.push(f)}const c=[];for(const h in t)if(Object.prototype.hasOwnProperty.call(t,h)&&h.substr(0,12)!=="clusterEdge:"){const f=Je.cloneOptions(t[h],"edge");c.push(f)}if(s=r.processProperties(s,d,c),!s)throw new Error("The processProperties function does not return properties!")}s.id===void 0&&(s.id="cluster:"+Bn());const a=s.id;s.label===void 0&&(s.label="cluster");let u;s.x===void 0&&(u=this._getClusterPosition(e),s.x=u.x),s.y===void 0&&(u===void 0&&(u=this._getClusterPosition(e)),s.y=u.y),s.id=a;const l=this.body.functions.createNode(s,UY);l.containedNodes=e,l.containedEdges=t,l.clusterEdgeProperties=r.clusterEdgeProperties,this.body.nodes[s.id]=l,this._clusterEdges(e,t,s,r.clusterEdgeProperties),s.id=void 0,n===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const t=this.clusteredEdges[e.id];t!==void 0&&(e.setOptions({physics:t.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const t=Se(e);let r=e[t[0]].x,n=e[t[0]].x,o=e[t[0]].y,s=e[t[0]].y,a;for(let u=1;u<t.length;u++)a=e[t[u]],r=a.x<r?a.x:r,n=a.x>n?a.x:n,o=a.y<o?a.y:o,s=a.y>s?a.y:s;return{x:.5*(r+n),y:.5*(o+s)}}openCluster(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const n=this.body.nodes[e];if(n===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(n.isCluster!==!0||n.containedNodes===void 0||n.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const o=this.findNode(e),s=ne(o).call(o,e)-1;if(s>=0){const d=o[s];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged");return}const a=n.containedNodes,u=n.containedEdges;if(t!==void 0&&t.releaseFunction!==void 0&&typeof t.releaseFunction=="function"){const d={},c={x:n.x,y:n.y};for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];d[f]={x:v.x,y:v.y}}const h=t.releaseFunction(c,d);for(const f in a)if(Object.prototype.hasOwnProperty.call(a,f)){const v=this.body.nodes[f];h[f]!==void 0&&(v.x=h[f].x===void 0?n.x:h[f].x,v.y=h[f].y===void 0?n.y:h[f].y)}}else Z(a,function(d){d.options.fixed.x===!1&&(d.x=n.x),d.options.fixed.y===!1&&(d.y=n.y)});for(const d in a)if(Object.prototype.hasOwnProperty.call(a,d)){const c=this.body.nodes[d];c.vx=n.vx,c.vy=n.vy,c.setOptions({physics:!0}),delete this.clusteredNodes[d]}const l=[];for(let d=0;d<n.edges.length;d++)l.push(n.edges[d]);for(let d=0;d<l.length;d++){const c=l[d],h=this._getConnectedId(c,e),f=this.clusteredNodes[h];for(let v=0;v<c.clusteringEdgeReplacingIds.length;v++){const p=c.clusteringEdgeReplacingIds[v],b=this.body.edges[p];if(b!==void 0)if(f!==void 0){const y=this.body.nodes[f.clusterId];y.containedEdges[b.id]=b,delete u[b.id];let g=b.fromId,S=b.toId;b.toId==h?S=f.clusterId:g=f.clusterId,this._createClusteredEdge(g,S,b,y.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}c.remove()}for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&this._restoreEdge(u[d]);delete this.body.nodes[e],r===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const t=[];if(this.isCluster(e)===!0){const r=this.body.nodes[e].containedNodes;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.push(this.body.nodes[n].id)}return t}findNode(e){const t=[];let n=0,o;for(;this.clusteredNodes[e]!==void 0&&n<100;){if(o=this.body.nodes[e],o===void 0)return[];t.push(o.id),e=this.clusteredNodes[e].clusterId,n++}return o=this.body.nodes[e],o===void 0?[]:(t.push(o.id),Vr(t).call(t),t)}updateClusteredNode(e,t){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(t===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(t),this.body.emitter.emit("_dataChanged")}updateEdge(e,t){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(t===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const r=this.getClusteredEdges(e);for(let n=0;n<r.length;n++)this.body.edges[r[n]].setOptions(t);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const t=[];let n=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&n<100;)t.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,n++;return Vr(t).call(t),t}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const t=[e],r=[],n=[],o=100;let s=0;for(;t.length>0&&s<o;){const a=t.pop();if(a===void 0)continue;const u=this.body.edges[a];if(u===void 0)continue;s++;const l=u.clusteringEdgeReplacingIds;if(l===void 0)n.push(a);else for(let d=0;d<l.length;++d){const c=l[d];ne(t).call(t,l)!==-1||ne(r).call(r,l)!==-1||t.push(c)}r.push(a)}return n}_getConnectedId(e,t){return e.toId!=t?e.toId:(e.fromId!=t,e.fromId)}_getHubSize(){let e=0,t=0,r=0,n=0;for(let u=0;u<this.body.nodeIndices.length;u++){const l=this.body.nodes[this.body.nodeIndices[u]];l.edges.length>n&&(n=l.edges.length),e+=l.edges.length,t+=Math.pow(l.edges.length,2),r+=1}e=e/r,t=t/r;const o=t-Math.pow(e,2),s=Math.sqrt(o);let a=Math.floor(e+2*s);return a>n&&(a=n),a}_createClusteredEdge(e,t,r,n,o){const s=Je.cloneOptions(r,"edge");he(s,n),s.from=e,s.to=t,s.id="clusterEdge:"+Bn(),o!==void 0&&he(s,o);const a=this.body.functions.createEdge(s);return a.clusteringEdgeReplacingIds=[r.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,t,r,n){if(t instanceof mr){const o=t,s={};s[o.id]=o,t=s}if(e instanceof ge){const o=e,s={};s[o.id]=o,e=s}if(r==null)throw new Error("_clusterEdges: parameter clusterNode required");n===void 0&&(n=r.clusterEdgeProperties),this._createClusterEdges(e,t,r,n);for(const o in t)if(Object.prototype.hasOwnProperty.call(t,o)&&this.body.edges[o]!==void 0){const s=this.body.edges[o];this._backupEdgeOptions(s),s.setOptions({physics:!1})}for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(this.clusteredNodes[o]={clusterId:r.id,node:this.body.nodes[o]},this.body.nodes[o].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const t=this.clusteredNodes[e];if(t===void 0)return;const r=t.clusterId;if(r!==void 0)return this.body.nodes[r]}_filter(e,t){const r=[];return Z(e,n=>{t(n)&&r.push(n)}),r}_updateState(){let e;const t=[],r={},n=u=>{Z(this.body.nodes,l=>{l.isCluster===!0&&u(l)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&t.push(e)}n(function(u){for(let l=0;l<t.length;l++)delete u.containedNodes[t[l]]});for(let u=0;u<t.length;u++)delete this.clusteredNodes[t[u]];Z(this.clusteredEdges,u=>{const l=this.body.edges[u];(l===void 0||!l.endPointsValid())&&(r[u]=u)}),n(function(u){Z(u.containedEdges,(l,d)=>{!l.endPointsValid()&&!r[d]&&(r[d]=d)})}),Z(this.body.edges,(u,l)=>{let d=!0;const c=u.clusteringEdgeReplacingIds;if(c!==void 0){let h=0;Z(c,f=>{const v=this.body.edges[f];v!==void 0&&v.endPointsValid()&&(h+=1)}),d=h>0}(!u.endPointsValid()||!d)&&(r[l]=l)}),n(u=>{Z(r,l=>{delete u.containedEdges[l],Z(u.edges,(d,c)=>{if(d.id===l){u.edges[c]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(h){return!r[h]})}),u.edges=this._filter(u.edges,function(d){return d!==null})})}),Z(r,u=>{delete this.clusteredEdges[u]}),Z(r,u=>{delete this.body.edges[u]});const o=Se(this.body.edges);Z(o,u=>{const l=this.body.edges[u],d=this._isClusteredNode(l.fromId)||this._isClusteredNode(l.toId);if(d!==this._isClusteredEdge(l.id))if(d){const c=this._getClusterNodeForNode(l.fromId);c!==void 0&&this._clusterEdges(this.body.nodes[l.fromId],l,c);const h=this._getClusterNodeForNode(l.toId);h!==void 0&&this._clusterEdges(this.body.nodes[l.toId],l,h)}else delete this._clusterEdges[u],this._restoreEdge(l)});let s=!1,a=!0;for(;a;){const u=[];n(function(l){const d=Se(l.containedNodes).length,c=l.options.allowSingleNodeCluster===!0;(c&&d<1||!c&&d<2)&&u.push(l.id)});for(let l=0;l<u.length;++l)this.openCluster(u[l],{},!1);a=u.length>0,s=s||a}s&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class GY{constructor(e,t){this.body=e,this.canvas=t,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Qt(()=>{var t;this.zooming=!1,D(t=this._requestRedraw).call(t,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",D(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&mn(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(D(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const t={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const r=this.canvas.getContext(),n=this.canvas.frame.canvas.clientWidth,o=this.canvas.frame.canvas.clientHeight;if(r.clearRect(0,0,n,o),this.canvas.frame.clientWidth===0)return;if(r.save(),r.translate(this.body.view.translation.x,this.body.view.translation.y),r.scale(this.body.view.scale,this.body.view.scale),r.beginPath(),this.body.emitter.emit("beforeDrawing",r),r.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(r),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:s}=this._drawNodes(r,e);t.drawExternalLabels=s}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(r),t.drawExternalLabels!=null&&t.drawExternalLabels(),e===!1&&this._drawSelectionBox(r),r.beginPath(),this.body.emitter.emit("afterDrawing",r),r.closePath(),r.restore(),e===!0&&r.clearRect(0,0,n,o)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const t=this.body.nodes;let r;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r=t[n],r.resize(e),r.updateBoundingBox(e,r.selected));e.restore()}_drawNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.body.nodes,n=this.body.nodeIndices;let o;const s=[],a=[],u=20,l=this.canvas.DOMtoCanvas({x:-u,y:-u}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),c={top:l.y,left:l.x,bottom:d.y,right:d.x},h=[];for(let b=0;b<n.length;b++)if(o=r[n[b]],o.hover)a.push(n[b]);else if(o.isSelected())s.push(n[b]);else if(t===!0){const y=o.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else if(o.isBoundingBoxOverlappingWith(c)===!0){const y=o.draw(e);y.drawExternalLabel!=null&&h.push(y.drawExternalLabel)}else o.updateBoundingBox(e,o.selected);let f;const v=s.length,p=a.length;for(f=0;f<v;f++){o=r[s[f]];const b=o.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}for(f=0;f<p;f++){o=r[a[f]];const b=o.draw(e);b.drawExternalLabel!=null&&h.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of h)b()}}}_drawEdges(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const o=t[r[n]];o.connected===!0&&o.draw(e)}}_drawArrows(e){const t=this.body.edges,r=this.body.edgeIndices;for(let n=0;n<r.length;n++){const o=t[r[n]];o.connected===!0&&o.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const t=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,r=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,t,r),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var Fy,wM;function KY(){if(wM)return Fy;wM=1,d2();var i=se();return Fy=i.setInterval,Fy}var Ny,EM;function YY(){return EM||(EM=1,Ny=KY()),Ny}var XY=YY(),JY=G(XY);function vs(i,e){e.inputHandler=function(t){t.isFirst&&e(t)},i.on("hammer.input",e.inputHandler)}function sB(i,e){return e.inputHandler=function(t){t.isFinal&&e(t)},i.on("hammer.input",e.inputHandler)}class ZY{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",t=>{t.width!==0&&(this.body.view.translation.x=t.width*.5),t.height!==0&&(this.body.view.translation.y=t.height*.5)}),this.body.emitter.on("setSize",D(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&mn(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var t;if(window.ResizeObserver){const n=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:o}=this;n.observe(o),this._cleanupCallbacks.push(()=>{n.unobserve(o)})}else{const n=JY(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(n)})}const r=D(t=this._onResize).call(t,this);window.addEventListener("resize",r),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",r)})}}_cleanUp(){var e,t,r;le(e=Vr(t=Zt(r=this._cleanupCallbacks).call(r,0)).call(t)).call(e,n=>{try{n()}catch(o){console.error(o)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,t=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let r=this.cameraState.scale;e!=1&&t!=1?r=this.cameraState.scale*.5*(e+t):e!=1?r=this.cameraState.scale*e:t!=1&&(r=this.cameraState.scale*t),this.body.view.scale=r;const n=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),o={x:n.x-this.cameraState.position.x,y:n.y-this.cameraState.position.y};this.body.view.translation.x+=o.x*this.body.view.scale,this.body.view.translation.y+=o.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(ne(e).call(e,"%")!==-1||ne(e).call(e,"px")!==-1)return e;if(ne(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Ai(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Ai.DIRECTION_ALL}),vs(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Ai(this.frame),sB(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),t=this._prepareValue(t);let r=!1;const n=this.frame.canvas.width,o=this.frame.canvas.height,s=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||t!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=t)this._getCameraState(s),this.frame.style.width=e,this.frame.style.height=t,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=t,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},r=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==u)&&this._getCameraState(s),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,r=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,r=!0)}return r===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(n/this.pixelRatio),oldHeight:Math.round(o/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,r}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let t=1;typeof window<"u"&&(t=window.devicePixelRatio||1);const r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return t/r}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function QY(i,e){const t=Pe({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},i??{});if(!Oe(t.nodes))throw new TypeError("Nodes has to be an array of ids.");if(t.nodes.length===0&&(t.nodes=e),!(typeof t.minZoomLevel=="number"&&t.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof t.maxZoomLevel=="number"&&t.minZoomLevel<=t.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return t}class e9{constructor(e,t){var r,n;this.body=e,this.canvas=t,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",D(r=this.fit).call(r,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",D(n=this.releaseNode).call(n,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=QY(e,this.body.nodeIndices);const r=this.canvas.frame.canvas.clientWidth,n=this.canvas.frame.canvas.clientHeight;let o,s;if(r===0||n===0)s=1,o=Je.getRange(this.body.nodes,e.nodes);else if(t===!0){let l=0;for(const h in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,h)&&this.body.nodes[h].predefinedPosition===!0&&(l+=1);if(l>.5*this.body.nodeIndices.length){this.fit(e,!1);return}o=Je.getRange(this.body.nodes,e.nodes),s=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const c=Math.min(r/600,n/600);s*=c}else{this.body.emitter.emit("_resizeNodes"),o=Je.getRange(this.body.nodes,e.nodes);const l=Math.abs(o.maxX-o.minX)*1.1,d=Math.abs(o.maxY-o.minY)*1.1,c=r/l,h=n/d;s=c<=h?c:h}s>e.maxZoomLevel?s=e.maxZoomLevel:s<e.minZoomLevel&&(s=e.minZoomLevel);const u={position:Je.findCenter(o),scale:s,animation:e.animation};this.moveTo(u)}focus(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const r={x:this.body.nodes[e].x,y:this.body.nodes[e].y};t.position=r,t.lockedOnNode=e,this.moveTo(t)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!zr(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!zr(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!zr(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!zr(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.position.x,y:t.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+r.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+r.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var n;this.viewFunction=D(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var o;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=D(o=this._transitionRedraw).call(o,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},t=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),r={x:t.x-e.x,y:t.y-e.y},n=this.body.view.translation,o={x:n.x+r.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:n.y+r.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=o}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const t=u4[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*t,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*t,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*t},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var r;this.viewFunction=D(r=this._lockedRedraw).call(r,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function SM(i){var e=i&&i.preventDefault||!1,t=i&&i.container||window,r={},n={keydown:{},keyup:{}},o={},s;for(s=97;s<=122;s++)o[String.fromCharCode(s)]={code:65+(s-97),shift:!1};for(s=65;s<=90;s++)o[String.fromCharCode(s)]={code:s,shift:!0};for(s=0;s<=9;s++)o[""+s]={code:48+s,shift:!1};for(s=1;s<=12;s++)o["F"+s]={code:111+s,shift:!1};for(s=0;s<=9;s++)o["num"+s]={code:96+s,shift:!1};o["num*"]={code:106,shift:!1},o["num+"]={code:107,shift:!1},o["num-"]={code:109,shift:!1},o["num/"]={code:111,shift:!1},o["num."]={code:110,shift:!1},o.left={code:37,shift:!1},o.up={code:38,shift:!1},o.right={code:39,shift:!1},o.down={code:40,shift:!1},o.space={code:32,shift:!1},o.enter={code:13,shift:!1},o.shift={code:16,shift:void 0},o.esc={code:27,shift:!1},o.backspace={code:8,shift:!1},o.tab={code:9,shift:!1},o.ctrl={code:17,shift:!1},o.alt={code:18,shift:!1},o.delete={code:46,shift:!1},o.pageup={code:33,shift:!1},o.pagedown={code:34,shift:!1},o["="]={code:187,shift:!1},o["-"]={code:189,shift:!1},o["]"]={code:221,shift:!1},o["["]={code:219,shift:!1};var a=function(d){l(d,"keydown")},u=function(d){l(d,"keyup")},l=function(d,c){if(n[c][d.keyCode]!==void 0){for(var h=n[c][d.keyCode],f=0;f<h.length;f++)(h[f].shift===void 0||h[f].shift==!0&&d.shiftKey==!0||h[f].shift==!1&&d.shiftKey==!1)&&h[f].fn(d);e==!0&&d.preventDefault()}};return r.bind=function(d,c,h){if(h===void 0&&(h="keydown"),o[d]===void 0)throw new Error("unsupported key: "+d);n[h][o[d].code]===void 0&&(n[h][o[d].code]=[]),n[h][o[d].code].push({fn:c,shift:o[d].shift})},r.bindAll=function(d,c){c===void 0&&(c="keydown");for(var h in o)o.hasOwnProperty(h)&&r.bind(h,d,c)},r.getKey=function(d){for(var c in o)if(o.hasOwnProperty(c)){if(d.shiftKey==!0&&o[c].shift==!0&&d.keyCode==o[c].code)return c;if(d.shiftKey==!1&&o[c].shift==!1&&d.keyCode==o[c].code)return c;if(d.keyCode==o[c].code&&c=="shift")return c}return"unknown key, currently not supported"},r.unbind=function(d,c,h){if(h===void 0&&(h="keydown"),o[d]===void 0)throw new Error("unsupported key: "+d);if(c!==void 0){var f=[],v=n[h][o[d].code];if(v!==void 0)for(var p=0;p<v.length;p++)v[p].fn==c&&v[p].shift==o[d].shift||f.push(n[h][o[d].code][p]);n[h][o[d].code]=f}else n[h][o[d].code]=[]},r.reset=function(){n={keydown:{},keyup:{}}},r.destroy=function(){n={keydown:{},keyup:{}},t.removeEventListener("keydown",a,!0),t.removeEventListener("keyup",u,!0)},t.addEventListener("keydown",a,!0),t.addEventListener("keyup",u,!0),r}class t9{constructor(e,t){this.body=e,this.canvas=t,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],t=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let s=0;s<e.length;s++){this.navigationDOM[e[s]]=document.createElement("div"),this.navigationDOM[e[s]].className="vis-button vis-"+e[s],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[s]]);const a=new Ai(this.navigationDOM[e[s]]);if(t[s]==="_fit"){var r;vs(a,D(r=this._fit).call(r,this))}else{var n;vs(a,D(n=this.bindToRedraw).call(n,this,t[s]))}this.navigationHammers.push(a)}const o=new Ai(this.canvas.frame);sB(o,()=>{this._stopMovement()}),this.navigationHammers.push(o),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var t;this.boundFunctions[e]=D(t=this[e]).call(t,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,t=this.body.view.scale*(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,o=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,t=this.body.view.scale/(1+this.options.keyboard.speed.zoom),r=this.body.view.translation,n=t/e,o=(1-n)*this.canvas.canvasViewCenter.x+r.x*n,s=(1-n)*this.canvas.canvasViewCenter.y+r.y*n;this.body.view.scale=t,this.body.view.translation={x:o,y:s},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=SM({container:window,preventDefault:!0}):this.keycharm=SM({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,t,r,n,o,s,a,u,l,d,c,h,f,v,p,b,y,g,S,m,w,O,I,_;D(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),D(t=this.keycharm).call(t,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),D(r=this.keycharm).call(r,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),D(n=this.keycharm).call(n,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),D(o=this.keycharm).call(o,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(s=this.keycharm).call(s,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(u=this.keycharm).call(u,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(l=this.keycharm).call(l,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(c=this.keycharm).call(c,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),D(h=this.keycharm).call(h,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),D(f=this.keycharm).call(f,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),D(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),D(p=this.keycharm).call(p,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),D(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),D(y=this.keycharm).call(y,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(g=this.keycharm).call(g,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(S=this.keycharm).call(S,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),D(m=this.keycharm).call(m,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),D(w=this.keycharm).call(w,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),D(O=this.keycharm).call(O,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(I=this.keycharm).call(I,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),D(_=this.keycharm).call(_,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class r9{constructor(e,t,r){var n,o,s,a,u,l,d,c,h,f,v,p,b;this.body=e,this.canvas=t,this.selectionHandler=r,this.navigationHandler=new t9(e,t),this.body.eventListeners.onTap=D(n=this.onTap).call(n,this),this.body.eventListeners.onTouch=D(o=this.onTouch).call(o,this),this.body.eventListeners.onDoubleTap=D(s=this.onDoubleTap).call(s,this),this.body.eventListeners.onHold=D(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=D(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=D(l=this.onDrag).call(l,this),this.body.eventListeners.onDragEnd=D(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=D(c=this.onMouseWheel).call(c,this),this.body.eventListeners.onPinch=D(h=this.onPinch).call(h,this),this.body.eventListeners.onMouseMove=D(f=this.onMouseMove).call(f,this),this.body.eventListeners.onRelease=D(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=D(p=this.onContext).call(p,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=D(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(cs(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),vt(this.options,e,"keyboard"),e.tooltip&&(Pe(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Lm(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-n4(this.canvas.frame.canvas),y:e.y-o4(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t)}onDoubleTap(e){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,t)}onHold(e){const t=this.getPointer(e.center),r=this.selectionHandler.options.multiselect;this.checkSelectionChanges(t,r),this.selectionHandler.commitAndEmit(t,e),this.selectionHandler.generateClickEvent("click",e,t),this.selectionHandler.generateClickEvent("hold",e,t)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const t=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,t),this.touchTime=new Date().valueOf()}}onContext(e){const t=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,t)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,t){const r=function(n,o){const s=[];for(let a=0;a<n.length;a++){const u=n[a];ne(o).call(o,u)===-1&&s.push(u)}return s};return{nodes:r(e.nodes,t.nodes),edges:r(e.edges,t.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const t=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Pe({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const r=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)}}else if(t!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=t.id,t.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[t.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const r of this.selectionHandler.getSelectedNodes()){const n={id:r.id,node:r,x:r.x,y:r.y,xFixed:r.options.fixed.x,yFixed:r.options.fixed.y};r.options.fixed.x=!0,r.options.fixed.y=!0,this.drag.selection.push(n)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const t=this.getPointer(e.center),r=this.drag.selection;if(r&&r.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,t);const n=t.x-this.drag.pointer.x,o=t.y-this.drag.pointer.y;le(r).call(r,s=>{const a=s.node;s.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(s.x)+n)),s.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(s.y)+o))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(t.x),y:this.canvas._YconvertDOMtoCanvas(t.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,t,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const n=t.x-this.drag.pointer.x,o=t.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+n,y:this.drag.translation.y+o},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var t;this.body.selectionBox.show=!1;const r=this.body.selectionBox.position,n={minX:Math.min(r.start.x,r.end.x),minY:Math.min(r.start.y,r.end.y),maxX:Math.max(r.start.x,r.end.x),maxY:Math.max(r.start.y,r.end.y)},o=it(t=this.body.nodeIndices).call(t,a=>{const u=this.body.nodes[a];return u.x>=n.minX&&u.x<=n.maxX&&u.y>=n.minY&&u.y<=n.maxY});le(o).call(o,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const s=this.getPointer(e.center);this.selectionHandler.commitAndEmit(s,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const r=this.drag.selection;r&&r.length?(le(r).call(r,function(n){n.node.options.fixed.x=n.xFixed,n.node.options.fixed.y=n.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const t=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const r=this.pinch.scale*e.scale;this.zoom(r,t)}zoom(e,t){if(this.options.zoomView===!0){const r=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let n;this.drag!==void 0&&this.drag.dragging===!0&&(n=this.canvas.DOMtoCanvas(this.drag.pointer));const o=this.body.view.translation,s=e/r,a=(1-s)*t.x+o.x*s,u=(1-s)*t.y+o.y*s;if(this.body.view.scale=e,this.body.view.translation={x:a,y:u},n!=null){const l=this.canvas.canvasToDOM(n);this.drag.pointer.x=l.x,this.drag.pointer.y=l.y}this.body.emitter.emit("_requestRedraw"),r<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:t}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:t})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let t=this.body.view.scale;t*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const r=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(t,r)}e.preventDefault()}}onMouseMove(e){const t=this.getPointer({x:e.clientX,y:e.clientY});let r=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(t),this.popup.hidden===!1&&(r=!0,this.popup.setPosition(t.x+3,t.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),r===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Qt(()=>this._checkShowPopup(t),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,t)}_checkShowPopup(e){const t=this.canvas._XconvertDOMtoCanvas(e.x),r=this.canvas._YconvertDOMtoCanvas(e.y),n={left:t,top:r,right:t,bottom:r},o=this.popupObj===void 0?void 0:this.popupObj.id;let s=!1,a="node";if(this.popupObj===void 0){const u=this.body.nodeIndices,l=this.body.nodes;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(n)===!0&&(s=!0,d.getTitle()!==void 0&&c.push(u[h]));c.length>0&&(this.popupObj=l[c[c.length-1]],s=!0)}if(this.popupObj===void 0&&s===!1){const u=this.body.edgeIndices,l=this.body.edges;let d;const c=[];for(let h=0;h<u.length;h++)d=l[u[h]],d.isOverlappingWith(n)===!0&&d.connected===!0&&d.getTitle()!==void 0&&c.push(u[h]);c.length>0&&(this.popupObj=l[c[c.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==o&&(this.popup===void 0&&(this.popup=new g4(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const t=this.selectionHandler._pointerToPositionObject(e);let r=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(r=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(t),r===!0)){const n=this.selectionHandler.getNodeAt(e);r=n===void 0?!1:n.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(r=this.body.edges[this.popup.popupTargetId].isOverlappingWith(t));r===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var OM={},IM={},$M;function i9(){if($M)return IM;$M=1;var i=r1(),e=Y2();return i("Set",function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},e),IM}var TM;function n9(){return TM||(TM=1,i9()),OM}var PM={},ky,RM;function mi(){if(RM)return ky;RM=1;var i=sn(),e=TypeError;return ky=function(t){if(typeof t=="object"&&"size"in t&&"has"in t&&"add"in t&&"delete"in t&&"keys"in t)return t;throw new e(i(t)+" is not a set")},ky}var By,qM;function bi(){if(qM)return By;qM=1;var i=ht(),e=X2(),t=i("Set"),r=t.prototype;return By={Set:t,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:r},By}var jy,CM;function _i(){if(CM)return jy;CM=1;var i=lt();return jy=function(e,t,r){for(var n=r?e:e.iterator,o=e.next,s,a;!(s=i(o,n)).done;)if(a=t(s.value),a!==void 0)return a},jy}var Ly,xM;function Mo(){if(xM)return Ly;xM=1;var i=_i();return Ly=function(e,t,r){return r?i(e.keys(),t,!0):e.forEach(t)},Ly}var zy,DM;function l1(){if(DM)return zy;DM=1;var i=bi(),e=Mo(),t=i.Set,r=i.add;return zy=function(n){var o=new t;return e(n,function(s){r(o,s)}),o},zy}var Wy,AM;function Fo(){return AM||(AM=1,Wy=function(i){return i.size}),Wy}var Hy,MM;function o9(){return MM||(MM=1,Hy=function(i){return{iterator:i,next:i.next,done:!1}}),Hy}var Uy,FM;function wi(){if(FM)return Uy;FM=1;var i=ar(),e=Ut(),t=lt(),r=dn(),n=o9(),o="Invalid size",s=RangeError,a=TypeError,u=Math.max,l=function(d,c){this.set=d,this.size=u(c,0),this.has=i(d.has),this.keys=i(d.keys)};return l.prototype={getIterator:function(){return n(e(t(this.keys,this.set)))},includes:function(d){return t(this.has,this.set,d)}},Uy=function(d){e(d);var c=+d.size;if(c!==c)throw new a(o);var h=r(c);if(h<0)throw new s(o);return new l(d,h)},Uy}var Vy,NM;function s9(){if(NM)return Vy;NM=1;var i=mi(),e=bi(),t=l1(),r=Fo(),n=wi(),o=Mo(),s=_i(),a=e.has,u=e.remove;return Vy=function(d){var c=i(this),h=n(d),f=t(c);return r(c)<=h.size?o(c,function(v){h.includes(v)&&u(f,v)}):s(h.getIterator(),function(v){a(f,v)&&u(f,v)}),f},Vy}var Gy,kM;function Ei(){return kM||(kM=1,Gy=function(){return!1}),Gy}var BM;function a9(){if(BM)return PM;BM=1;var i=z(),e=s9(),t=te(),r=Ei(),n=!r("difference",function(s){return s.size===0}),o=n||t(function(){var s={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var l=u++>1;return a.has(1)&&a.clear(),{done:l,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(s).size!==3});return i({target:"Set",proto:!0,real:!0,forced:o},{difference:e}),PM}var jM={},Ky,LM;function u9(){if(LM)return Ky;LM=1;var i=mi(),e=bi(),t=Fo(),r=wi(),n=Mo(),o=_i(),s=e.Set,a=e.add,u=e.has;return Ky=function(d){var c=i(this),h=r(d),f=new s;return t(c)>h.size?o(h.getIterator(),function(v){u(c,v)&&a(f,v)}):n(c,function(v){h.includes(v)&&a(f,v)}),f},Ky}var zM;function l9(){if(zM)return jM;zM=1;var i=z(),e=te(),t=u9(),r=Ei(),n=!r("intersection",function(o){return o.size===2&&o.has(1)&&o.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return i({target:"Set",proto:!0,real:!0,forced:n},{intersection:t}),jM}var WM={},Yy,HM;function d9(){if(HM)return Yy;HM=1;var i=mi(),e=bi().has,t=Fo(),r=wi(),n=Mo(),o=_i(),s=e1();return Yy=function(u){var l=i(this),d=r(u);if(t(l)<=d.size)return n(l,function(h){if(d.includes(h))return!1},!0)!==!1;var c=d.getIterator();return o(c,function(h){if(e(l,h))return s(c,"normal",!1)})!==!1},Yy}var UM;function c9(){if(UM)return WM;UM=1;var i=z(),e=d9(),t=Ei(),r=!t("isDisjointFrom",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isDisjointFrom:e}),WM}var VM={},Xy,GM;function h9(){if(GM)return Xy;GM=1;var i=mi(),e=Fo(),t=Mo(),r=wi();return Xy=function(o){var s=i(this),a=r(o);return e(s)>a.size?!1:t(s,function(u){if(!a.includes(u))return!1},!0)!==!1},Xy}var KM;function f9(){if(KM)return VM;KM=1;var i=z(),e=h9(),t=Ei(),r=!t("isSubsetOf",function(n){return n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSubsetOf:e}),VM}var YM={},Jy,XM;function v9(){if(XM)return Jy;XM=1;var i=mi(),e=bi().has,t=Fo(),r=wi(),n=_i(),o=e1();return Jy=function(a){var u=i(this),l=r(a);if(t(u)<l.size)return!1;var d=l.getIterator();return n(d,function(c){if(!e(u,c))return o(d,"normal",!1)})!==!1},Jy}var JM;function p9(){if(JM)return YM;JM=1;var i=z(),e=v9(),t=Ei(),r=!t("isSupersetOf",function(n){return!n});return i({target:"Set",proto:!0,real:!0,forced:r},{isSupersetOf:e}),YM}var ZM={},Zy,QM;function g9(){if(QM)return Zy;QM=1;var i=mi(),e=bi(),t=l1(),r=wi(),n=_i(),o=e.add,s=e.has,a=e.remove;return Zy=function(l){var d=i(this),c=r(l).getIterator(),h=t(d);return n(c,function(f){s(d,f)?a(h,f):o(h,f)}),h},Zy}var Qy,eF;function aB(){return eF||(eF=1,Qy=function(i){try{var e=new Set,t={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},r=e[i](t);return r.size===1&&r.values().next().value===4}catch{return!1}}),Qy}var tF;function y9(){if(tF)return ZM;tF=1;var i=z(),e=g9(),t=aB(),r=Ei(),n=!r("symmetricDifference")||!t("symmetricDifference");return i({target:"Set",proto:!0,real:!0,forced:n},{symmetricDifference:e}),ZM}var rF={},em,iF;function m9(){if(iF)return em;iF=1;var i=mi(),e=bi().add,t=l1(),r=wi(),n=_i();return em=function(s){var a=i(this),u=r(s).getIterator(),l=t(a);return n(u,function(d){e(l,d)}),l},em}var nF;function b9(){if(nF)return rF;nF=1;var i=z(),e=m9(),t=aB(),r=Ei(),n=!r("union")||!t("union");return i({target:"Set",proto:!0,real:!0,forced:n},{union:e}),rF}var tm,oF;function _9(){if(oF)return tm;oF=1,vn(),n9(),a9(),l9(),c9(),f9(),p9(),y9(),b9(),n1();var i=se();return tm=i.Set,tm}var rm,sF;function w9(){if(sF)return rm;sF=1;var i=_9();return pn(),rm=i,rm}var im,aF;function E9(){return aF||(aF=1,im=w9()),im}var S9=E9(),cr=G(S9),uF={},lF={},nm,dF;function O9(){if(dF)return nm;dF=1;var i=re(),e=i1(),t=Vs().getWeakData,r=t1(),n=Ut(),o=rn(),s=ze(),a=Gs(),u=Pr(),l=Ue(),d=pi(),c=d.set,h=d.getterFor,f=u.find,v=u.findIndex,p=i([].splice),b=0,y=function(m){return m.frozen||(m.frozen=new g)},g=function(){this.entries=[]},S=function(m,w){return f(m.entries,function(O){return O[0]===w})};return g.prototype={get:function(m){var w=S(this,m);if(w)return w[1]},has:function(m){return!!S(this,m)},set:function(m,w){var O=S(this,m);O?O[1]=w:this.entries.push([m,w])},delete:function(m){var w=v(this.entries,function(O){return O[0]===m});return~w&&p(this.entries,w,1),!!~w}},nm={getConstructor:function(m,w,O,I){var _=m(function(P,R){r(P,E),c(P,{type:w,id:b++,frozen:null}),o(R)||a(R,P[I],{that:P,AS_ENTRIES:O})}),E=_.prototype,$=h(w),T=function(P,R,C){var M=$(P),K=t(n(R),!0);return K===!0?y(M).set(R,C):K[M.id]=C,P};return e(E,{delete:function(P){var R=$(this);if(!s(P))return!1;var C=t(P);return C===!0?y(R).delete(P):C&&l(C,R.id)&&delete C[R.id]},has:function(R){var C=$(this);if(!s(R))return!1;var M=t(R);return M===!0?y(C).has(R):M&&l(M,C.id)}}),e(E,O?{get:function(R){var C=$(this);if(s(R)){var M=t(R);if(M===!0)return y(C).get(R);if(M)return M[C.id]}},set:function(R,C){return T(this,R,C)}}:{add:function(R){return T(this,R,!0)}}),_}},nm}var cF;function I9(){if(cF)return lF;cF=1;var i=G2(),e=ye(),t=re(),r=i1(),n=Vs(),o=r1(),s=O9(),a=ze(),u=pi().enforce,l=te(),d=Yk(),c=Object,h=Array.isArray,f=c.isExtensible,v=c.isFrozen,p=c.isSealed,b=c.freeze,y=c.seal,g=!e.ActiveXObject&&"ActiveXObject"in e,S,m=function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},w=o("WeakMap",m,s),O=w.prototype,I=t(O.set),_=function(){return i&&l(function(){var P=b([]);return I(new w,P,1),!v(P)})};if(d)if(g){S=s.getConstructor(m,"WeakMap",!0),n.enable();var E=t(O.delete),$=t(O.has),T=t(O.get);r(O,{delete:function(P){if(a(P)&&!f(P)){var R=u(this);return R.frozen||(R.frozen=new S),E(this,P)||R.frozen.delete(P)}return E(this,P)},has:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new S),$(this,R)||C.frozen.has(R)}return $(this,R)},get:function(R){if(a(R)&&!f(R)){var C=u(this);return C.frozen||(C.frozen=new S),$(this,R)?T(this,R):C.frozen.get(R)}return T(this,R)},set:function(R,C){if(a(R)&&!f(R)){var M=u(this);M.frozen||(M.frozen=new S),$(this,R)?I(this,R,C):M.frozen.set(R,C)}else I(this,R,C);return this}})}else _()&&r(O,{set:function(R,C){var M;return h(R)&&(v(R)?M=b:p(R)&&(M=y)),I(this,R,C),M&&M(R),this}});return lF}var hF;function $9(){return hF||(hF=1,I9()),uF}var om,fF;function T9(){if(fF)return om;fF=1,vn(),$9();var i=se();return om=i.WeakMap,om}var sm,vF;function P9(){if(vF)return sm;vF=1;var i=T9();return pn(),sm=i,sm}var am,pF;function R9(){return pF||(pF=1,am=P9()),am}var q9=R9(),No=G(q9);function jn(i,e,t){C9(i,e),e.set(i,t)}function C9(i,e){if(e.has(i))throw new TypeError("Cannot initialize the same private elements twice on an object")}function Gm(i,e,t){return i.set(uB(i,e),t),t}function ce(i,e){return i.get(uB(i,e))}function uB(i,e,t){if(typeof i=="function"?i===e:i.has(e))return arguments.length<3?e:t;throw new TypeError("Private element is not present on this object")}function gF(i,e){const t=new cr;for(const r of e)i.has(r)||t.add(r);return t}var Ii=new No,Tt=new No;class yF{constructor(){jn(this,Ii,new cr),jn(this,Tt,new cr)}get size(){return ce(Tt,this).size}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)ce(Tt,this).add(n)}delete(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];for(const n of t)ce(Tt,this).delete(n)}clear(){ce(Tt,this).clear()}getSelection(){return[...ce(Tt,this)]}getChanges(){return{added:[...gF(ce(Ii,this),ce(Tt,this))],deleted:[...gF(ce(Tt,this),ce(Ii,this))],previous:[...new cr(ce(Ii,this))],current:[...new cr(ce(Tt,this))]}}commit(){const e=this.getChanges();Gm(Ii,this,ce(Tt,this)),Gm(Tt,this,new cr(ce(Ii,this)));for(const t of e.added)t.select();for(const t of e.deleted)t.unselect();return e}}var Nr=new No,kr=new No,um=new No;class x9{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};jn(this,Nr,new yF),jn(this,kr,new yF),jn(this,um,void 0),Gm(um,this,e)}get sizeNodes(){return ce(Nr,this).size}get sizeEdges(){return ce(kr,this).size}getNodes(){return ce(Nr,this).getSelection()}getEdges(){return ce(kr,this).getSelection()}addNodes(){ce(Nr,this).add(...arguments)}addEdges(){ce(kr,this).add(...arguments)}deleteNodes(e){ce(Nr,this).delete(e)}deleteEdges(e){ce(kr,this).delete(e)}clear(){ce(Nr,this).clear(),ce(kr,this).clear()}commit(){const e={nodes:ce(Nr,this).commit(),edges:ce(kr,this).commit()};for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ce(um,this).call(this,e,...r),e}}class D9{constructor(e,t){this.body=e,this.canvas=t,this._selectionAccumulator=new x9,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Pe(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&mn(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),r!==void 0&&(t=this.selectObject(r)),this.body.emitter.emit("_requestRedraw")}return t}selectAdditionalOnPoint(e){let t=!1;if(this.options.selectable===!0){const r=this.getNodeAt(e)||this.getEdgeAt(e);r!==void 0&&(t=!0,r.isSelected()===!0?this.deselectObject(r):this.selectObject(r),this.body.emitter.emit("_requestRedraw"))}return t}_initBaseEvent(e,t){const r={};return r.pointer={DOM:{x:t.x,y:t.y},canvas:this.canvas.DOMtoCanvas(t)},r.event=e,r}generateClickEvent(e,t,r,n){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const s=this._initBaseEvent(t,r);if(o===!0)s.nodes=[],s.edges=[];else{const a=this.getSelection();s.nodes=a.nodes,s.edges=a.edges}n!==void 0&&(s.previousSelection=n),e=="click"&&(s.items=this.getClickedItems(r)),t.controlEdge!==void 0&&(s.controlEdge=t.controlEdge),this.body.emitter.emit(e,s)}selectObject(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof ge?(t===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const t=[],r=this.body.nodes;for(let n=0;n<this.body.nodeIndices.length;n++){const o=this.body.nodeIndices[n];r[o].isOverlappingWith(e)&&t.push(o)}return t}_pointerToPositionObject(e){const t=this.canvas.DOMtoCanvas(e);return{left:t.x-1,top:t.y+1,right:t.x+1,bottom:t.y-1}}getNodeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this._pointerToPositionObject(e),n=this._getAllNodesOverlappingWith(r);if(n.length>0)return t===!0?this.body.nodes[n[n.length-1]]:n[n.length-1]}_getEdgesOverlappingWith(e,t){const r=this.body.edges;for(let n=0;n<this.body.edgeIndices.length;n++){const o=this.body.edgeIndices[n];r[o].isOverlappingWith(e)&&t.push(o)}}_getAllEdgesOverlappingWith(e){const t=[];return this._getEdgesOverlappingWith(e,t),t}getEdgeAt(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const r=this.canvas.DOMtoCanvas(e);let n=10,o=null;const s=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const u=this.body.edgeIndices[a],l=s[u];if(l.connected){const d=l.from.x,c=l.from.y,h=l.to.x,f=l.to.y,v=l.edgeType.getDistanceToEdge(d,c,h,f,r.x,r.y);v<n&&(o=u,n=v)}}if(o!==null)return t===!0?this.body.edges[o]:o}_addToHover(e){e instanceof ge?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof ge?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let t=0;t<e.edges.length;t++){const r=e.edges[t];r.hover=!0,this._addToHover(r)}}emitBlurEvent(e,t,r){const n=this._initBaseEvent(e,t);r.hover===!0&&(r.hover=!1,r instanceof ge?(n.node=r.id,this.body.emitter.emit("blurNode",n)):(n.edge=r.id,this.body.emitter.emit("blurEdge",n)))}emitHoverEvent(e,t,r){const n=this._initBaseEvent(e,t);let o=!1;return r.hover===!1&&(r.hover=!0,this._addToHover(r),o=!0,r instanceof ge?(n.node=r.id,this.body.emitter.emit("hoverNode",n)):(n.edge=r.id,this.body.emitter.emit("hoverEdge",n))),o}hoverObject(e,t){let r=this.getNodeAt(t);r===void 0&&(r=this.getEdgeAt(t));let n=!1;for(const o in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,o)&&(r===void 0||r instanceof ge&&r.id!=o||r instanceof mr)&&(this.emitBlurEvent(e,t,this.hoverObj.nodes[o]),delete this.hoverObj.nodes[o],n=!0);for(const o in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,o)&&(n===!0?(this.hoverObj.edges[o].hover=!1,delete this.hoverObj.edges[o]):(r===void 0||r instanceof mr&&r.id!=o||r instanceof ge&&!r.hover)&&(this.emitBlurEvent(e,t,this.hoverObj.edges[o]),delete this.hoverObj.edges[o],n=!0));if(r!==void 0){const o=Se(this.hoverObj.edges).length,s=Se(this.hoverObj.nodes).length,a=r instanceof mr&&o===0&&s===0,u=r instanceof ge&&o===0&&s===0;(n||a||u)&&(n=this.emitHoverEvent(e,t,r)),r instanceof ge&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(r)}n===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,t){let r=!1;const n=this._selectionAccumulator.commit(),o={nodes:n.nodes.previous,edges:n.edges.previous};n.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",t,e,o),r=!0),n.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",t,e,o),r=!0),n.nodes.added.length>0&&(this.generateClickEvent("selectNode",t,e),r=!0),n.edges.added.length>0&&(this.generateClickEvent("selectEdge",t,e),r=!0),r===!0&&this.generateClickEvent("select",t,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return ji(e=this._selectionAccumulator.getNodes()).call(e,t=>t.id)}getSelectedEdgeIds(){var e;return ji(e=this._selectionAccumulator.getEdges()).call(e,t=>t.id)}setSelection(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((t.unselectAll||t.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const r of e.nodes){const n=this.body.nodes[r];if(!n)throw new RangeError('Node with id "'+r+'" not found');this.selectObject(n,t.highlightEdges)}if(e.edges)for(const r of e.edges){const n=this.body.edges[r];if(!n)throw new RangeError('Edge with id "'+r+'" not found');this.selectObject(n)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:t})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const t=this.canvas.DOMtoCanvas(e),r=[],n=this.body.nodeIndices,o=this.body.nodes;for(let u=n.length-1;u>=0;u--){const d=o[n[u]].getItemsOnPoint(t);r.push.apply(r,d)}const s=this.body.edgeIndices,a=this.body.edges;for(let u=s.length-1;u>=0;u--){const d=a[s[u]].getItemsOnPoint(t);r.push.apply(r,d)}return r}}var mF={},lm,bF;function A9(){if(bF)return lm;bF=1;var i=cn(),e=Math.floor,t=function(r,n){var o=r.length;if(o<8)for(var s=1,a,u;s<o;){for(u=s,a=r[s];u&&n(r[u-1],a)>0;)r[u]=r[--u];u!==s++&&(r[u]=a)}else for(var l=e(o/2),d=t(i(r,0,l),n),c=t(i(r,l),n),h=d.length,f=c.length,v=0,p=0;v<h||p<f;)r[v+p]=v<h&&p<f?n(d[v],c[p])<=0?d[v++]:c[p++]:v<h?d[v++]:c[p++];return r};return lm=t,lm}var dm,_F;function M9(){if(_F)return dm;_F=1;var i=nn(),e=i.match(/firefox\/(\d+)/i);return dm=!!e&&+e[1],dm}var cm,wF;function F9(){if(wF)return cm;wF=1;var i=nn();return cm=/MSIE|Trident/.test(i),cm}var hm,EF;function N9(){if(EF)return hm;EF=1;var i=nn(),e=i.match(/AppleWebKit\/(\d+)\./);return hm=!!e&&+e[1],hm}var SF;function k9(){if(SF)return mF;SF=1;var i=z(),e=re(),t=ar(),r=ft(),n=ur(),o=s2(),s=Et(),a=te(),u=A9(),l=gn(),d=M9(),c=F9(),h=wo(),f=N9(),v=[],p=e(v.sort),b=e(v.push),y=a(function(){v.sort(void 0)}),g=a(function(){v.sort(null)}),S=l("sort"),m=!a(function(){if(h)return h<70;if(!(d&&d>3)){if(c)return!0;if(f)return f<603;var I="",_,E,$,T;for(_=65;_<76;_++){switch(E=String.fromCharCode(_),_){case 66:case 69:case 70:case 72:$=3;break;case 68:case 71:$=4;break;default:$=2}for(T=0;T<47;T++)v.push({k:E+T,v:$})}for(v.sort(function(P,R){return R.v-P.v}),T=0;T<v.length;T++)E=v[T].k.charAt(0),I.charAt(I.length-1)!==E&&(I+=E);return I!=="DGBEFHACIJK"}}),w=y||!g||!S||!m,O=function(I){return function(_,E){return E===void 0?-1:_===void 0?1:I!==void 0?+I(_,E)||0:s(_)>s(E)?1:-1}};return i({target:"Array",proto:!0,forced:w},{sort:function(_){_!==void 0&&t(_);var E=r(this);if(m)return _===void 0?p(E):p(E,_);var $=[],T=n(E),P,R;for(R=0;R<T;R++)R in E&&b($,E[R]);for(u($,O(_)),P=n($),R=0;R<P;)E[R]=$[R++];for(;R<T;)o(E,R++);return E}}),mF}var fm,OF;function B9(){if(OF)return fm;OF=1,k9();var i=Ve();return fm=i("Array","sort"),fm}var vm,IF;function j9(){if(IF)return vm;IF=1;var i=xe(),e=B9(),t=Array.prototype;return vm=function(r){var n=r.sort;return r===t||i(t,r)&&n===t.sort?e:n},vm}var pm,$F;function L9(){if($F)return pm;$F=1;var i=j9();return pm=i,pm}var gm,TF;function z9(){return TF||(TF=1,gm=L9()),gm}var W9=z9(),Fi=G(W9),PF={},ym,RF;function H9(){if(RF)return ym;RF=1;var i=ar(),e=ft(),t=xs(),r=ur(),n=TypeError,o="Reduce of empty array with no initial value",s=function(a){return function(u,l,d,c){var h=e(u),f=t(h),v=r(h);if(i(l),v===0&&d<2)throw new n(o);var p=a?v-1:0,b=a?-1:1;if(d<2)for(;;){if(p in f){c=f[p],p+=b;break}if(p+=b,a?p<0:v<=p)throw new n(o)}for(;a?p>=0:v>p;p+=b)p in f&&(c=l(c,f[p],p,h));return c}};return ym={left:s(!1),right:s(!0)},ym}var mm,qF;function U9(){if(qF)return mm;qF=1;var i=u2();return mm=i==="NODE",mm}var CF;function V9(){if(CF)return PF;CF=1;var i=z(),e=H9().left,t=gn(),r=wo(),n=U9(),o=!n&&r>79&&r<83,s=o||!t("reduce");return i({target:"Array",proto:!0,forced:s},{reduce:function(u){var l=arguments.length;return e(this,u,l,l>1?arguments[1]:void 0)}}),PF}var bm,xF;function G9(){if(xF)return bm;xF=1,V9();var i=Ve();return bm=i("Array","reduce"),bm}var _m,DF;function K9(){if(DF)return _m;DF=1;var i=xe(),e=G9(),t=Array.prototype;return _m=function(r){var n=r.reduce;return r===t||i(t,r)&&n===t.reduce?e:n},_m}var wm,AF;function Y9(){if(AF)return wm;AF=1;var i=K9();return wm=i,wm}var Em,MF;function X9(){return MF||(MF=1,Em=Y9()),Em}var J9=X9(),lB=G(J9);class dB{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,t,r),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,t){this.fake_use(e,t),this.abstract()}shift(e,t){this.fake_use(e,t),this.abstract()}}class Z9 extends dB{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.x=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_x,max:t.max_x}}sort(e){Fi(e).call(e,function(t,r){return t.x-r.x})}fix(e,t){e.y=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.y=!0}shift(e,t){this.layout.body.nodes[e].x+=t}}class Q9 extends dB{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;r!==void 0&&this.layout.hierarchical.addToOrdering(e,r),e.y=t}getTreeSize(e){const t=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:t.min_y,max:t.max_y}}sort(e){Fi(e).call(e,function(t,r){return t.y-r.y})}fix(e,t){e.x=this.layout.options.hierarchical.levelSeparation*t,e.options.fixed.x=!0}shift(e,t){this.layout.body.nodes[e].y+=t}}var FF={},NF;function e7(){if(NF)return FF;NF=1;var i=z(),e=Pr().every,t=gn(),r=t("every");return i({target:"Array",proto:!0,forced:!r},{every:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),FF}var Sm,kF;function t7(){if(kF)return Sm;kF=1,e7();var i=Ve();return Sm=i("Array","every"),Sm}var Om,BF;function r7(){if(BF)return Om;BF=1;var i=xe(),e=t7(),t=Array.prototype;return Om=function(r){var n=r.every;return r===t||i(t,r)&&n===t.every?e:n},Om}var Im,jF;function i7(){if(jF)return Im;jF=1;var i=r7();return Im=i,Im}var $m,LF;function n7(){return LF||(LF=1,$m=i7()),$m}var o7=n7(),cB=G(o7);function s7(i,e){const t=new cr;return le(i).call(i,r=>{var n;le(n=r.edges).call(n,o=>{o.connected&&t.add(o)})}),le(t).call(t,r=>{const n=r.from.id,o=r.to.id;e[n]==null&&(e[n]=0),(e[o]==null||e[n]>=e[o])&&(e[o]=e[n]+1)}),e}function a7(i){return hB(e=>{var t,r;return cB(t=it(r=e.edges).call(r,n=>i.has(n.toId))).call(t,n=>n.to===e)},(e,t)=>t>e,"from",i)}function u7(i){return hB(e=>{var t,r;return cB(t=it(r=e.edges).call(r,n=>i.has(n.toId))).call(t,n=>n.from===e)},(e,t)=>t<e,"to",i)}function hB(i,e,t,r){var n;const o=Gr(null),s=lB(n=[...rB(r).call(r)]).call(n,(c,h)=>c+1+h.edges.length,0),a=t+"Id",u=t==="to"?1:-1;for(const[c,h]of r){if(!r.has(c)||!i(h))continue;o[c]=0;const f=[h];let v=0,p;for(;p=f.pop();){var l,d;if(!r.has(c))continue;const b=o[p.id]+u;if(le(l=it(d=p.edges).call(d,y=>y.connected&&y.to!==y.from&&y[t]!==p&&r.has(y.toId)&&r.has(y.fromId))).call(l,y=>{const g=y[a],S=o[g];(S==null||e(b,S))&&(o[g]=b,f.push(y[t]))}),v>s)return s7(r,o);++v}}return o}class l7{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,t){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(t),this.parentReference[t]===void 0&&(this.parentReference[t]=[]),this.parentReference[t].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,t){t!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=t,this.treeIndex=Math.max(t,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const t={},r=n=>{if(t[n]!==void 0)return t[n];let o=this.levels[n];if(this.childrenReference[n]){const s=this.childrenReference[n];if(s.length>0)for(let a=0;a<s.length;a++)o=Math.max(o,r(s[a]))}return t[n]=o,o};return r(e)}levelDownstream(e,t){this.levels[t.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[t.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const t=new o1;let r=0;const n=Fi(e=[...new cr(OG(this.levels))]).call(e,(o,s)=>o-s);for(const o of n)t.set(o,r++);for(const o in this.levels)Object.prototype.hasOwnProperty.call(this.levels,o)&&(this.levels[o]=t.get(this.levels[o]))}getTreeSize(e,t){let r=1e9,n=-1e9,o=1e9,s=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===t){const u=e[a];r=Math.min(u.x,r),n=Math.max(u.x,n),o=Math.min(u.y,o),s=Math.max(u.y,s)}return{min_x:r,max_x:n,min_y:o,max_y:s}}hasSameParent(e,t){const r=this.parentReference[e.id],n=this.parentReference[t.id];if(r===void 0||n===void 0)return!1;for(let o=0;o<r.length;o++)for(let s=0;s<n.length;s++)if(r[o]==n[s])return!0;return!1}inSameSubNetwork(e,t){return this.trees[e.id]===this.trees[t.id]}getLevels(){return Se(this.distributionOrdering)}addToOrdering(e,t){this.distributionOrdering[t]===void 0&&(this.distributionOrdering[t]=[]);let r=!1;const n=this.distributionOrdering[t];for(const o in n)if(n[o]===e){r=!0;break}r||(this.distributionOrdering[t].push(e),this.distributionIndex[e.id]=this.distributionOrdering[t].length-1)}}class d7{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+as()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Pe(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,t){if(e!==void 0){const r=this.options.hierarchical,n=r.enabled;if(mn(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),vt(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),r.enabled===!0)return n===!0&&this.body.emitter.emit("refresh",!0),r.direction==="RL"||r.direction==="DU"?r.levelSeparation>0&&(r.levelSeparation*=-1):r.levelSeparation<0&&(r.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(t);if(n===!0)return this.body.emitter.emit("refresh"),he(t,this.optionsBackup)}return t}_resetRNG(e){this.initialRandomSeed=e,this._rng=Us(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const t=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:t.enabled===void 0?!0:t.enabled,solver:"hierarchicalRepulsion"},t.enabled=t.enabled===void 0?!0:t.enabled,t.solver=t.solver||"barnesHut"):typeof e.physics=="object"?(t.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,t.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(t.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let r=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:r};else{const n=e.edges.smooth;n.type!==void 0&&n.type!=="dynamic"&&(r=n.type),this.optionsBackup.edges={smooth:{enabled:n.enabled===void 0?!0:n.enabled,type:n.type===void 0?"dynamic":n.type,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}},e.edges.smooth={enabled:n.enabled===void 0?!0:n.enabled,type:r,roundness:n.roundness===void 0?.5:n.roundness,forceDirection:n.forceDirection===void 0?!1:n.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",r)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const t=e.length+50;for(let r=0;r<e.length;r++){const n=e[r],o=2*Math.PI*this._rng();n.x===void 0&&(n.x=t*Math.cos(o)),n.y===void 0&&(n.y=t*Math.sin(o))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let t=0;for(let r=0;r<e.length;r++)this.body.nodes[e[r]].predefinedPosition===!0&&(t+=1);if(t<.5*e.length){let n=0;const o=this.options.clusterThreshold,s={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>o){const u=e.length;for(;e.length>o&&n<=10;){n+=1;const l=e.length;n%3===0?this.body.modules.clustering.clusterBridges(s):this.body.modules.clustering.clusterOutliers(s);const d=e.length;if(l==d&&n%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}n>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let u=0;u<e.length;u++){const l=this.body.nodes[e[u]];l.predefinedPosition===!1&&(l.x+=(.5-this._rng())*a,l.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Je.getRangeCore(this.body.nodes,this.body.nodeIndices),t=Je.findCenter(e);for(let r=0;r<this.body.nodeIndices.length;r++){const n=this.body.nodes[this.body.nodeIndices[r]];n.x-=t.x,n.y-=t.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let t=0;t<this.body.nodeIndices.length;t++)this.body.nodes[this.body.nodeIndices[t]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[t],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,t,r=!1,n=!1;this.lastNodeOnLevel={},this.hierarchical=new l7;for(t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&(e=this.body.nodes[t],e.options.level!==void 0?(r=!0,this.hierarchical.levels[t]=e.options.level):n=!0);if(n===!0&&r===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(n===!0){const s=this.options.hierarchical.sortMethod;s==="hubsize"?this._determineLevelsByHubsize():s==="directed"?this._determineLevelsDirected():s==="custom"&&this._determineLevelsCustomCallback()}for(const s in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,s)&&this.hierarchical.ensureLevel(s);const o=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(o),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let t=!1;const r={},n=()=>{const y=s();let g=0;for(let S=0;S<y.length-1;S++){const m=y[S].max-y[S+1].min;g+=m+this.options.hierarchical.treeSpacing,o(S+1,g)}},o=(y,g)=>{const S=this.hierarchical.trees;for(const m in S)Object.prototype.hasOwnProperty.call(S,m)&&S[m]===y&&this.direction.shift(m,g)},s=()=>{const y=[];for(let g=0;g<this.hierarchical.numTrees();g++)y.push(this.direction.getTreeSize(g));return y},a=(y,g)=>{if(!g[y.id]&&(g[y.id]=!0,this.hierarchical.childrenReference[y.id])){const S=this.hierarchical.childrenReference[y.id];if(S.length>0)for(let m=0;m<S.length;m++)a(this.body.nodes[S[m]],g)}},u=function(y){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,S=1e9,m=1e9,w=1e9,O=-1e9;for(const I in y)if(Object.prototype.hasOwnProperty.call(y,I)){const _=e.body.nodes[I],E=e.hierarchical.levels[_.id],$=e.direction.getPosition(_),[T,P]=e._getSpaceAroundNode(_,y);S=Math.min(T,S),m=Math.min(P,m),E<=g&&(w=Math.min($,w),O=Math.max($,O))}return[w,O,S,m]},l=(y,g)=>{const S=this.hierarchical.getMaxLevel(y.id),m=this.hierarchical.getMaxLevel(g.id);return Math.min(S,m)},d=(y,g,S)=>{const m=this.hierarchical;for(let w=0;w<g.length;w++){const O=g[w],I=m.distributionOrdering[O];if(I.length>1)for(let _=0;_<I.length-1;_++){const E=I[_],$=I[_+1];m.hasSameParent(E,$)&&m.inSameSubNetwork(E,$)&&y(E,$,S)}}},c=function(y,g){let S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const m=e.direction.getPosition(y),w=e.direction.getPosition(g),O=Math.abs(w-m),I=e.options.hierarchical.nodeSpacing;if(O>I){const _={},E={};a(y,_),a(g,E);const $=l(y,g),T=u(_,$),P=u(E,$),R=T[1],C=P[0],M=P[2];if(Math.abs(R-C)>I){let L=R-C+I;L<-M+I&&(L=-M+I),L<0&&(e._shiftBlock(g.id,L),t=!0,S===!0&&e._centerParent(g))}}},h=(y,g)=>{const S=g.id,m=g.edges,w=this.hierarchical.levels[g.id],O=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,I={},_=[];for(let M=0;M<m.length;M++){const K=m[M];if(K.toId!=K.fromId){const L=K.toId==S?K.from:K.to;I[m[M].id]=L,this.hierarchical.levels[L.id]<w&&_.push(K)}}const E=(M,K)=>{let L=0;for(let J=0;J<K.length;J++)if(I[K[J].id]!==void 0){const Q=this.direction.getPosition(I[K[J].id])-M;L+=Q/Math.sqrt(Q*Q+O)}return L},$=(M,K)=>{let L=0;for(let J=0;J<K.length;J++)if(I[K[J].id]!==void 0){const Q=this.direction.getPosition(I[K[J].id])-M;L-=O*Math.pow(Q*Q+O,-1.5)}return L},T=(M,K)=>{let L=this.direction.getPosition(g);const J={};for(let Q=0;Q<M;Q++){const ae=E(L,K),W=$(L,K),ue=40,me=Math.max(-ue,Math.min(ue,Math.round(ae/W)));if(L=L-me,J[L]!==void 0)break;J[L]=Q}return L},P=M=>{const K=this.direction.getPosition(g);if(r[g.id]===void 0){const ue={};a(g,ue),r[g.id]=ue}const L=u(r[g.id]),J=L[2],Q=L[3],ae=M-K;let W=0;ae>0?W=Math.min(ae,Q-this.options.hierarchical.nodeSpacing):ae<0&&(W=-Math.min(-ae,J-this.options.hierarchical.nodeSpacing)),W!=0&&(this._shiftBlock(g.id,W),t=!0)},R=M=>{const K=this.direction.getPosition(g),[L,J]=this._getSpaceAroundNode(g),Q=M-K;let ae=K;Q>0?ae=Math.min(K+(J-this.options.hierarchical.nodeSpacing),M):Q<0&&(ae=Math.max(K-(L-this.options.hierarchical.nodeSpacing),M)),ae!==K&&(this.direction.setPosition(g,ae),t=!0)};let C=T(y,_);P(C),C=T(y,m),R(C)},f=y=>{let g=this.hierarchical.getLevels();g=Vr(g).call(g);for(let S=0;S<y;S++){t=!1;for(let m=0;m<g.length;m++){const w=g[m],O=this.hierarchical.distributionOrdering[w];for(let I=0;I<O.length;I++)h(1e3,O[I])}if(t!==!0)break}},v=y=>{let g=this.hierarchical.getLevels();g=Vr(g).call(g);for(let S=0;S<y&&(t=!1,d(c,g,!0),t===!0);S++);},p=()=>{for(const y in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,y)&&this._centerParent(this.body.nodes[y])},b=()=>{let y=this.hierarchical.getLevels();y=Vr(y).call(y);for(let g=0;g<y.length;g++){const S=y[g],m=this.hierarchical.distributionOrdering[S];for(let w=0;w<m.length;w++)this._centerParent(m[w])}};this.options.hierarchical.blockShifting===!0&&(v(5),p()),this.options.hierarchical.edgeMinimization===!0&&f(20),this.options.hierarchical.parentCentralization===!0&&b(),n()}_getSpaceAroundNode(e,t){let r=!0;t===void 0&&(r=!1);const n=this.hierarchical.levels[e.id];if(n!==void 0){const o=this.hierarchical.distributionIndex[e.id],s=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[n];let u=1e9,l=1e9;if(o!==0){const d=a[o-1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);u=s-c}}if(o!=a.length-1){const d=a[o+1];if(r===!0&&t[d.id]===void 0||r===!1){const c=this.direction.getPosition(d);l=Math.min(l,c-s)}}return[u,l]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const t=this.hierarchical.parentReference[e.id];for(let r=0;r<t.length;r++){const n=t[r],o=this.body.nodes[n],s=this.hierarchical.childrenReference[n];if(s!==void 0){const a=this._getCenterPosition(s),u=this.direction.getPosition(o),[l,d]=this._getSpaceAroundNode(o),c=u-a;(c<0&&Math.abs(c)<d-this.options.hierarchical.nodeSpacing||c>0&&Math.abs(c)<l-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(o,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var t;let n=Se(e[r]);n=this._indexArrayToNodes(n),Fi(t=this.direction).call(t,n);let o=0;for(let s=0;s<n.length;s++){const a=n[s];if(this.positionedNodes[a.id]===void 0){const u=this.options.hierarchical.nodeSpacing;let l=u*o;o>0&&(l=this.direction.getPosition(n[s-1])+u),this.direction.setPosition(a,l,r),this._validatePositionAndContinue(a,r,l),o++}}}}_placeBranchNodes(e,t){var r;const n=this.hierarchical.childrenReference[e];if(n===void 0)return;const o=[];for(let a=0;a<n.length;a++)o.push(this.body.nodes[n[a]]);Fi(r=this.direction).call(r,o);for(let a=0;a<o.length;a++){const u=o[a],l=this.hierarchical.levels[u.id];if(l>t&&this.positionedNodes[u.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let c;a===0?c=this.direction.getPosition(this.body.nodes[e]):c=this.direction.getPosition(o[a-1])+d,this.direction.setPosition(u,c,l),this._validatePositionAndContinue(u,l,c)}else return}const s=this._getCenterPosition(o);this.direction.setPosition(this.body.nodes[e],s,t)}_validatePositionAndContinue(e,t,r){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[t]!==void 0){const n=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[t]]);if(r-n<this.options.hierarchical.nodeSpacing){const o=n+this.options.hierarchical.nodeSpacing-r,s=this._findCommonParent(this.lastNodeOnLevel[t],e.id);this._shiftBlock(s.withChild,o)}}this.lastNodeOnLevel[t]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,t)}}_indexArrayToNodes(e){const t=[];for(let r=0;r<e.length;r++)t.push(this.body.nodes[e[r]]);return t}_getDistribution(){const e={};let t,r;for(t in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,t)){r=this.body.nodes[t];const n=this.hierarchical.levels[t]===void 0?0:this.hierarchical.levels[t];this.direction.fix(r,n),e[n]===void 0&&(e[n]={}),e[n][t]=r}return e}_getActiveEdges(e){const t=[];return Z(e.edges,r=>{var n;ne(n=this.body.edgeIndices).call(n,r.id)!==-1&&t.push(r)}),t}_getHubSizes(){const e={},t=this.body.nodeIndices;Z(t,n=>{const o=this.body.nodes[n],s=this._getActiveEdges(o).length;e[s]=!0});const r=[];return Z(e,n=>{r.push(Number(n))}),Fi(r).call(r,function(n,o){return o-n}),r}_determineLevelsByHubsize(){const e=(r,n)=>{this.hierarchical.levelDownstream(r,n)},t=this._getHubSizes();for(let r=0;r<t.length;++r){const n=t[r];if(n===0)break;Z(this.body.nodeIndices,o=>{const s=this.body.nodes[o];n===this._getActiveEdges(s).length&&this._crawlNetwork(e,o)})}}_determineLevelsCustomCallback(){const t=function(n,o,s){},r=(n,o,s)=>{let a=this.hierarchical.levels[n.id];a===void 0&&(a=this.hierarchical.levels[n.id]=1e5);const u=t(Je.cloneOptions(n,"node"),Je.cloneOptions(o,"node"),Je.cloneOptions(s,"edge"));this.hierarchical.levels[o.id]=a+u};this._crawlNetwork(r),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const t=lB(e=this.body.nodeIndices).call(e,(r,n)=>(r.set(n,this.body.nodes[n]),r),new o1);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=u7(t):this.hierarchical.levels=a7(t),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(t,r)=>{this.hierarchical.levels[r.id]>this.hierarchical.levels[t.id]&&this.hierarchical.addRelation(t.id,r.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},t=arguments.length>1?arguments[1]:void 0;const r={},n=(o,s)=>{if(r[o.id]===void 0){this.hierarchical.setTreeIndex(o,s),r[o.id]=!0;let a;const u=this._getActiveEdges(o);for(let l=0;l<u.length;l++){const d=u[l];d.connected===!0&&(d.toId==o.id?a=d.from:a=d.to,o.id!=a.id&&(e(o,a,d),n(a,s)))}}};if(t===void 0){let o=0;for(let s=0;s<this.body.nodeIndices.length;s++){const a=this.body.nodeIndices[s];if(r[a]===void 0){const u=this.body.nodes[a];n(u,o),o+=1}}}else{const o=this.body.nodes[t];if(o===void 0){console.error("Node not found:",t);return}n(o)}}_shiftBlock(e,t){const r={},n=o=>{if(r[o])return;r[o]=!0,this.direction.shift(o,t);const s=this.hierarchical.childrenReference[o];if(s!==void 0)for(let a=0;a<s.length;a++)n(s[a])};n(e)}_findCommonParent(e,t){const r={},n=(s,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];s[d]=!0,n(s,d)}},o=(s,a)=>{const u=this.hierarchical.parentReference[a];if(u!==void 0)for(let l=0;l<u.length;l++){const d=u[l];if(s[d]!==void 0)return{foundParent:d,withChild:a};const c=o(s,d);if(c.foundParent!==null)return c}return{foundParent:null,withChild:a}};return n(r,e),o(r,t)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new Z9(this):this.direction=new Q9(this)}_getCenterPosition(e){let t=1e9,r=-1e9;for(let n=0;n<e.length;n++){let o;if(e[n].id!==void 0)o=e[n];else{const a=e[n];o=this.body.nodes[a]}const s=this.direction.getPosition(o);t=Math.min(t,s),r=Math.max(r,s)}return .5*(t+r)}}class c7{constructor(e,t,r,n){var o,s;this.body=e,this.canvas=t,this.selectionHandler=r,this.interactionHandler=n,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Pe(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",D(o=this._restore).call(o,this)),this.body.emitter.on("_resetData",D(s=this._restore).call(s,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,t,r){t!==void 0&&(t.locale!==void 0?this.options.locale=t.locale:this.options.locale=r.locale,t.locales!==void 0?this.options.locales=t.locales:this.options.locales=r.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,he(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,t;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const r=this.selectionHandler.getSelectedNodeCount(),n=this.selectionHandler.getSelectedEdgeCount(),o=r+n,s=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(s),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(s)),r===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(s)):n===1&&r===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(s)),o!==0&&(r>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(s)):r===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(s))),this._bindElementEvents(this.closeDiv,D(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",D(t=this.showManipulatorToolbar).call(t,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var t;const r=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(r),this._createSeperator(),this._createDescription(r.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,D(t=this.toggleEditMode).call(t,this))}this._temporaryBindEvent("click",D(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const t=he({},e.options,!1);if(t.x=e.x,t.y=e.y,this.options.editNode.length===2)this.options.editNode(t,r=>{r!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(r),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,t,r,n,o;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var s;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,D(s=this.toggleEditMode).call(s,this))}this._temporaryBindUI("onTouch",D(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",D(t=this._finishConnect).call(t,this)),this._temporaryBindUI("onDrag",D(r=this._dragControlNode).call(r,this)),this._temporaryBindUI("onRelease",D(n=this._finishConnect).call(n,this)),this._temporaryBindUI("onDragStart",D(o=this._dragStartEdge).call(o,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const s=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(s.from.id,s.to.id);return}if(this.guiEnabled===!0){var e;const s=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(s),this._createSeperator(),this._createDescription(s.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,D(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var t,r,n,o;const s=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(s.from.x,s.from.y),u=this._getNewTargetNode(s.to.x,s.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",D(t=this._controlNodeTouch).call(t,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",D(r=this._controlNodeDragStart).call(r,this)),this._temporaryBindUI("onDrag",D(n=this._controlNodeDrag).call(n,this)),this._temporaryBindUI("onDragEnd",D(o=this._controlNodeDragEnd).call(o,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",l=>{const d=s.edgeType.findBorderPositions(l);a.selected===!1&&(a.x=d.from.x,a.y=d.from.y),u.selected===!1&&(u.x=d.to.x,u.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),t=this.selectionHandler.getSelectedEdgeIds();let r;if(e.length>0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(r=this.options.deleteNode)}else t.length>0&&typeof this.options.deleteEdge=="function"&&(r=this.options.deleteEdge);if(typeof r=="function"){const n={nodes:e,edges:t};if(r.length===2)r(n,o=>{o!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(o.edges),this.body.data.nodes.getDataSet().remove(o.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(t),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,t;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(t=this.options.locales[this.options.locale])===null||t===void 0?void 0:t.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,t){const r=he({},this.options.controlNodeStyle);r.id="targetNode"+Bn(),r.hidden=!1,r.physics=!1,r.x=e,r.y=t;const n=this.body.functions.createNode(r);return n.shape.boundingBox={left:e,right:e,top:t,bottom:t},n}_createEditButton(){var e;this._clean(),this.manipulationDOM={},lr(this.editModeDiv);const t=this.options.locales[this.options.locale],r=this._createButton("editMode","vis-edit vis-edit-mode",t.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(r),this._bindElementEvents(r,D(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(lr(this.editModeDiv),lr(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const t of Zt(e=this._domEventListenerCleanupQueue).call(e,0)){var e;t()}}_removeManipulationDOM(){this._clean(),lr(this.manipulationDiv),lr(this.editModeDiv),lr(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var t;const r=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.addNodeMode).call(t,this))}_createAddEdgeButton(e){var t;const r=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.addEdgeMode).call(t,this))}_createEditNodeButton(e){var t;const r=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.editNode).call(t,this))}_createEditEdgeButton(e){var t;const r=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.editEdgeMode).call(t,this))}_createDeleteButton(e){var t;let r;this.options.rtl?r="vis-delete-rtl":r="vis-delete";const n=this._createButton("delete",r,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,D(t=this.deleteSelected).call(t,this))}_createBackButton(e){var t;const r=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(r),this._bindElementEvents(r,D(t=this.showManipulatorToolbar).call(t,this))}_createButton(e,t,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+t,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=n,this.manipulationDOM[e+"Label"].innerText=r,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,t){this.temporaryEventFunctions.push({event:e,boundFunction:t}),this.body.emitter.on(e,t)}_temporaryBindUI(e,t){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=t;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Po(Se(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const t=this.temporaryEventFunctions[e].event,r=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(t,r)}this.temporaryEventFunctions=[]}_bindElementEvents(e,t){const r=new Ai(e,{});vs(r,t),this._domEventListenerCleanupQueue.push(()=>{r.destroy()});const n=o=>{let{keyCode:s,key:a}=o;(a==="Enter"||a===" "||s===13||s===32)&&t()};e.addEventListener("keyup",n,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",n,!1)})}_cleanupTemporaryNodesAndEdges(){for(let o=0;o<this.temporaryIds.edges.length;o++){var e;this.body.edges[this.temporaryIds.edges[o]].disconnect(),delete this.body.edges[this.temporaryIds.edges[o]];const s=ne(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[o]);if(s!==-1){var t;Zt(t=this.body.edgeIndices).call(t,s,1)}}for(let o=0;o<this.temporaryIds.nodes.length;o++){var r;delete this.body.nodes[this.temporaryIds.nodes[o]];const s=ne(r=this.body.nodeIndices).call(r,this.temporaryIds.nodes[o]);if(s!==-1){var n;Zt(n=this.body.nodeIndices).call(n,s,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Pe({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,t=this.selectionHandler._pointerToPositionObject(e),r=this.body.nodes[this.temporaryIds.nodes[0]],n=this.body.nodes[this.temporaryIds.nodes[1]],o=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const s=r.isOverlappingWith(t),a=n.isOverlappingWith(t);s===!0?(this.selectedControlNode=r,o.edgeType.from=r):a===!0&&(this.selectedControlNode=n,o.edgeType.to=n),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const t=this.body.functions.getPointer(e.center),r=this.canvas.DOMtoCanvas(t);this.selectedControlNode!==void 0?(this.selectedControlNode.x=r.x,this.selectedControlNode.y=r.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t),n=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const o=this.selectionHandler._getAllNodesOverlappingWith(r);let s;for(let a=o.length-1;a>=0;a--)if(o[a]!==this.selectedControlNode.id){s=this.body.nodes[o[a]];break}if(s!==void 0&&this.selectedControlNode!==void 0)if(s.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(s.id,n.to.id):this._performEditEdge(n.from.id,s.id)}else n.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Pe({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const t=this.lastTouch,r=this.selectionHandler.getNodeAt(t);if(r!==void 0)if(r.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const n=this._getNewTargetNode(r.x,r.y);this.body.nodes[n.id]=n,this.body.nodeIndices.push(n.id);const o=this.body.functions.createEdge({id:"connectionEdge"+Bn(),from:r.id,to:n.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[o.id]=o,this.body.edgeIndices.push(o.id),this.temporaryIds.nodes.push(n.id),this.temporaryIds.edges.push(o.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(r);let s;for(let u=o.length-1;u>=0;u--){var a;if(ne(a=this.temporaryIds.nodes).call(a,o[u])===-1){s=this.body.nodes[o[u]];break}}if(e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,t),this.temporaryIds.nodes[0]!==void 0){const u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(t.x),u.y=this.canvas._YconvertDOMtoCanvas(t.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const t=this.body.functions.getPointer(e.center),r=this.selectionHandler._pointerToPositionObject(t);let n;this.temporaryIds.edges[0]!==void 0&&(n=this.body.edges[this.temporaryIds.edges[0]].fromId);const o=this.selectionHandler._getAllNodesOverlappingWith(r);let s;for(let u=o.length-1;u>=0;u--){var a;if(ne(a=this.temporaryIds.nodes).call(a,o[u])===-1){s=this.body.nodes[o[u]];break}}this._cleanupTemporaryNodesAndEdges(),s!==void 0&&(s.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[n]!==void 0&&this.body.nodes[s.id]!==void 0&&this._performAddEdge(n,s.id)),e.controlEdge={from:n,to:s?s.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,t),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const t=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,t,void 0,!0)}_performAddNode(e){const t={id:Bn(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(t,r=>{r!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(t),this.showManipulatorToolbar()}_performAddEdge(e,t){const r={from:e,to:t};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(r,n=>{n!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,t){const r={id:this.edgeBeingEditedId,from:e,to:t,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let n=this.options.editEdge;if(typeof n=="object"&&(n=n.editWithoutDrag),typeof n=="function")if(n.length===2)n(r,o=>{o==null||this.inMode!=="editEdge"?(this.body.edges[r.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(o),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(r),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const A="string",x="boolean",q="number",Dn="array",j="object",fB="dom",h7="any",Tm=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Pm={borderWidth:{number:q},borderWidthSelected:{number:q,undefined:"undefined"},brokenImage:{string:A,undefined:"undefined"},chosen:{label:{boolean:x,function:"function"},node:{boolean:x,function:"function"},__type__:{object:j,boolean:x}},color:{border:{string:A},background:{string:A},highlight:{border:{string:A},background:{string:A},__type__:{object:j,string:A}},hover:{border:{string:A},background:{string:A},__type__:{object:j,string:A}},__type__:{object:j,string:A}},opacity:{number:q,undefined:"undefined"},fixed:{x:{boolean:x},y:{boolean:x},__type__:{object:j,boolean:x}},font:{align:{string:A},color:{string:A},size:{number:q},face:{string:A},background:{string:A},strokeWidth:{number:q},strokeColor:{string:A},vadjust:{number:q},multi:{boolean:x,string:A},bold:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},boldital:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},ital:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},mono:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},__type__:{object:j,string:A}},group:{string:A,number:q,undefined:"undefined"},heightConstraint:{minimum:{number:q},valign:{string:A},__type__:{object:j,boolean:x,number:q}},hidden:{boolean:x},icon:{face:{string:A},code:{string:A},size:{number:q},color:{string:A},weight:{string:A,number:q},__type__:{object:j}},id:{string:A,number:q},image:{selected:{string:A,undefined:"undefined"},unselected:{string:A,undefined:"undefined"},__type__:{object:j,string:A}},imagePadding:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:j,number:q}},label:{string:A,undefined:"undefined"},labelHighlightBold:{boolean:x},level:{number:q,undefined:"undefined"},margin:{top:{number:q},right:{number:q},bottom:{number:q},left:{number:q},__type__:{object:j,number:q}},mass:{number:q},physics:{boolean:x},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:x},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:j,boolean:x}},customScalingFunction:{function:"function"},__type__:{object:j}},shadow:{enabled:{boolean:x},color:{string:A},size:{number:q},x:{number:q},y:{number:q},__type__:{object:j,boolean:x}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:x,array:Dn},borderRadius:{number:q},interpolation:{boolean:x},useImageSize:{boolean:x},useBorderWithImage:{boolean:x},coordinateOrigin:{string:["center","top-left"]},__type__:{object:j}},size:{number:q},title:{string:A,dom:fB,undefined:"undefined"},value:{number:q,undefined:"undefined"},widthConstraint:{minimum:{number:q},maximum:{number:q},__type__:{object:j,boolean:x,number:q}},x:{number:q},y:{number:q},__type__:{object:j}},f7={configure:{enabled:{boolean:x},filter:{boolean:x,string:A,array:Dn,function:"function"},container:{dom:fB},showButton:{boolean:x},__type__:{object:j,boolean:x,string:A,array:Dn,function:"function"}},edges:{arrows:{to:{enabled:{boolean:x},scaleFactor:{number:q},type:{string:Tm},imageHeight:{number:q},imageWidth:{number:q},src:{string:A},__type__:{object:j,boolean:x}},middle:{enabled:{boolean:x},scaleFactor:{number:q},type:{string:Tm},imageWidth:{number:q},imageHeight:{number:q},src:{string:A},__type__:{object:j,boolean:x}},from:{enabled:{boolean:x},scaleFactor:{number:q},type:{string:Tm},imageWidth:{number:q},imageHeight:{number:q},src:{string:A},__type__:{object:j,boolean:x}},__type__:{string:["from","to","middle"],object:j}},endPointOffset:{from:{number:q},to:{number:q},__type__:{object:j,number:q}},arrowStrikethrough:{boolean:x},background:{enabled:{boolean:x},color:{string:A},size:{number:q},dashes:{boolean:x,array:Dn},__type__:{object:j,boolean:x}},chosen:{label:{boolean:x,function:"function"},edge:{boolean:x,function:"function"},__type__:{object:j,boolean:x}},color:{color:{string:A},highlight:{string:A},hover:{string:A},inherit:{string:["from","to","both"],boolean:x},opacity:{number:q},__type__:{object:j,string:A}},dashes:{boolean:x,array:Dn},font:{color:{string:A},size:{number:q},face:{string:A},background:{string:A},strokeWidth:{number:q},strokeColor:{string:A},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:q},multi:{boolean:x,string:A},bold:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},boldital:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},ital:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},mono:{color:{string:A},size:{number:q},face:{string:A},mod:{string:A},vadjust:{number:q},__type__:{object:j,string:A}},__type__:{object:j,string:A}},hidden:{boolean:x},hoverWidth:{function:"function",number:q},label:{string:A,undefined:"undefined"},labelHighlightBold:{boolean:x},length:{number:q,undefined:"undefined"},physics:{boolean:x},scaling:{min:{number:q},max:{number:q},label:{enabled:{boolean:x},min:{number:q},max:{number:q},maxVisible:{number:q},drawThreshold:{number:q},__type__:{object:j,boolean:x}},customScalingFunction:{function:"function"},__type__:{object:j}},selectionWidth:{function:"function",number:q},selfReferenceSize:{number:q},selfReference:{size:{number:q},angle:{number:q},renderBehindTheNode:{boolean:x},__type__:{object:j}},shadow:{enabled:{boolean:x},color:{string:A},size:{number:q},x:{number:q},y:{number:q},__type__:{object:j,boolean:x}},smooth:{enabled:{boolean:x},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:q},forceDirection:{string:["horizontal","vertical","none"],boolean:x},__type__:{object:j,boolean:x}},title:{string:A,undefined:"undefined"},width:{number:q},widthConstraint:{maximum:{number:q},__type__:{object:j,boolean:x,number:q}},value:{number:q,undefined:"undefined"},__type__:{object:j}},groups:{useDefaultGroups:{boolean:x},__any__:Pm,__type__:{object:j}},interaction:{dragNodes:{boolean:x},dragView:{boolean:x},hideEdgesOnDrag:{boolean:x},hideEdgesOnZoom:{boolean:x},hideNodesOnDrag:{boolean:x},hover:{boolean:x},keyboard:{enabled:{boolean:x},speed:{x:{number:q},y:{number:q},zoom:{number:q},__type__:{object:j}},bindToWindow:{boolean:x},autoFocus:{boolean:x},__type__:{object:j,boolean:x}},multiselect:{boolean:x},navigationButtons:{boolean:x},selectable:{boolean:x},selectConnectedEdges:{boolean:x},hoverConnectedEdges:{boolean:x},tooltipDelay:{number:q},zoomView:{boolean:x},zoomSpeed:{number:q},__type__:{object:j}},layout:{randomSeed:{undefined:"undefined",number:q,string:A},improvedLayout:{boolean:x},clusterThreshold:{number:q},hierarchical:{enabled:{boolean:x},levelSeparation:{number:q},nodeSpacing:{number:q},treeSpacing:{number:q},blockShifting:{boolean:x},edgeMinimization:{boolean:x},parentCentralization:{boolean:x},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:j,boolean:x}},__type__:{object:j}},manipulation:{enabled:{boolean:x},initiallyActive:{boolean:x},addNode:{boolean:x,function:"function"},addEdge:{boolean:x,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:j,boolean:x,function:"function"}},deleteNode:{boolean:x,function:"function"},deleteEdge:{boolean:x,function:"function"},controlNodeStyle:Pm,__type__:{object:j,boolean:x}},nodes:Pm,physics:{enabled:{boolean:x},barnesHut:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:j}},forceAtlas2Based:{theta:{number:q},gravitationalConstant:{number:q},centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:j}},repulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},__type__:{object:j}},hierarchicalRepulsion:{centralGravity:{number:q},springLength:{number:q},springConstant:{number:q},nodeDistance:{number:q},damping:{number:q},avoidOverlap:{number:q},__type__:{object:j}},maxVelocity:{number:q},minVelocity:{number:q},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:x},iterations:{number:q},updateInterval:{number:q},onlyDynamicEdges:{boolean:x},fit:{boolean:x},__type__:{object:j,boolean:x}},timestep:{number:q},adaptiveTimestep:{boolean:x},wind:{x:{number:q},y:{number:q},__type__:{object:j}},__type__:{object:j,boolean:x}},autoResize:{boolean:x},clickToUse:{boolean:x},locale:{string:A},locales:{__any__:{any:h7},__type__:{object:j}},height:{string:A},width:{string:A},__type__:{object:j}},vB={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},v7=(i,e,t)=>{var r;return!!(pr(i).call(i,"physics")&&pr(r=vB.physics.solver).call(r,e)&&t.physics.solver!==e&&e!=="wind")};class p7{constructor(){}getDistances(e,t,r){const n={},o=e.edges;for(let a=0;a<t.length;a++){const u=t[a],l={};n[u]=l;for(let d=0;d<t.length;d++)l[t[d]]=a==d?0:1e9}for(let a=0;a<r.length;a++){const u=o[r[a]];u.connected===!0&&n[u.fromId]!==void 0&&n[u.toId]!==void 0&&(n[u.fromId][u.toId]=1,n[u.toId][u.fromId]=1)}const s=t.length;for(let a=0;a<s;a++){const u=t[a],l=n[u];for(let d=0;d<s-1;d++){const c=t[d],h=n[c];for(let f=d+1;f<s;f++){const v=t[f],p=n[v],b=Math.min(h[v],h[u]+l[v]);h[v]=b,p[c]=b}}}return n}}class g7{constructor(e,t,r){this.body=e,this.springLength=t,this.springConstant=r,this.distanceSolver=new p7}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const n=this.distanceSolver.getDistances(this.body,e,t);this._createL_matrix(n),this._createK_matrix(n),this._createE_matrix();const o=.01,s=1;let a=0;const u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),l=5;let d=1e9,c=0,h=0,f=0,v=0,p=0;for(;d>o&&a<u;)for(a+=1,[c,d,h,f]=this._getHighestEnergyNode(r),v=d,p=0;v>s&&p<l;)p+=1,this._moveNode(c,h,f),[v,h,f]=this._getEnergy(c)}_getHighestEnergyNode(e){const t=this.body.nodeIndices,r=this.body.nodes;let n=0,o=t[0],s=0,a=0;for(let u=0;u<t.length;u++){const l=t[u];if(r[l].predefinedPosition!==!0||r[l].isCluster===!0&&e===!0||r[l].options.fixed.x!==!0||r[l].options.fixed.y!==!0){const[d,c,h]=this._getEnergy(l);n<d&&(n=d,o=l,s=c,a=h)}}return[o,n,s,a]}_getEnergy(e){const[t,r]=this.E_sums[e];return[Math.sqrt(t**2+r**2),t,r]}_moveNode(e,t,r){const n=this.body.nodeIndices,o=this.body.nodes;let s=0,a=0,u=0;const l=o[e].x,d=o[e].y,c=this.K_matrix[e],h=this.L_matrix[e];for(let m=0;m<n.length;m++){const w=n[m];if(w!==e){const O=o[w].x,I=o[w].y,_=c[w],E=h[w],$=1/((l-O)**2+(d-I)**2)**1.5;s+=_*(1-E*(d-I)**2*$),a+=_*(E*(l-O)*(d-I)*$),u+=_*(1-E*(l-O)**2*$)}}const f=s,v=a,p=t,b=u,y=r,g=(p/f+y/v)/(v/f-b/v),S=-(v*g+p)/f;o[e].x+=S,o[e].y+=g,this._updateE_matrix(e)}_createL_matrix(e){const t=this.body.nodeIndices,r=this.springLength;this.L_matrix=[];for(let n=0;n<t.length;n++){this.L_matrix[t[n]]={};for(let o=0;o<t.length;o++)this.L_matrix[t[n]][t[o]]=r*e[t[n]][t[o]]}}_createK_matrix(e){const t=this.body.nodeIndices,r=this.springConstant;this.K_matrix=[];for(let n=0;n<t.length;n++){this.K_matrix[t[n]]={};for(let o=0;o<t.length;o++)this.K_matrix[t[n]][t[o]]=r*e[t[n]][t[o]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,t=this.body.nodes;this.E_matrix={},this.E_sums={};for(let r=0;r<e.length;r++)this.E_matrix[e[r]]=[];for(let r=0;r<e.length;r++){const n=e[r],o=t[n].x,s=t[n].y;let a=0,u=0;for(let l=r;l<e.length;l++){const d=e[l];if(d!==n){const c=t[d].x,h=t[d].y,f=1/Math.sqrt((o-c)**2+(s-h)**2);this.E_matrix[n][l]=[this.K_matrix[n][d]*(o-c-this.L_matrix[n][d]*(o-c)*f),this.K_matrix[n][d]*(s-h-this.L_matrix[n][d]*(s-h)*f)],this.E_matrix[d][r]=this.E_matrix[n][l],a+=this.E_matrix[n][l][0],u+=this.E_matrix[n][l][1]}}this.E_sums[n]=[a,u]}}_updateE_matrix(e){const t=this.body.nodeIndices,r=this.body.nodes,n=this.E_matrix[e],o=this.K_matrix[e],s=this.L_matrix[e],a=r[e].x,u=r[e].y;let l=0,d=0;for(let c=0;c<t.length;c++){const h=t[c];if(h!==e){const f=n[c],v=f[0],p=f[1],b=r[h].x,y=r[h].y,g=1/Math.sqrt((a-b)**2+(u-y)**2),S=o[h]*(a-b-s[h]*(a-b)*g),m=o[h]*(u-y-s[h]*(u-y)*g);n[c]=[S,m],l+=S,d+=m;const w=this.E_sums[h];w[0]+=S-v,w[1]+=m-p}}this.E_sums[e]=[l,d]}}function B(i,e,t){var r,n,o,s;if(!(this instanceof B))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:j4,clickToUse:!1},Pe(this.options,this.defaultOptions),this.body={container:i,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:D(r=this.on).call(r,this),off:D(n=this.off).call(n,this),emit:D(o=this.emit).call(o,this),once:D(s=this.once).call(s,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new W4(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new n6,this.canvas=new ZY(this.body),this.selectionHandler=new D9(this.body,this.canvas),this.interactionHandler=new r9(this.body,this.canvas,this.selectionHandler),this.view=new e9(this.body,this.canvas),this.renderer=new GY(this.body,this.canvas),this.physics=new BY(this.body),this.layoutEngine=new d7(this.body),this.clustering=new VY(this.body),this.manipulation=new c7(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new fY(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new DY(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new g7(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(t),this.setData(e)}Hk(B.prototype);B.prototype.setOptions=function(i){if(i===null&&(i=void 0),i!==void 0){if(y4.validate(i,f7)===!0&&console.error("%cErrors have been found in the supplied options object.",B2),mn(["locale","locales","clickToUse"],this.options,i),i.locale!==void 0&&(i.locale=L4(i.locales||this.options.locales,i.locale)),i=this.layoutEngine.setOptions(i.layout,i),this.canvas.setOptions(i),this.groups.setOptions(i.groups),this.nodesHandler.setOptions(i.nodes),this.edgesHandler.setOptions(i.edges),this.physics.setOptions(i.physics),this.manipulation.setOptions(i.manipulation,i,this.options),this.interactionHandler.setOptions(i.interaction),this.renderer.setOptions(i.interaction),this.selectionHandler.setOptions(i.interaction),i.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in i&&(this.configurator||(this.configurator=new p4(this,this.body.container,vB,this.canvas.pixelRatio,v7)),this.configurator.setOptions(i.configure)),this.configurator&&this.configurator.options.enabled===!0){const r={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};he(r.nodes,this.nodesHandler.options),he(r.edges,this.edgesHandler.options),he(r.layout,this.layoutEngine.options),he(r.interaction,this.selectionHandler.options),he(r.interaction,this.renderer.options),he(r.interaction,this.interactionHandler.options),he(r.manipulation,this.manipulation.options),he(r.physics,this.physics.options),he(r.global,this.canvas.options),he(r.global,this.options),this.configurator.setModuleOptions(r)}i.clickToUse!==void 0?i.clickToUse===!0?this.activator===void 0&&(this.activator=new v4(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};B.prototype._updateVisibleIndices=function(){const i=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&!this.clustering._isClusteredNode(t)&&i[t].options.hidden===!1&&this.body.nodeIndices.push(i[t].id);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const r=e[t],n=i[r.fromId],o=i[r.toId],s=n!==void 0&&o!==void 0;!this.clustering._isClusteredEdge(t)&&r.options.hidden===!1&&s&&n.options.hidden===!1&&o.options.hidden===!1&&this.body.edgeIndices.push(r.id)}};B.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};B.prototype.setData=function(i){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),i&&i.dot&&(i.nodes||i.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(i&&i.options),i&&i.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=T4(i.dot);this.setData(e);return}else if(i&&i.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=P4(i.gephi);this.setData(e);return}else this.nodesHandler.setData(i&&i.nodes,!0),this.edgesHandler.setData(i&&i.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};B.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const i in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,i)&&delete this.body.nodes[i];for(const i in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,i)&&delete this.body.edges[i];lr(this.body.container)};B.prototype._updateValueRange=function(i){let e,t,r,n=0;for(e in i)if(Object.prototype.hasOwnProperty.call(i,e)){const o=i[e].getValue();o!==void 0&&(t=t===void 0?o:Math.min(o,t),r=r===void 0?o:Math.max(o,r),n+=o)}if(t!==void 0&&r!==void 0)for(e in i)Object.prototype.hasOwnProperty.call(i,e)&&i[e].setValueRange(t,r,n)};B.prototype.isActive=function(){return!this.activator||this.activator.active};B.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};B.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};B.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};B.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};B.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};B.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};B.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};B.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};B.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};B.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};B.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};B.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};B.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};B.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};B.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};B.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};B.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};B.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};B.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};B.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};B.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};B.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};B.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};B.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};B.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};B.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};B.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};B.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};B.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};B.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};B.prototype.getConnectedNodes=function(i){return this.body.nodes[i]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};B.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};B.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};B.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};B.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};B.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};B.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};B.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};B.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};B.prototype.getNodeAt=function(){const i=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};B.prototype.getEdgeAt=function(){const i=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return i!==void 0&&i.id!==void 0?i.id:i};B.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};B.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};B.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};B.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};B.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};B.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};B.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};B.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};B.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};B.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};B.prototype.getOptionsFromConfigurator=function(){let i={};return this.configurator&&(i=this.configurator.getOptions.apply(this.configurator)),i};let dt=null;const y7=i=>{const e=document.getElementById("topicContainer"),t=document.getElementById("subtopicContainer"),r=document.getElementsByClassName("topicText")[0],n=document.getElementById("stps"),o=document.getElementById("stepsAway"),s=document.getElementById("order"),a=document.getElementById("explorationGraph"),u=document.getElementById("btnDownload"),l=document.getElementById("explorationContainer"),d=document.getElementById("loader");if(i.currTopic!==void 0&&ra([e,n,s,u,l],"visible"),i.isLoading){d.classList.remove("hidden"),ra([e,t,l,a,u,n,s],"hidden");return}else d.classList.add("hidden"),ra([e,t,l,a,u,n,s],"visible");if(i.currTopic===void 0||i.topics.length===0)return;o.textContent=`${i.currTopic}`,r.textContent=i.topics[i.currTopic].title,r.id=`${i.currTopic}`,t.innerHTML="";const c=i.topics[i.currTopic],v=(i.pref==="random"?cj(c.subtopics):c.subtopics).slice(0,i.limit).map(p=>{const b=document.createElement("p");return b.id=p,b.textContent=p,b});t.append(...v),dt?dt.setData({nodes:i.graph.nodes,edges:i.graph.edges}):(dt=new B(a,{nodes:i.graph.nodes,edges:i.graph.edges},{nodes:{color:"#949494",shape:"dot",size:16,widthConstraint:{maximum:75}},physics:{enabled:!0,barnesHut:{gravitationalConstant:-1e3,centralGravity:.5,springLength:70}},interaction:{hover:!0}}),dt.on("beforeDrawing",b=>{const y=b.canvas.width,g=b.canvas.height;b.fillStyle="#fff",b.fillRect(0,0,y,g)}),dt.on("stabilizationIterationsDone",()=>{dt.setSize("100%","100%"),dt.redraw(),dt.fit({animation:!0})}),new ResizeObserver(()=>{dt.setSize("100%","100%"),dt.redraw(),dt.fit()}).observe(a),dt.on("dragEnd",()=>{setTimeout(()=>dt.fit({animation:!0}),100)}))},m7=document.getElementById("inputTopic");document.getElementsByClassName("topicText")[0];document.getElementById("btnExploreTopic");const zF=document.getElementById("toast"),b7=document.getElementById("btnDownload"),_7=document.querySelector(".toast-close"),pB=document.getElementById("tooltipSwitch"),w7=document.getElementById("btnShowSettings"),WF=document.getElementById("settingsModal"),E7=document.getElementById("btnCloseSettings"),S7=rb(Ij,Oj,Ej,Sj,wj,_j),O7=S7.pipe(uj((i,e)=>e.apply(i),hj));O7.subscribe(i=>y7(i));rb(fN,vN).subscribe(i=>{m7.value=""});const I7=()=>{const e=document.getElementById("explorationGraph")?.getElementsByTagName("canvas"),t=e?.[e.length-1],r=document.createElement("canvas");r.width=t.width,r.height=t.height;const n=r.getContext("2d");n.fillStyle="#ffffff",n.fillRect(0,0,r.width,r.height),n.drawImage(t,0,0);const o=r.toDataURL("image/png"),s=document.createElement("a");s.href=o,s.download="wiki-exploration-graph.png",document.body.appendChild(s),s.click(),document.body.removeChild(s)},gB=i=>i=="visible"?WF.classList.remove("hidden"):WF.classList.add("hidden");nt(w7,"click").subscribe(()=>gB("visible"));nt(E7,"click").subscribe(()=>gB("n"));nt(b7,"click").subscribe(I7);if(typeof Storage<"u"){const i=localStorage.getItem("visitedBefore");zF.classList.add("hidden"),i!==null?document.body.classList.add("no-tooltips"):(localStorage.setItem("visitedBefore","true"),console.log("No previous visit detected! Tooltips will be shown."),pB.checked=!document.body.classList.contains("no-tooltips"),zF.classList.remove("hidden"),setTimeout(dN,15e3))}else console.log("DEBUG No web browser local storage support ");nt(_7,"click").subscribe(()=>dN());nt(pB,"change").subscribe(i=>{i.target.checked?(document.body.classList.remove("no-tooltips"),console.log("Tooltips enabled")):(document.body.classList.add("no-tooltips"),console.log("Tooltips disabled"))});
